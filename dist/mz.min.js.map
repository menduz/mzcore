{"version":3,"sources":["/source/mz.ts","mz.min.js","/source/AUTH/JWT.ts","/source/CORE/I18n.ts","/source/CORE/Date.ts","/source/CORE/Promise.ts","/source/CORE/Xr.ts","/source/CORE/Strings.ts","/source/CORE/EventDispatcher.ts","/source/AUTH/OAuth2.ts","/source/CORE/AMD/Require.ts","/source/CORE/AMD/Module.ts","/source/CORE/AMD/Define.ts","/source/CORE/AMD/Setup.ts","/source/CORE/MVCObject.ts","/source/CORE/Collection.ts","/source/CORE/DOM.ts","/source/CORE/DOM/DOM.ts","/source/CORE/DOM/DOM_BrowserImpl.ts","/source/CORE/Decorators.ts","/source/CORE/Reflection.ts","/source/CORE/Route.ts","/source/VIEW/CSS.ts","/source/VIEW/Tmpl.ts","/source/VIEW/Helpers.ts","/source/VIEW/TextNode.ts","/source/VIEW/Widget.ts","/source/VIEW/DIRECTIVES/MzModel.ts","/source/VIEW/DIRECTIVES/MzRaw.ts","/source/VIEW/DIRECTIVES/Visible.ts","/source/VIEW/HtmlSanitizer.ts","/source/VIEW/TSX.ts","/source/WIDGETS/mz-repeat.ts","/source/WIDGETS/mz-switcher.ts"],"names":["this","jQuery","Error","isDef","b","mz","UID","globalContext","Symbol","a","mz.alias","mz.getPath","mz.getElementPosition","c","extend","hasOwnProperty","toString","mz.copy","mz.mapXInto","mz.mapInto","mz.isIterable","mz.trim","mz.getDOMID","mz.genUID","tmp","type","mixed_var","parseInt","base","isNaN","isFinite","val","undefined","toLowerCase","trim","length","intval","theQueryString","$1","$3","$0","key","cosa","datos","datos2","timer","defTimeout","ret","clearTimeout","arguments","thisp","setTimeout","fn","apply","now","cancel","cancelAnimationFrame","requestAnimationFrame","Object","keys","map","r","window","performance","Date","getTime","mz.data","mz.data.order","mz.data.order.null_arriba","mz.data.order.null_abajo","mz.data.order.build","i","elems","null_abajo","campo","null_arriba","invertir","mz.escapeRegExp","mz.loadCss","mz.fnInfo","mz.compileFilter","mz.getWindowSize","mz.globalCallback","mz.buscarArgumentoTipo","mz.auth","mz.auth.jwt","mz.auth.jwt.urlBase64Decode","mz.auth.jwt.decodeToken","mz.auth.jwt.getTokenExpirationDate","mz.auth.jwt.isTokenExpired","mz.単","prototype","add","sInterval","iNum","dTemp","setMilliseconds","getMilliseconds","setSeconds","getSeconds","setMinutes","getMinutes","setHours","getHours","setDate","getDate","setMonth","getMonth","setFullYear","getFullYear","part","substr","mz.date","mz.date.parseObject","mz.date.addFeature","y","getDay","isWeekend","isLeapYear","abbreviated","date","abbrDayNames","dayNames","abbrMonthNames","monthNames","tmpdtm","Math","floor","ceil","getDayOfYear","day","num","addDays","setTime","format","split","join","getMonthName","_zeroPad","substring","mz.date.fromString","s","mz.date.newSyncro","mz.date.sync","mz.date.parse","mz.date.parse.parseJsonDate","mz.date.parse.convertirAFechaHora","mz.date.parse.convertirAFecha","mz.date.add","mz.date.fmt_date","mz.date.fmt_time","mz.date.fmt_date_time","mz.date.toString","mz.date.fmt_duracion","mz.date.parseDuracion","mz.promise","mz.promise.wait","Promise","ok","data","time","mz.promise.yield","mz.promise.nextFrame","mz.promise.parseStringDates","Response","json","result","JSON","parse","error","reject","resolve","mz.res","mz.getParams","mz.xr","opts","copy","xr","defaults","headers","args","xhr","xmlHttpRequest","originalURL","url","fileProtocol","getPath","urlResolve","protocol","raw","dump","call","contains","withCredentials","open","method","params","getParams","addEventListener","Events","READY_STATE_CHANGE","e","readyState","status","getResponseHeader","responseText","console","Message","log","resultado","res","response","load","then","err","ABORT","ERROR","TIMEOUT","header","setRequestHeader","_event","events","bind","send","mz.xr.formatters","x","FormData","stringify","t","obj","push","encodeURIComponent","toISOString","append","mz.xr.xmlHttpRequest","mz.xr.promise","mz.xr.urlResolve","mz.xr.urlIsSameOrigin","mz.xr.urlEncode","document","createElement","href","mz.xr.get","mz.xr.put","mz.xr.post","mz.xr.patch","mz.xr.del","mz.xr.options","sp","String","capitalize","replace","txt","charAt","toUpperCase","setAt","index","character","endsWith","suffix","indexOf","startsWith","prefix","toCamelCase","match","group1","formatted","regexp","RegExp","re","isValidMail","test","mz.EventDispatcherBinding","mz.EventDispatcherBinding.constructor","mz.EventDispatcherBinding.off","mz.EventDispatcher","mz.EventDispatcher.constructor","mz.EventDispatcher.on","callback","cb","mz.EventDispatcher.once","mz.EventDispatcher.off","f","mz.EventDispatcher.emit","mz.oauth2","mz.oauth2.extractDomain","mz.oauth2.tokenGetter","mz.oauth2.setupToken","mz.oauth2.setToken","mz.oauth2.checkRole","mz.oauth2.pushRoles","mz.oauth2.applyAuthorizationHeaders","mz.oauth2.configure","mz.oauth2.refreshToken","mz.oauth2.logout","mz.oauth2.login","mz.oauth2.loggedIn","mz.require","require","elem","count","mz.include","mz.loadModule","bkCM","define","currentModule","module","bkRequire","bkExports","exports","bkModulo","bkDefine","bk単","単","amd","str","eval","loaded","defined","ModuleExports","set","successflag","processResponse","id","mz.require.route","mz.require.defineFiles","route","mz.Module","mz.Module.constructor","mz.Module.getPath","mz.Module.require","mz.Module.define","mz.Module.単","mz.ModuleExports","mz.ModuleExports.constructor","mz.ModuleExports.set","that","dependencias","modules","depsCargadas","deps","mz.undefine","mz.define","reqs","__extends","d","p","__","constructor","create","mz.MVCObject","mz.MVCObject.constructor","mz.MVCObject.getAll","mz.MVCObject.setValues","mz.MVCObject.set","mz.MVCObject.get","mz.MVCObject.proxy","propertyKey","value","__decorate","decorators","target","desc","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","__metadata","k","v","metadata","mz.collection","mz.collection.constructor","mz.collection.first","mz.collection.last","mz.collection.clear","get","mz.collection.length","enumerable","configurable","mz.collection.getLength","mz.collection.setLength","mz.collection.map","mz.collection.forEach","mz.collection.asyncForEach","mz.collection.asyncForEach.sch","start","iterationDurationMs","items","func","shift","sch","mz.collection._indizar","mz.collection._deindizar","mz.collection._reindizar","opciones","__indice__","mz.collection.getAt","mz.collection.reduce","mz.collection.groupBy","g","output","collection","mz.collection.key","mz.collection.insertAt","mz.collection.removeAt","mz.collection.setAt","mz.collection.push","mz.collection.pop","mz.collection.addRange","noTriggerearCadaUno","mz.collection.update","mz.collection.updateByKey","mz.collection.updateIndex","mz.collection.join","mz.collection.sum","out","cant","col","forEach","groupByField","options","filtroCampos","exclude","mz.collection.orderBy","mz.collection.orderByDesc","mz.collection.some","mz.collection.where","mz.collection.removeByKey","mz.collection.remove","remove","salida","mz.collection.single","mz.collection.contains","mz.collection.containsKey","mz.collection.indexOf","mz.collection.lastIndexOf","mz.collection.toArray","mz.collection.clone","mz.collection.indexedGet","mz.collection.indexedGetIndex","mz.collection.mergeElem","mz.collection.max","opc","mz.collection.min","mz.collection.avg","mz.collection.take","mz.collection.takeInto","mz.collection.swapItems","mz.collection.count","gb","grupos","Count","mz.collection.reverse","mz.collection.mergeArray","TypeError","indice","indexedGetIndex","array","updateIndex","added","mz.collection.createView","mz.collection.getPrivateArray","Boolean","mz.collectionView","mz.collectionView.constructor","mz.collectionView._handleChanged","mz.collectionView._remake","mz.collectionView.resort","mz.collectionView.refresh","mz.collectionView.filter","mz.collectionView.orderBy","mz.collectionView.orderByDesc","mz.collectionView.attachTo","noPropagado","clear","trigger","tipo","filter","a2","resort","removeAt","_remake","_handleChanged","mz.collectionView.detach","mz.core","mz.core.dom","mz.core.dom.setRootDomAdapter","mz.core.dom.AbstractDomAdapter","mz.core.dom.GenericBrowserDomAdapter","mz.core.dom.GenericBrowserDomAdapter.constructor","mz.core.dom.GenericBrowserDomAdapter.getDistributedNodes","mz.core.dom.GenericBrowserDomAdapter.resolveAndSetHref","mz.core.dom.GenericBrowserDomAdapter.supportsDOMEvents","mz.core.dom.GenericBrowserDomAdapter.supportsNativeShadowDOM","mz.core.dom.GenericBrowserDomAdapter.getAnimationPrefix","mz.core.dom.GenericBrowserDomAdapter.getTransitionEnd","mz.core.dom.GenericBrowserDomAdapter.supportsAnimation","mz.core.dom.GenericBrowserDomAdapter.getXHR","mz.core.dom.BrowserDomAdapter","mz.core.dom.BrowserDomAdapter.constructor","mz.core.dom.BrowserDomAdapter.parse","mz.core.dom.BrowserDomAdapter.makeCurrent","mz.core.dom.BrowserDomAdapter.hasProperty","mz.core.dom.BrowserDomAdapter.setProperty","mz.core.dom.BrowserDomAdapter.getProperty","mz.core.dom.BrowserDomAdapter.invoke","mz.core.dom.BrowserDomAdapter.logError","mz.core.dom.BrowserDomAdapter.log","mz.core.dom.BrowserDomAdapter.logGroup","mz.core.dom.BrowserDomAdapter.logGroupEnd","mz.core.dom.BrowserDomAdapter.attrToPropMap","mz.core.dom.BrowserDomAdapter.query","mz.core.dom.BrowserDomAdapter.querySelector","mz.core.dom.BrowserDomAdapter.querySelectorAll","mz.core.dom.BrowserDomAdapter.on","mz.core.dom.BrowserDomAdapter.onAndCancel","mz.core.dom.BrowserDomAdapter.dispatchEvent","mz.core.dom.BrowserDomAdapter.createMouseEvent","mz.core.dom.BrowserDomAdapter.createEvent","mz.core.dom.BrowserDomAdapter.preventDefault","mz.core.dom.BrowserDomAdapter.isPrevented","mz.core.dom.BrowserDomAdapter.getInnerHTML","mz.core.dom.BrowserDomAdapter.getOuterHTML","mz.core.dom.BrowserDomAdapter.nodeName","mz.core.dom.BrowserDomAdapter.nodeValue","mz.core.dom.BrowserDomAdapter.type","mz.core.dom.BrowserDomAdapter.content","mz.core.dom.BrowserDomAdapter.firstChild","mz.core.dom.BrowserDomAdapter.nextSibling","mz.core.dom.BrowserDomAdapter.parentElement","mz.core.dom.BrowserDomAdapter.childNodes","mz.core.dom.BrowserDomAdapter.childNodesAsList","mz.core.dom.BrowserDomAdapter.clearNodes","mz.core.dom.BrowserDomAdapter.appendChild","mz.core.dom.BrowserDomAdapter.removeChild","mz.core.dom.BrowserDomAdapter.replaceChild","mz.core.dom.BrowserDomAdapter.remove","mz.core.dom.BrowserDomAdapter.insertBefore","mz.core.dom.BrowserDomAdapter.insertAllBefore","mz.core.dom.BrowserDomAdapter.insertAfter","mz.core.dom.BrowserDomAdapter.setInnerHTML","mz.core.dom.BrowserDomAdapter.getText","mz.core.dom.BrowserDomAdapter.setText","mz.core.dom.BrowserDomAdapter.getValue","mz.core.dom.BrowserDomAdapter.setValue","mz.core.dom.BrowserDomAdapter.getChecked","mz.core.dom.BrowserDomAdapter.setChecked","mz.core.dom.BrowserDomAdapter.createComment","mz.core.dom.BrowserDomAdapter.createTemplate","mz.core.dom.BrowserDomAdapter.createElement","mz.core.dom.BrowserDomAdapter.createElementNS","mz.core.dom.BrowserDomAdapter.createTextNode","mz.core.dom.BrowserDomAdapter.createScriptTag","mz.core.dom.BrowserDomAdapter.createStyleElement","mz.core.dom.BrowserDomAdapter.createShadowRoot","mz.core.dom.BrowserDomAdapter.getShadowRoot","mz.core.dom.BrowserDomAdapter.getHost","mz.core.dom.BrowserDomAdapter.clone","mz.core.dom.BrowserDomAdapter.getElementsByClassName","mz.core.dom.BrowserDomAdapter.getElementsByTagName","mz.core.dom.BrowserDomAdapter.classList","mz.core.dom.BrowserDomAdapter.addClass","mz.core.dom.BrowserDomAdapter.removeClass","mz.core.dom.BrowserDomAdapter.hasClass","mz.core.dom.BrowserDomAdapter.setStyle","mz.core.dom.BrowserDomAdapter.removeStyle","mz.core.dom.BrowserDomAdapter.getStyle","mz.core.dom.BrowserDomAdapter.tagName","mz.core.dom.BrowserDomAdapter.attributeMap","mz.core.dom.BrowserDomAdapter.hasAttribute","mz.core.dom.BrowserDomAdapter.getAttribute","mz.core.dom.BrowserDomAdapter.setAttribute","mz.core.dom.BrowserDomAdapter.setAttributeNS","mz.core.dom.BrowserDomAdapter.removeAttribute","mz.core.dom.BrowserDomAdapter.templateAwareRoot","mz.core.dom.BrowserDomAdapter.createHtmlDocument","mz.core.dom.BrowserDomAdapter.defaultDoc","mz.core.dom.BrowserDomAdapter.getBoundingClientRect","mz.core.dom.BrowserDomAdapter.getTitle","mz.core.dom.BrowserDomAdapter.setTitle","mz.core.dom.BrowserDomAdapter.elementMatches","mz.core.dom.BrowserDomAdapter.isTemplateElement","mz.core.dom.BrowserDomAdapter.isTextNode","mz.core.dom.BrowserDomAdapter.isCommentNode","mz.core.dom.BrowserDomAdapter.isElementNode","mz.core.dom.BrowserDomAdapter.hasShadowRoot","mz.core.dom.BrowserDomAdapter.isShadowRoot","mz.core.dom.BrowserDomAdapter.importIntoDoc","mz.core.dom.BrowserDomAdapter.adoptNode","mz.core.dom.BrowserDomAdapter.getHref","mz.core.dom.BrowserDomAdapter.getEventKey","mz.core.dom.BrowserDomAdapter.getGlobalEventTarget","mz.core.dom.BrowserDomAdapter.getHistory","mz.core.dom.BrowserDomAdapter.getLocation","mz.core.dom.BrowserDomAdapter.getBaseHref","mz.core.dom.BrowserDomAdapter.resetBaseElement","mz.core.dom.BrowserDomAdapter.getUserAgent","mz.core.dom.BrowserDomAdapter.setData","mz.core.dom.BrowserDomAdapter.getData","mz.core.dom.BrowserDomAdapter.getComputedStyle","mz.core.dom.BrowserDomAdapter.requestAnimationFrame","mz.core.dom.BrowserDomAdapter.cancelAnimationFrame","mz.core.dom.BrowserDomAdapter.performanceNow","mz.core.dom.getBaseElementHref","mz.core.dom.relativePath","mz.core.decorators","mz.core.decorators.LogResult","_i","mz.core.decorators.noEnumerable","mz.core.decorators.delayer","descriptor","mz.core.decorators.screenDelayer","theDelayer","delayerID","screenDelayer","originalValue","Reflect.metadata","Reflect.metadata.decorator","Reflect.setObjectSymbol","mz.css","_hoja_estilo","appendTo","buffer","_estilos_guardados","cssNumber","attr","btoa","mz.css.set","mz.css.Stylesheet","mz.css.Stylesheet.constructor","mz.css.Stylesheet.enable","mz.css.Stylesheet.disable","mz.css.Stylesheet.refresh","estilo","mz.css.Stylesheet.set","mz.view","cachedBrackets","orig","source","global","mz.view.tmpl","mz.view.tmpl.internalTmpl","expr","mz.view.tmpl.expr","pair","_","wrap","mz.view.tmpl.wrap","mz.view.tmpl.split","sub","parts","slice","mz.view.tmpl.extract","level","pos","close","matches","mz.getHiddenProp","mz.getTransformTag","mz.widgets","mz.widgets.TextNode","mz.widgets.TextNode.constructor","mz.widgets.TextNode.setup","mz.widgets.TextNode.unmount","mz.widgets.TextNode.refreshScope","mz.widgets.TextNode.returnToPoll","mz.widgets.TextNode.getFromPoll","mz.AttributeDirective","mz.AttributeDirective.constructor","mz.AttributeDirective.unmount","mz.AttributeDirective.value","mz.AttributeDirective.Register","lowerCaseName","attrName","AttributeDirective","directives","warn","mz.delegateRefreshScope","mz.quasiToDom","mz.bindWidgetAttr","widget","attrValue","view","tmpl","observable","scope","mz.domToWidgets","childWidget","node","textContent","component","mz.getChildNodes","mz.getJQueryEventWrapper","eventObject","event","originalEvent","element","rootNode","$element","DOM","jQueryEvent","originalCallback","mz.errorLoadingTemplate","mz.Widget","mz.Widget.constructor","mz.Widget.scope_changed","mz.Widget.setUnwrapedComponent","mz.Widget.generateScopedContent","mz.Widget.attr","mz.Widget.refreshScope","mz.Widget.find","mz.Widget.loadTemplate","mz.Widget.startComponent","mz.Widget.appendChildrens","mz.Widget.setContentSelector","mz.Widget.append","mz.Widget.appendTo","mz.Widget.initAttr","mz.Widget.resize","mz.Widget.unmount","mz.Widget.RegisterComponent","componentName","widgets","nodeName","mz.Widget.IsEmptyTag","mz.Widget.Template","defaultTemplate","template","contentSelector","_contentSelector","mz.Widget.Unwrap","mz.widgets.BaseElement","mz.widgets.BaseElement.constructor","mz.widgets.BasePagelet","mz.widgets.BasePagelet.constructor","mz.widgets.InlinePagelet","mz.widgets.InlinePagelet.constructor","MzModelDirective","_super","MzModelDirective.constructor","MzModelDirective.unmount","MzModelDirective.teardown","MzModelDirective.changed","mz.widgets.MzInput","mz.widgets.MzInput.constructor","MzRawDirective","MzRawDirective.constructor","MzRawDirective.changed","MzVisibleDirective","MzVisibleDirective.constructor","MzVisibleDirective.mount","MzVisibleDirective.unmount","MzVisibleDirective.changed","mz.view.html","mz.view.html.escape","mz.vdom","mz.vdom.createElement","mz.h","mz.widgets.delegateUnmountElement","mz.widgets.delegateRefreshScope","mz.widgets.MzRepeat","mz.widgets.MzRepeat.constructor","mz.widgets.MzRepeat.list_changed","mz.widgets.MzRepeat.unmount","mz.widgets.MzRepeat.ponerElem","mz.widgets.MzRepeat.generateScopedContent","mz.widgets.MzRepeat.detachAllNodes","mz.widgets.MzRepeat.delegateUnmountElements","mz.widgets.MzRepeat.redraw","Function","HTMLElement","Array","MzRepeat","mz.widgets.MzSwitcher","mz.widgets.MzSwitcher.constructor","mz.widgets.MzSwitcher.show","mz.widgets.MzSwitcher.resize","MzSwitcherPanel","Node","MzSwitcher","mz.widgets.MzSwitcherPanel","mz.widgets.MzSwitcherPanel.constructor","mz.widgets.MzSwitcherPanel.show","mz.widgets.MzSwitcherPanel.isVisible"],"mappings":"AAGA,GAA2B,mBAAhBA,MAAKC,OACZ,KAAM,IAAIC,OAAM,qBAGpB,SAAAC,OAAeC,GACXD,MAAmBA,mBAALA,GAQlB,GAAUE,KAAV,SAAUA,GA0BKA,EAAAA,cAAsBA,QAAmCA,mBAAVA,SAAyBA,OAKnFA,WACI,GAAIC,GAAM,CACVD,GAAAE,cAAcC,OAASH,EAAAE,cAAcC,QAAU,SAASC,GACpD,MAAO,KAAKA,EAAC,IAAIH,KAAK,SAInBD,EAAAA,OAAUA,OAAeA,QAA8DA,OAApDA,OAAOA,SAASA,OAAOA,MAAMA,kBAE3EA,IACUA,GAAYA,EAAGA,EAAIA,EAAWA,EADpCA,EAAUA,SAASA,qBAAqBA,UAExCA,GAASA,CAGbA,KAAKA,EAAIA,EAAGA,EAAKA,EAAQA,OAAYA,EAAJA,EAAQA,IAKrCA,GAJAA,EAAYA,EAAQA,GAAGA,IAEvBA,EAAQA,EAAUA,MAAMA,sBAEbA,CACqCA,OAAxCA,EAAUA,MAAMA,sBAChBA,GAASA,GAGbA,EAAaA,EAAUA,UAAUA,EAAGA,EAAUA,QAAQA,EAAMA,IAC5DA,OAIGA,EAAAA,WAAaA,GAGbA,EAAAA,WAAaA,GAAcA,IAAIA,WAEhBA,MAAzBA,EAAAA,UAAUA,OAAOA,MAAiBA,EAAAA,WAAaA,IAKhDA,SAAAA,GAAsBA,EAAOA,GACJK,MAApBA,EAAKA,OAAOA,MAAiBA,GAAQA,KACtCA,EAAaA,GAASA,EAFVL,EAAAA,MAAKA,CAKrBA,IAAIA,IACAA,GAAIA,EAAAA,UAGRA,SAAAA,GAAwBA,EAAcA,GAClCM,GAAIA,GAAKA,EACLA,EAAQA,KACRA,EAAOA,GAAQA,EAAAA,SAInBA,OAFqBA,MAApBA,EAAKA,OAAOA,MAAiBA,GAAQA,KAElCA,GACyBA,KAArBA,EAAKA,OAAOA,EAAGA,IAAyCA,KAA3BA,EAAKA,EAAKA,QAAQA,QAAgBA,EAAQA,EAAKA,OAAOA,EAAGA,EAAKA,KAAOA,EAAaA,eAAeA,KAC9HA,EAAOA,EAAKA,QAAQA,IAAMA,EAAQA,IAAKA,EAAaA,KAGjDA,EAAKA,OAAOA,EAAGA,KAAQA,KAAMA,EAAGA,KAAMA,GAAMA,EAAOA,EAAKA,OAAOA,GAAKA,GAGxEA,EAfKN,EAAAA,QAAOA,CAsBvBA,SAAAA,GAAmCA,GAE/BO,GAAIA,GAAmBA,CAEnBA,aAAmBA,UACnBA,EAAMA,EAAQA,GAElBA,IAAIA,GAAIA,EACJA,EAAIA,CAGRA,IAAIA,EASAA,IARAA,EAAIA,EAAIA,WACRA,EAAIA,EAAIA,UAERA,EAAMA,EAAIA,aAKIA,MAAPA,GACHA,GAASA,EAAJA,GAASA,EAAIA,WAAaA,EAC/BA,GAASA,EAAJA,GAASA,EAAIA,UAAYA,EAC9BA,EAAMA,EAAIA,YAGlBA,QACIA,EAAGA,EACHA,EAAGA,GA5BKP,EAAAA,mBAAkBA,EAgCrBA,EAAAA,QAAUA,aAEVA,EAAAA,QAAUA,SAASA,EAAGA,GAC/BD,EAAIA,MACJS,EAAIA,KAEJ,SAAAC,GAAgBL,EAAGL,GACfU,IAAKA,GAAIA,KAAKA,GACVA,EAAEA,GAAKA,EAAEA,EAEbA,OAAOA,GAOX,MAJAV,GAAIU,EAAOV,EAAGS,GAEVA,EAAEE,gBAAkBF,EAAEE,eAAe,aAAqC,mBAAdF,GAAEG,UAA6BZ,EAAEY,WAAaH,EAAEG,WAC5GZ,EAAEY,SAAWH,EAAEG,UACZZ,EAsBXC,SAAAA,GAAwBA,GACpBY,GAAIA,GAAOA,UAAUA,MAErBA,IAAIA,UAAUA,OAASA,EAAGA,CACtBA,IAAKA,GAAIA,GAAIA,EAAGA,EAAIA,UAAUA,OAAQA,IAClCA,EAAOA,EAAAA,QAAQA,EAAMA,UAAUA,GAEnCA,OAAOA,GAGXA,MAAwBA,IAApBA,UAAUA,OACHA,EAAAA,WAAYA,UAAUA,IAG1BA,EAdKZ,EAAAA,KAAIA,CAkBpBA,SAAAA,GAAyBA,EAAuBA,GCxF5C,IDwF0Da,GAAAA,MAAAA,EAAAA,EAAAA,EAAAA,UAAAA,OAAAA,IAAAA,EAAAA,EAAAA,GAAAA,UAAAA,EAC1DA,IAAIA,UAAUA,OACVA,IAAKA,GAAIA,GAAIA,EAAGA,EAAIA,UAAUA,OAAQA,IAClCA,IAAKA,GAAIA,KAAQA,GACTA,UAAUA,IAAOA,EAAYA,IAASA,WAAUA,KAChDA,EAAQA,EAAYA,IAASA,UAAUA,GAAGA,EAAYA,IAKtEA,OAAOA,GAVKb,EAAAA,SAAQA,CAaxBA,SAAAA,GAAwBA,GCpFpB,IDoFkCc,GAAAA,MAAAA,EAAAA,EAAAA,EAAAA,UAAAA,OAAAA,IAAAA,EAAAA,EAAAA,GAAAA,UAAAA,EAClCA,IAAIA,GAAaA,MAAMA,UAAUA,MAAMA,KAAKA,UAE5CA,OADAA,GAAWA,QAAQA,OAAOA,KAAKA,IACxBA,EAASA,MAAMA,KAAMA,GAHhBd,EAAAA,QAAOA,CAMvBA,SAAAA,GAA2BA,GACvBe,MAAKA,IAAkBA,gBAALA,GAGdA,YAAcA,IAAqBA,mBAAhBA,EAAEA,YACdA,EAELA,UAAYA,KAGdA,YAAaA,QAAUA,UAAYA,IAAOA,QAAUA,IAAKA,OAASA,KAC3DA,GAHAA,GANAA,EAFCf,EAAAA,WAAUA,CAe1BA,SAAAA,GAAqBA,GACjBgB,IACIA,MAAOA,QAAOA,EAAKA,YAAYA,OACjCA,MAAOA,GACLA,MAAOA,IAJChB,EAAAA,KAAIA,CAQpBA,IAAIA,GAAgBA,CAEpBA,SAAAA,KACIiB,MAAOA,WAAcA,IADTjB,EAAAA,SAAQA,CAIxBA,SAAAA,KACIkB,MAAQA,KADIlB,EAAAA,OAAMA,EAITA,EAAAA,OAASA,EAAGA,cAAcA,OAASA,SAASA,EAAWA,GAChE,GAAImB,GAEAC,QAAc,EAElB,OAAa,YAATA,GACQC,EACQ,WAATD,GACPD,EAAMG,SAASD,EAAWE,GAAQ,IAC1BC,MAAML,KAASM,SAASN,GAAQ,EAAIA,GAC5B,WAATC,GAAqBK,SAASJ,GAClB,EAAZA,EAEA,GAIfrB,QAAQA,IAAIA,2DAECA,EAAAA,MAAQA,EAAGA,cAAcA,MAAQA,SAASA,GACnD,IAAK0B,GAAc,MAAPA,GAAsBC,QAAPD,EACvB,OAAO,CAEX,IAAkB,gBAAPA,GAAiB,CACxB,GAAyB,SAArBA,EAAIE,cACJ,OAAO,CACX,IAAyB,KAArBF,EAAIE,cACJ,OAAO,CACX,IAAIF,EAAIG,OAAOC,OACX,OAAO,EAGf,MAAmB,IAAf9B,EAAA+B,OAAOL,IACA,GAEJ,EAGX1B,IAAIA,KAEJA,QAAOA,UAAYA,OAAOA,SAASA,OAAOA,WAAWA,QACjDA,GAAIA,QAAOA,uBAAwBA,KACnCA,SAASA,EAAIA,EAAIA,EAAIA,GAEjB,MADAgC,GAAeC,GAAMC,EACdC,IAUFnC,EAAAA,YAAcA,SAASA,GAChC,MAAIoC,KAAOJ,GACAA,EAAeI,GACnB,MASEpC,EAAAA,SAAWA,SAASA,EAAMA,EAAOA,GAC1C,MAAmB,kBAARqC,KACEA,EAAKC,EAAOC,KAChBF,GASArC,EAAAA,WAAaA,SAASA,EAAMA,EAAOA,GAC5C,GAAmB,kBAARqC,GAAoB,CAC3B,GAAIjC,GAAIiC,EAAKC,EAAOC,EACpB,OAAS,OAALnC,EAAkB,GAAKA,EACpB,GAEX,MAAO,GAAKN,MAAMuC,IAAkB,OAATA,EAAgBA,EAAO,IASzCrC,EAAAA,QAAUA,SAASA,EAAMA,EAAOA,GACzC,MAAmB,kBAARqC,GACAA,EAAKC,EAAOC,GAChBF,GAWErC,EAAAA,QAAUA,SAAaA,EAAOA,EAAoBA,GAC3D,GAAIwC,GAAQ,IACZC,GAAaA,GAAc,EAE3B,IAAIC,GAGA,WACAF,GAASG,aAAaH,EACtB,IAAIpC,GAAIwC,SAMR,OALAC,GAAQA,GAASlD,KACjB6C,EAAQM,WAAW,WACdC,EAAWC,MAAMH,GAAS,KAAMzC,GACjCoC,EAAQ,MACTC,GAeP,OAXAC,GAAIO,IAAM,WAGN,MAFAT,IAASG,aAAaH,GACtBA,EAAQ,KACAO,EAAWC,MAAMH,GAAS,KAAMD,YAG5CF,EAAIQ,OAAS,WACTV,GAASG,aAAaH,GACtBA,EAAQ,MAGLE,GAUE1C,EAAAA,cAAgBA,SAAaA,EAAOA,GAC7C,GAAIwC,GAAQ,KAERE,EAGA,WACAF,GAASW,qBAAqBX,EAC9B,IAAIpC,GAAIwC,SAMR,OALAC,GAAQA,GAASlD,KACjB6C,EAAQY,sBAAsB,WACzBL,EAAWC,MAAMH,GAAS,KAAMzC,GACjCoC,EAAQ,OAgBhB,OAXAE,GAAIO,IAAM,WAGN,MAFAT,IAASW,qBAAqBX,GAC9BA,EAAQ,KACAO,EAAWC,MAAMH,GAAS,KAAMD,YAG5CF,EAAIQ,OAAS,WACTV,GAASW,qBAAqBX,GAC9BA,EAAQ,MAGLE,GAGE1C,EAAAA,SAAWA,SAASA,GAC7B,MAAOqD,QAAOC,KAAKlD,EAAE,IAAImD,IAAI,SAAS/C,GAClC,MAAOJ,GAAEmD,IAAI,SAASC,GAClB,MAAOA,GAAEhD,QAWRR,EAAAA,IAAMA,eAAiBA,SAAUA,OAAOA,YAAYA,IAC7DA,WACI,MAAOyD,QAAOC,YAAYT,OAE9BjD,WACI,OAAO,GAAK2D,OAAQC,WAGf5D,EAAAA,WAAaA,qFAEbA,EAAAA,aAAeA,IAE5BA,IAAiBA,IAAjBA,SAAiBA,GAAK6D,GAAAA,IAAAA,SAAAA,GAElBC,QAAAA,GAA4BA,EAAGA,EAAGA,GAC9BC,GAAIA,KAAeA,IAASA,KAAkBA,MAAZA,EAAEA,GAChCA,IAAeA,IAASA,KAAkBA,MAAZA,EAAEA,EAEpCA,OAAIA,IAAcA,EACVA,EACOA,GAEJA,EAGOA,GAAdA,GAAsBA,EAAEA,IAAUA,EAAEA,GAC7BA,EAEqBA,IAAvBA,EAAEA,GAASA,EAAEA,IAAcA,EAdxBD,EAAAA,YAAWA,CAgB3BA,SAAAA,GAA2BA,EAAGA,EAAGA,GAC7BE,GAAIA,KAAeA,IAASA,KAAkBA,MAAZA,EAAEA,GAChCA,IAAeA,IAASA,KAAkBA,MAAZA,EAAEA,EAEpCA,OAAIA,IAAcA,EACVA,EACOA,EAEJA,GAGOA,GAAdA,GAAsBA,EAAEA,IAAUA,EAAEA,GAC7BA,EAEqBA,IAAvBA,EAAEA,GAASA,EAAEA,IAAcA,EAdxBF,EAAAA,WAAUA,CAgB1BA,SAAAA,GAAsBA,GAClBG,GAAoBA,kBAATA,GAAqBA,MAAOA,EAEvCA,IAAIA,GAAaA,KAAKA,WAClBA,EAAcA,KAAKA,WAEvBA,IAAoBA,gBAATA,GAAmBA,CAC1BA,EAAQA,EAAMA,MAAMA,IACpBA,KAAKA,GAAIA,KAAKA,GAAOA,CACjBA,EAAMA,GAAKA,EAAGA,KAAKA,EAAMA,GACzBA,IAAIA,GAAIA,EAAMA,GAAGA,aAEbA,oBAAmBA,KAAKA,KACxBA,EAAMA,IACFA,SAAUA,WAAWA,KAAKA,GAC1BA,MAAOA,EAAMA,GAAGA,QAAQA,mBAAoBA,OAM5DA,MAAOA,UAASA,EAAGA,GACf,GAAI9C,GAAM,CAEV,KAAK,GAAI+C,KAAKC,GAYV,GAXuB,gBAAZA,GAAMD,GACb/C,EAAMiD,EAAWhE,EAAGL,EAAGoE,EAAMD,KAGzB/C,EADAgD,EAAMD,GAAGE,WACHA,EAAWhE,EAAGL,EAAGoE,EAAMD,GAAGG,OAE1BC,EAAYlE,EAAGL,EAAGoE,EAAMD,GAAGG,OAEjCF,EAAMD,GAAGK,WACTpD,GAAO,KAEJ,GAAPA,EACA,MAAOA,EAGf,OAAOA,IAxCC2C,EAAAA,MAAKA,GAlCHD,EAAAA,EAAAA,QAAAA,EAAAA,YAAL7D,EAAAA,EAAAA,OAAAA,EAAAA,UAiFNA,EAAAA,iBAEXA,SAAAA,GAA6BA,GACzBwE,MAAOA,GAAIA,QAAQA,sCAAuCA,QAD9CxE,EAAAA,aAAYA,CAI5BA,IAAIA,KAEJA,SAAAA,GAAwBA,GAGpByE,GAFAA,EAAMA,EAAQA,GAEVA,IAAOA,GAAaA,MAAOA,GAAYA,EAE3CA,IACIA,GAAGA,EADHA,EAAUA,SAASA,qBAAqBA,OAG5CA,KAAKA,EAAIA,EAAGA,EAAKA,EAAQA,OAAYA,EAAJA,EAAQA,IACrCA,GAAsBA,cAAlBA,EAAQA,GAAGA,KAAuBA,EAAQA,GAAGA,KAAKA,MAAMA,KAAKA,IAAMA,EAAKA,MAGhFA,IAAIA,oBAAsBA,UACtBA,MAAOA,GAAYA,GAAQA,SAAiBA,iBAAiBA,EAE7DA,IAAIA,GAAQA,EAAEA,gCAAkCA,EAAMA,uBAItDA,OAFAA,GAAMA,SAASA,EAAEA,SAEVA,EAAYA,GAAOA,EAnBlBzE,EAAAA,QAAOA,CAuBvBA,SAAAA,GAAuBA,GACnB0E,GAAIA,GAAUA,2CACVA,EAAUA,EAAGA,WAAWA,MAAMA,EAClCA,QACIA,OAAQA,EAAQA,GAAGA,MAAMA,KACzBA,KAAMA,EAAQA,IALN1E,EAAAA,OAAMA,CAStBA,SAAAA,GAAiCA,GAC7B2E,GAAIA,GAAaA,EAAOA,GAEpBA,EAAaA,EAAWA,KACvBA,QAAQA,qBAAsBA,2BAC9BA,QAAQA,oBAAqBA,iDAC7BA,QAAQA,qBAAsBA,6DAE/BA,GAEAA,wCACAA,+BACAA,cACAA,2DACAA,wBACAA,aACAA,KACAA,oBAEFA,KAAKA,GAEPA,GAAMA,EAAIA,QAAQA,eAAgBA,GAClCA,EAAMA,EAAIA,QAAQA,aAAcA,EAAWA,OAAOA,IAClDA,EAAMA,EAAIA,QAAQA,aAAcA,EAAWA,OAAOA,GAElDA,IAAIA,GAAUA,GAAIA,UAASA,eAAgBA,EAE3CA,OADAA,GAAGA,YAAcA,EAAGA,KAAOA,iBACpBA,EA3BK3E,EAAAA,cAAaA,CA8B7BA,SAAAA,KACI4E,GAAIA,GAAOA,IACPA,EAAOA,GAcXA,OAbIA,UAASA,MAAQA,SAASA,KAAKA,cAC/BA,EAAOA,SAASA,KAAKA,YACrBA,EAAOA,SAASA,KAAKA,cAEEA,cAAvBA,SAASA,YAA8BA,SAASA,iBAAmBA,SAASA,gBAAgBA,cAC5FA,EAAOA,SAASA,gBAAgBA,YAChCA,EAAOA,SAASA,gBAAgBA,cAEhCA,OAAOA,YAAcA,OAAOA,cAC5BA,EAAOA,OAAOA,WACdA,EAAOA,OAAOA,cAIdA,MAAOA,EACPA,OAAQA,GAlBA5E,EAAAA,cAAaA,CAuB7BA,IAAIA,GAAMA,CACVA,SAAAA,GAA+BA,GAG3B6E,MAFAA,KACAA,EAAGA,KAAOA,GAAOA,EACVA,QAAUA,EAHL7E,EAAAA,eAAcA,CAM9BA,SAAAA,GAAoCA,EAAMA,GACtC8E,GAAIA,GAAOA,GAAQA,UAAUA,OAAOA,OAAOA,SAC3CA,IAAmBA,gBAARA,IACPA,IAAKA,GAAIA,KAAKA,GACVA,SAAWA,GAAKA,IAAMA,EAClBA,MAAOA,GAAKA,OAGjBA,IAAmBA,kBAARA,GACdA,IAAKA,GAAIA,KAAKA,GACVA,GAAIA,EAAKA,YAAcA,GACnBA,MAAOA,GAAKA,GAXZ9E,EAAAA,oBAAmBA,GAlnB7BA,KAAAA,OEdV,IAAUA,KAAV,SAAUA,GAAGA,GAAAA,IAAAA,SAAAA,GAAK+E,GAAAA,IAAAA,SAAAA,GACZC,QAAAA,GAAgCA,GAC1BC,GAAIA,GAASA,EAAIA,QAAQA,KAAMA,KAAKA,QAAQA,KAAMA,IAClDA,QAAQA,EAAOA,OAASA,GAClBA,IAAKA,GAAKA,KACVA,KAAKA,GAAKA,GAAUA,IAAMA,MAC1BA,KAAKA,GAAKA,GAAUA,GAAKA,MACzBA,SACMA,KAAMA,4BAGlBA,MAAOA,GAAGA,cAAcA,mBAAmBA,EAAGA,cAAcA,OAAOA,EAAGA,cAAcA,KAAKA,KAV/ED,EAAAA,gBAAeA,CAa/BA,SAAAA,GAA4BA,GACtBE,GAAIA,GAAQA,EAAMA,MAAMA,IAExBA,IAAqBA,IAAjBA,EAAMA,OACJA,KAAMA,IAAIA,OAAMA,wBAGtBA,IAAIA,GAAUA,EAAgBA,EAAMA,GACpCA,KAAKA,EACCA,KAAMA,IAAIA,OAAMA,0BAGtBA,OAAOA,MAAKA,MAAMA,GAZRF,EAAAA,YAAWA,CAe3BA,SAAAA,GAAuCA,GACjCG,GAAIA,GAAUA,EAAYA,EAE1BA,IAA2BA,mBAAhBA,GAAQA,IACbA,MAAOA,KAGbA,IAAIA,GAAIA,GAAIA,MAAKA,EAGjBA,OAFAA,GAAEA,cAAcA,EAAQA,KAEjBA,EAVGH,EAAAA,uBAAsBA,CAatCA,SAAAA,GAA+BA,EAAeA,GACxCI,GAAIA,GAAIA,EAAuBA,EAE/BA,OADAA,GAAgBA,GAAiBA,EACvBA,OAANA,GACSA,IAIJA,EAAEA,WAAaA,GAAIA,OAAOA,UAA6BA,IAAhBA,GARtCJ,EAAAA,eAAcA,GA1ClBD,EAAAA,EAAAA,MAAAA,EAAAA,UAAL/E,EAAAA,EAAAA,OAAAA,EAAAA,WAAHA,KAAAA,OCAV,IAAOA,KAAP,SAAOA,GAUHA,GAAIA,GAAgBA,EAAKA,WAErBA,EAASA,EAAAA,cAAcA,OAASA,EAAAA,cAAcA,WAE9CA,KAEAA,EAA2BA,SAAYA,EAAqBA,GAC5DqF,KAAQA,IAAeA,IAAWA,CAC9BA,GAAKA,IAAeA,GAChBA,MAAOA,GAAOA,GAAeA,EAAOA,EAChCA,KAAeA,KACZA,EAAKA,QAAUA,QAAQA,KAAMA,MAAQA,EAAaA,GACzDA,EAAyBA,GAAeA,GAAgBA,EACxDA,EAAOA,GAAeA,GAAgBA,GAG9CA,MAAOA,GAAOA,GAGlBrF,GAAUA,UAAYA,EACtBA,EAAUA,OAASA,EAERA,EAAAA,EAAIA,EAAAA,cAAcA,EAAIA,GAhC9BA,KAAAA,QC6BP2D,KAAK2B,UAAUC,IAAM,SAASC,EAAWC,GACrC,GAAIC,GAAQ/F,IACZ,KAAK6F,GAAqB,GAARC,EAAW,MAAOC,EACpC,QAAQF,EAAU5D,eACd,IAAK,KACD8D,EAAMC,gBAAgBD,EAAME,kBAAoBH,EAChD,MACJ,KAAK,IACL,IAAK,KACDC,EAAMG,WAAWH,EAAMI,aAAeL,EACtC,MACJ,KAAK,KACL,IAAK,IACL,IAAK,KACDC,EAAMK,WAAWL,EAAMM,aAAeP,EACtC,MACJ,KAAK,IACL,IAAK,KACDC,EAAMO,SAASP,EAAMQ,WAAaT,EAClC,MACJ,KAAK,IACL,IAAK,KACDC,EAAMS,QAAQT,EAAMU,UAAYX,EAChC,MACJ,KAAK,KACDC,EAAMW,SAASX,EAAMY,WAAab,EAClC,MACJ,KAAK,IACL,IAAK,OACDC,EAAMa,YAAYb,EAAMc,cAAgBf,GAGhD,MAAOC,IAGX/B,KAAK2B,UAAUmB,KAAO,SAASjB,GAC3B,GAAIE,GAAQ/F,IACZ,KAAK6F,EAAW,MAAOE,EACvB,QAAQF,EAAU5D,eACd,IAAK,KACD,OAAQ,OAAU8D,EAAME,kBAAkBjF,YAAa+F,OAAO,GAClE,KAAK,IACL,IAAK,KACD,OAAQ,KAAQhB,EAAMI,aAAcnF,YAAY+F,OAAO,GAC3D,KAAK,KACL,IAAK,IACL,IAAK,KACD,OAAQ,KAAQhB,EAAMM,aAAcrF,YAAY+F,OAAO,GAC3D,KAAK,IACL,IAAK,KACD,OAAQ,KAAQhB,EAAMQ,WAAYvF,YAAY+F,OAAO,GACzD,KAAK,IACL,IAAK,KACD,OAAQ,KAAQhB,EAAMU,UAAWzF,YAAY+F,OAAO,GACxD,KAAK,KACD,OAAQ,MAAQhB,EAAMY,WAAa,GAAG3F,YAAY+F,OAAO,GAC7D,KAAK,IACL,IAAK,OACD,MAAOhB,GAAMc,cAAc7F,WAEnC,MAAO6E,GAKX,IAAUxF,KAAV,SAAUA,GAAGA,GAAAA,IAAAA,SAAAA,GAET2G,GAAIA,GAAgBA,yCAEpBA,SAAAA,GAA+BA,GAG3BC,GAAmBA,gBAARA,GAAkBA,CACzBA,GAAIA,EAGAA,GADAA,YAAgBA,YAKpBA,KAAKA,GAAIA,KAAKA,GACVA,GAAsBA,gBAAXA,GAAKA,GACZA,GAA6BA,WAAzBA,EAAKA,GAAGA,OAAOA,EAAGA,IAA0CA,OAAvBA,EAAKA,GAAGA,OAAOA,IACpDA,EAAIA,GAAKA,EAAMA,EAAKA,QACjBA,IAA8BA,MAA1BA,EAAKA,GAAGA,OAAOA,GAAIA,IAAeA,EAAKA,GAAGA,OAASA,IAAOA,EAAcA,KAAKA,EAAKA,IAAKA,CAC9FA,GAAIA,GAAIA,GAAIA,MAAKA,EAAKA,GACjBA,OAAMA,GAGPA,EAAIA,GAAKA,EAAKA,GAFdA,EAAIA,GAAKA,MAIbA,GAAIA,GAAKA,EAAKA,OAGdA,GAAGA,WAAWA,EAAKA,IACnBA,EAAIA,GAAKA,EAAYA,EAAKA,IAE1BA,EAAIA,GAAKA,EAAKA,EAI1BA,OAAOA,GAEXA,MAAOA,GAlCKD,EAAAA,YAAWA,EAgDhBA,EAAAA,SAAWA,EAAAA,EAAEA,YAAaA,wDAAwDA,MAAMA,KAYxFA,EAAAA,aAAeA,EAAAA,EAAEA,gBAAiBA,+BAA+BA,MAAMA,KAYvEA,EAAAA,WAAaA,EAAAA,EAAEA,cAAeA,4FAA4FA,MAAMA,KAYhIA,EAAAA,eAAiBA,EAAAA,EAAEA,kBAAmBA,mDAAmDA,MAAMA,KAU/FA,EAAAA,eAAiBA,EAUjBA,EAAAA,OAASA,EAAAA,EAAEA,cAAeA,cAc1BA,EAAAA,cAAgBA,IAU3BA,SAAAA,GAAoBA,EAAMA,GACjBE,KAAKA,UAAUA,KAChBA,KAAKA,UAAUA,GAAQA,GAe/BF,EAAWA,aAAcA,WACrB,GAAIG,GAAInH,KAAK6G,aACb,OAAQM,GAAI,GAAK,GAAKA,EAAI,KAAO,GAAMA,EAAI,KAAO,IActDH,EAAWA,YAAaA,WACpB,MAAwB,IAAjBhH,KAAKoH,UAAkC,GAAjBpH,KAAKoH,WActCJ,EAAWA,YAAaA,WACpB,OAAQhH,KAAKqH,cAcjBL,EAAWA,iBAAkBA,WACzB,OAAQ,GAAKhH,KAAKsH,aAAe,GAAK,GAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAAItH,KAAK2G,cAmB5FK,EAAWA,aAAcA,SAASA,GAC9B,MAAOO,GAAclH,EAAGmH,KAAKC,aAAazH,KAAKoH,UAAY/G,EAAGmH,KAAKE,SAAS1H,KAAKoH,YAmBrFJ,EAAWA,eAAgBA,SAASA,GAChC,MAAOO,GAAclH,EAAGmH,KAAKG,eAAe3H,KAAK2G,YAActG,EAAGmH,KAAKI,WAAW5H,KAAK2G,cAc3FK,EAAWA,eAAgBA,WACvB,GAAIa,GAAS,GAAI7D,MAAK,OAAShE,KAAK6G,cACpC,OAAOiB,MAAKC,OAAO/H,KAAKiE,UAAY4D,EAAO5D,WAAa,SAc5D+C,EAAWA,gBAAiBA,WACxB,MAAOc,MAAKE,KAAKhI,KAAKiI,eAAiB,KAe3CjB,EAAWA,eAAgBA,SAASA,GAGhC,MAFAhH,MAAK0G,SAAS,GACd1G,KAAKwG,QAAQ0B,GACNlI,OAeXgH,EAAWA,WAAYA,SAASA,GAE5B,MADAhH,MAAK4G,YAAY5G,KAAK6G,cAAgBsB,GAC/BnI,OAeXgH,EAAWA,YAAaA,SAASA,GAC7B,GAAIa,GAAS7H,KAAKyG,SAOlB,OALAzG,MAAK0G,SAAS1G,KAAK2G,WAAawB,GAE5BN,EAAS7H,KAAKyG,WACdzG,KAAKoI,SAASpI,KAAKyG,WAEhBzG,OAeXgH,EAAWA,UAAWA,SAASA,GAG3B,MADAhH,MAAKqI,QAAQrI,KAAKiE,UAAmB,MAANkE,GACxBnI,OAeXgH,EAAWA,WAAYA,SAASA,GAE5B,MADAhH,MAAKsG,SAAStG,KAAKuG,WAAa4B,GACzBnI,OAeXgH,EAAWA,aAAcA,SAASA,GAE9B,MADAhH,MAAKoG,WAAWpG,KAAKqG,aAAe8B,GAC7BnI,OAeXgH,EAAWA,aAAcA,SAASA,GAE9B,MADAhH,MAAKkG,WAAWlG,KAAKmG,aAAegC,GAC7BnI,OAgBXgH,EAAWA,WAAYA,WAKnB,MAJAhH,MAAKgG,gBAAgB,GACrBhG,KAAKkG,WAAW,GAChBlG,KAAKoG,WAAW,GAChBpG,KAAKsG,SAAS,GACPtG,OAgBXgH,EAAWA,WAAYA,SAASA,GAC5B,GAAInD,GAAIyE,GAAUjI,EAAGmH,KAAKc,MAY1B,OAVIzE,GADAA,EAAE0E,MAAM,MAAMpG,OAAS,EACnB0B,EAAE0E,MAAM,QAAQC,KAAKxI,KAAKyI,cAAa,IACtCF,MAAM,OAAOC,KAAKxI,KAAKyI,cAAa,IACpCF,MAAM,MAAMC,KAAKE,EAAS1I,KAAK2G,WAAa,IAE7C9C,EAAE0E,MAAM,KAAKC,KAAKxI,KAAK2G,WAAa,GAE5C9C,EAAIA,EAAE0E,MAAM,QAAQC,KAAKxI,KAAK6G,eACzB0B,MAAM,MAAMC,MAAMxI,KAAK6G,cAAgB,IAAI8B,UAAU,IACrDJ,MAAM,MAAMC,KAAKE,EAAS1I,KAAKyG,YAC/B8B,MAAM,KAAKC,KAAKxI,KAAKyG,YAmB9BO,SAAAA,GAA2BA,EAAGA,GAC1B4B,EAAIA,GAAKA,EAAAA,OAETA,EAAEA,QAAQA,KAAMA,KAEhBA,IAAIA,GAAIA,GAAIA,MAAKA,aAEjBA,IAASA,IAALA,EAASA,MAAOA,EAEpBA,GAAIA,EAAEA,aAKNA,KAJAA,GAGIA,GAHAA,EAAUA,GACVA,KACAA,EAAIA,sCAEwBA,OAAxBA,EAAUA,EAAEA,KAAKA,KAAaA,CAClCA,OAAQA,EAAQA,IACZA,IAAKA,IACLA,IAAKA,KACLA,IAAKA,IACLA,IAAKA,KACLA,IAAKA,KACLA,IAAKA,OACDA,GAAWA,sBACXA,EAAMA,KAAKA,EAAQA,GAAGA,OAAOA,EAAGA,GAChCA,MACJA,KAAKA,MACDA,GAAWA,aACXA,EAAMA,KAAKA,KAGfA,EAAQA,KACRA,GAAWA,EAAQA,IAI3BA,GAAIA,GAAKA,GAAIA,QAAOA,GAChBA,EAASA,EAAEA,MAAMA,EACrBA,KAAKA,EAAQA,MAAOA,EAEpBA,KAAKA,GAAIA,GAAIA,EAAGA,EAAIA,EAAMA,OAAQA,IAAKA,CACnCA,GAAIA,GAAMA,EAAOA,EAAIA,EACrBA,QAAQA,EAAMA,IACVA,IAAKA,IACDA,EAAEA,QAAQA,EACVA,MACJA,KAAKA,IACDA,EAAEA,SAASA,OAAOA,GAAOA,EACzBA,MACJA,KAAKA,IACDA,IAAKA,GAAIA,GAAIA,EAAGA,EAAIA,EAAAA,eAAeA,QAC3BA,EAAAA,eAAeA,GAAGA,eAAiBA,EADAA,KAG3CA,EAAEA,SAASA,EACXA,MACJA,KAAKA,IACDA,EAAEA,YAAYA,IAK1BA,MAAOA,GA5DK5B,EAAAA,WAAUA,CAgE1BA,IAAIA,GAAWA,SAASA,GACpB,GAAI6B,GAAI,IAAMV,CACd,OAAOU,GAAEF,UAAUE,EAAE1G,OAAS,GAIvB6E,GAAAA,cAAgBA,CAC3BA,SAAAA,KACI8B,GAAIA,GAAOA,GAAIA,KAEfA,OADAA,GAAKA,QAAQA,EAAKA,UAAYA,EAAAA,eACvBA,EAHK9B,EAAAA,UAASA,CAKzBA,SAAAA,GAAqBA,GACjB+B,EAAGA,GAAGA,IAAIA,GAAKA,KAAKA,SAAAA,GAChBA,GAAIA,GAAMA,EAAEA,IACRA,EAAOA,EAAIA,kBAAkBA,SAAWA,EAAIA,kBAAkBA,QAE9DA,EAAsBA,KAAKA,MAAMA,GAAIA,MAAKA,KAAKA,MAAMA,IAAOA,eAC5DA,EAAiBA,KAAKA,OAAMA,GAAIA,OAAOA,cAE3CA,GAAAA,cAAgBA,EAAsBA,EAElCA,EAAGA,SACHA,QAAQA,IAAIA,+CAAiDA,EAAAA,eAC7DA,QAAQA,IAAIA,eAAgBA,GAAIA,OAChCA,QAAQA,IAAIA,gBAAiBA,QAbzB/B,EAAAA,KAAIA,CAiBpBA,SAAAA,GAAsBA,EAAWA,GAC7BgC,QAAAA,GAAuBA,GACnBC,MAAKA,GAEDA,YAAaA,MACNA,GAAIA,MAAKA,GAIOA,GAAvBA,EAAEA,QAAQA,WAAkBA,EAAEA,YAAYA,MAASA,EAAEA,OAASA,EACvDA,GAAIA,MAAKA,EAAGA,OAAOA,EAAEA,OAAOA,KAEhCA,GAAIA,MAAKA,GAVDA,KAanBD,QAAAA,GAA6BA,GACzBE,GAAIA,YAAaA,MACbA,MAAOA,EACXA,IAAIA,GAAOA,IAEXA,IAAIA,EAAEA,MAAMA,mDACRA,EAAOA,GAAIA,MAAKA,OACbA,IAAIA,GAAUA,EAAEA,MAAMA,4CAA8CA,EAAOA,WAAWA,MAAOA,CAChGA,GAAIA,GAAMA,EAAEA,UAAUA,EAAGA,GACrBA,EAAMA,EAAEA,UAAUA,EAAGA,GACrBA,EAAOA,EAAEA,UAAUA,EAAGA,GAE1BA,IAAIA,EAAMA,GAAIA,CACVA,GAAIA,GAAIA,CACRA,GAAMA,EACNA,EAAMA,EAGVA,GAAIA,GAAOA,EAAEA,UAAUA,GAAIA,IACvBA,EAAMA,EAAEA,UAAUA,GAAIA,GAE1BA,GAAOA,GAAIA,MAAKA,EAAMA,IAAMA,EAAMA,IAAMA,EAAOA,IAAMA,EAAOA,IAAMA,OAC/DA,IAAIA,EAAEA,MAAMA,2CAA4CA,CAC3DA,GAAIA,GAAMA,EAAEA,UAAUA,EAAGA,GACrBA,EAAMA,EAAEA,UAAUA,EAAGA,GACrBA,EAAOA,EAAEA,UAAUA,EAAGA,GAE1BA,IAAIA,EAAMA,GAAIA,CACVA,GAAIA,GAAIA,CACRA,GAAMA,EACNA,EAAMA,EAGVA,GAAIA,GAAOA,EAAEA,UAAUA,GAAIA,IACvBA,EAAMA,EAAEA,UAAUA,GAAIA,GAE1BA,GAAOA,GAAIA,MAAKA,EAAMA,IAAMA,EAAMA,IAAMA,EAAOA,IAAMA,EAAOA,IAAMA,OAC/DA,CACHA,GAAIA,GAAMA,GAAIA,MAAKA,EACdA,OAAMA,KAAaA,EAAOA,GAGnCA,MAAOA,GAGXF,QAAAA,GAAyBA,GACrBG,GAAIA,YAAaA,MACbA,MAAOA,EACXA,IAAIA,GAAOA,IAEXA,IAAIA,EAAEA,MAAMA,iCACRA,EAAOA,GAAIA,MAAKA,OACbA,IAAIA,EAAEA,MAAMA,8BAAgCA,IAAWA,EAAOA,WAAWA,OAASA,EAAOA,WAAWA,OAAQA,CAC/GA,GAAIA,GAAMA,EAAEA,UAAUA,EAAGA,GACrBA,EAAMA,EAAEA,UAAUA,EAAGA,GACrBA,EAAOA,EAAEA,UAAUA,EAAGA,GAE1BA,IAAIA,EAAMA,GAAIA,CACVA,GAAIA,GAAIA,CACRA,GAAMA,EACNA,EAAMA,EAGVA,EAAOA,GAAIA,MAAKA,EAAMA,EAAKA,OACxBA,IAAIA,EAAEA,MAAMA,6BAA8BA,CAC7CA,GAAIA,GAAMA,EAAEA,UAAUA,EAAGA,GACrBA,EAAMA,EAAEA,UAAUA,EAAGA,GACrBA,EAAOA,EAAEA,UAAUA,EAAGA,GAE1BA,IAAIA,EAAMA,GAAIA,CACVA,GAAIA,GAAIA,CACRA,GAAMA,EACNA,EAAMA,EAGVA,EAAOA,GAAIA,MAAKA,EAAMA,EAAKA,OACxBA,CACHA,GAAIA,GAAMA,GAAIA,MAAKA,EACdA,OAAMA,KAAaA,EAAOA,GAGnCA,MAAOA,GAGXH,GAAYA,MAARA,EACAA,MAAOA,KAEXA,IAAIA,YAAgBA,MAChBA,MAAOA,EAEXA,IAAoBA,gBAATA,GAAmBA,CAE1BA,GADAA,EAAOA,EAAGA,KAAKA,GACeA,GAA1BA,EAAKA,QAAQA,WAAkBA,EAAKA,YAAYA,MAASA,EAAKA,OAASA,EACvEA,MAAOA,GAAcA,EAClBA,IAAyBA,IAArBA,EAAKA,QAAQA,MAAcA,EAAKA,YAAYA,MAASA,EAAKA,OAASA,EAIvEA,MAA2BA,IAAvBA,EAAKA,QAAQA,QACpBA,EAAOA,EAAKA,QAAQA,IAAKA,KAAKA,QAAQA,IAAKA,KAC3CA,EAAOA,EAAKA,QAAQA,IAAKA,KAAKA,QAAQA,IAAKA,QAC3CA,EAAOA,EAAKA,QAAQA,uBAAwBA,SACrCA,GAAIA,MAAKA,IACYA,IAArBA,EAAKA,QAAQA,KACKA,IAArBA,EAAKA,QAAQA,KACNA,EAAoBA,GAExBA,EAAgBA,GAEhBA,GAAIA,MAAKA,EAdhBA,IAAIA,GAAIA,GAAIA,MAAKA,EACjBA,KAAKA,MAAMA,GACPA,MAAOA,OAcZA,IAAmBA,gBAARA,GACdA,MAAOA,IAAIA,MAAKA,EAGpBA,OAAOA,GAlIKhC,EAAAA,MAAKA,CAqIrBA,SAAAA,GAAoBA,EAAMA,EAAWA,GACjCoC,MAAOA,MAAKA,MAAMA,GAAMA,IAAIA,EAAWA,GAD3BpC,EAAAA,IAAGA,CAInBA,SAAAA,GAAyBA,GACrBqC,GAAiBA,OAAbA,EAAmBA,MAAOA,EAM9BA,IAJMA,YAAoBA,QACtBA,EAAWA,KAAKA,MAAMA,MAGpBA,YAAoBA,OACtBA,MAAOA,EAGXA,IAAIA,YAAcA,GAAUA,MAAOA,GAASA,UAE5CA,IAAIA,GAAIA,EAASA,UACbA,EAAIA,EAASA,WAAaA,EAC1BA,EAAIA,EAASA,aAKjBA,OAHQA,IAAJA,IAAQA,EAAIA,IAAMA,EAAEA,YAChBA,GAAJA,IAAQA,EAAIA,IAAMA,EAAEA,YAEjBA,EAAEA,WAAaA,IAAMA,EAAEA,WAAaA,IAAMA,EAAEA,WApBvCrC,EAAAA,SAAQA,CAuBxBA,SAAAA,GAAyBA,EAAUA,GAC/BsC,GAAiBA,OAAbA,EAAmBA,MAAOA,EAK9BA,IAJMA,YAAoBA,QACtBA,EAAWA,KAAKA,MAAMA,MAGpBA,YAAoBA,OACtBA,MAAOA,EAGXA,IAAIA,GAAKA,EAASA,WACdA,EAAMA,EAASA,aACfA,EAAMA,EAASA,YAanBA,OAXUA,IAANA,IACAA,EAAMA,IAAMA,EAAIA,YAEXA,GAALA,IACAA,EAAKA,IAAMA,EAAGA,YAERA,GAANA,IACAA,EAAMA,IAAMA,EAAIA,YAEpBA,EAAWA,IAAYA,EAEhBA,EAAGA,WAAaA,IAAMA,EAAIA,YAA0BA,GAAZA,EAAoBA,IAAMA,EAAIA,WAAaA,IAzB9EtC,EAAAA,SAAQA,CA4BxBA,SAAAA,GAA8BA,EAAUA,GACpCuC,MAAiBA,QAAbA,EAA0BA,IAC9BA,EAAWA,IAAYA,EAChBA,KAAKA,SAASA,GAAYA,IAAMA,KAAKA,SAASA,EAAUA,IAHnDvC,EAAAA,cAAaA,CAM7BA,SAAAA,GAAyBA,EAAMA,GAC3BwC,MAAIA,IAAQA,YAAgBA,OAChBA,GAAOA,oBAAoBA,QAAQA,uBAAwBA,SAASA,GACxE,MAAOhC,GAAKV,KAAKrG,KAGd+I,GANCxC,EAAAA,SAAQA,CAUxBA,SAAAA,GAA6BA,EAAUA,GACnCyC,EAAWA,OAAOA,GAAYA,EAE9BA,IAAIA,GAAsBA,EAAXA,CAEXA,KAAUA,GAAYA,EAE1BA,IAAIA,GAASA,KAAKA,MAAMA,EAAWA,MAC/BA,EAASA,KAAKA,MAAMA,EAAWA,GAASA,GAAJA,GACpCA,EAASA,KAAKA,MAAMA,EAAWA,GAMnCA,OAJQA,IAAJA,IAAQA,EAAIA,IAAMA,EAAEA,YAChBA,GAAJA,IAAQA,EAAIA,IAAMA,EAAEA,YAChBA,GAAJA,IAAQA,EAAIA,IAAMA,EAAEA,aAEhBA,EAAWA,IAAMA,KAAOA,EAAOA,cAAgBA,WAAWA,OAAOA,EAAGA,EAAGA,GAfnEzC,EAAAA,aAAYA,CAkB5BA,SAAAA,GAA8BA,GAC1B0C,GAAWA,MAAPA,GAAeA,YAAeA,QAAQA,MAAOA,EAEjDA,IAAkBA,gBAAPA,IAAuCA,IAApBA,EAAIA,QAAQA,KAAYA,CAClDA,GAAIA,GAAIA,EAAIA,MAAMA,KACdA,EAAKA,EAAGA,OAAOA,EAAEA,GAErBA,QAAaA,EAALA,EAASA,GAAKA,GAAKA,KAAKA,IAAIA,GAAMA,KAAyBA,GAAlBA,EAAGA,OAAOA,EAAEA,KAAwBA,GAAZA,EAAEA,OAAcA,EAAGA,OAAOA,EAAEA,IAAMA,GAG/GA,MAAOA,GAAGA,OAAOA,GAVL1C,EAAAA,cAAaA,GAzwBpB3G,EAAAA,EAAAA,OAAAA,EAAAA,WAAHA,KAAAA,OC9FV,IAAOA,KAAP,SAAOA,GAAGA,GAAAA,IAAAA,SAAAA,GACTsJ,QAAAA,GAAqBA,GACpBC,MAAOA,UAAaA,GACnB,MAAO,IAAIC,SAAQ,SAAAC,GAAM,MAAA3G,YAAW,WAAM,MAAA2G,GAAGC,IAAOC,MAFtCL,EAAAA,KAAIA,CAMjBA,SAAAA,GAAyBA,GAC3BM,MAAOA,IAAIA,SAAQA,SAAAA,GAAMA,MAAAA,cAAaA,WAAMA,MAAAA,GAAGA,OAD7BN,EAAAA,SAAKA,CAIxBA,SAAAA,GAA6BA,GAC5BO,MAAOA,IAAIA,SAAQA,SAAAA,GAAMA,MAAAA,uBAAsBA,WAAMA,MAAAA,GAAGA,OADzCP,EAAAA,UAASA,CAIzBA,SAAAA,GAAoCA,GACnCQ,GAAIA,SAAcA,EAElBA,OAAcA,WAARA,GAA6BA,UAARA,GAA4BA,UAARA,EACvCA,QAAQA,QAAQA,EAAGA,KAAKA,YAAYA,IACrCA,QAAQA,QAAQA,GALRR,EAAAA,iBAAgBA,EAU5BA,YAAcA,GAAAA,eAAiBA,SAAWA,GAAAA,cAC7CA,EAAAA,UAAYA,SAASA,GACpB,MAAO,IAAKtJ,GAAAE,cAAc6J,SAASL,GAAOM,QAG3CV,EAAAA,UAAYA,SAASA,GACX,GAAIW,EACJ,KACIA,EAASC,KAAKC,MAAMT,GACtB,MAAOU,GACL,MAAOZ,SAAQa,OAAOD,GAE1B,MAAOZ,SAAQc,QAAQL,KArCzBjK,EAAAA,EAAAA,UAAAA,EAAAA,cAAHA,KAAAA,OCEP,IAAOA,KAAP,SAAOA,GACHA,GAAIA,GAAMA,SAAaA,GACnBuK,OACIA,OAAQA,EAAIA,OACZA,SAAUA,EAAIA,SACdA,IAAKA,EACLA,IAAKA,GACLA,KAAMA,OAIVvK,EAAYA,SAAmBA,EAAMA,GACrCwK,GAAIA,KACJA,KAAKA,GAAIA,KAAKA,GACVA,EAAIA,KAAKA,GAAKA,mBAAmBA,GAAKA,IAAMA,mBAAmBA,EAAKA,IAIxEA,OAFIA,IAAOA,EAAIA,MAAMA,KAAKA,OAASA,GAC/BA,EAAIA,KAAKA,EAAIA,MAAMA,KAAKA,IACrBA,EAAIA,KAAKA,MAGhBxK,EAAUA,SAAiBA,EAAMA,GACjCsJ,OAAQA,GAAQA,EAAKA,QAAUA,EAAKA,QAAUA,EAAGA,SAASA,SAASA,GAQvEtJ,SAAAA,GAAmBA,GAMfyK,MAJKA,GAAKA,mBAAsBA,EAAKA,SACjCA,EAAGA,OAAOA,0BAA0BA,GAGjCA,EAAQA,EAAMA,SAASA,EAASA,GACnC,GAAIC,GAAmB1K,EAAG2K,QAASC,EAAGC,SAGtCH,GAAKI,QAAU9K,EAAG2K,KAAKD,EAAKI,SAE5B9K,EAAG2K,KAAKD,EAAMK,EAEd,IAAIC,GAAMN,EAAKO,iBAEXC,EAAcR,EAAKS,IACnBC,GAAe,CAEfV,GAAKS,MACLT,EAAKS,IAAMnL,EAAGqL,QAAQX,EAAKS,KAC3BC,EAAmD,QAApCR,EAAGU,WAAWZ,EAAKS,KAAKI,SAG3C,IAAI7B,GAA4B,gBAAdgB,GAAKhB,MAAsBgB,EAAKc,IAAwCd,EAAKhB,KAAvCgB,EAAKe,KAAKC,KAAKhB,EAAMA,EAAKhB,KAG9EgB,GAAKS,KAAOT,EAAKS,IAAIQ,SAAS,OAAiC,MAAxBjB,EAAKkB,gBAC5CZ,EAAIY,iBAAkB,EACflB,EAAKkB,kBACZZ,EAAIY,gBAAkBlB,EAAKkB,iBAK/BZ,EAAIa,KAAKnB,EAAKoB,OAAQpB,EAAKqB,OAAS,GAAKrB,EAAKS,IAAIjD,MAAM,KAAK,GAAK,IAAM8D,EAAUtB,EAAKqB,QAAUrB,EAAKS,KAAK,GAE3GH,EAAIiB,iBAAiBrB,EAAGsB,OAAOC,mBAAoB,SAASC,GACxD,GAAsB,GAAlBpB,EAAIqB,WAAiB,CACrB,IACI,GAAIrB,EAAIsB,QAAU,KAA6C,QAAtCtB,EAAIuB,kBAAkB,aAAwB,CACnE,GAAIvC,GAAOE,KAAKC,MAAMa,EAAIwB,aAC1BC,SAAQrC,MAAQqC,QAAQrC,MAAM,cAAgBJ,EAAK0C,QAAS1C,GAAQyC,QAAQE,IAAI,cAAgB3C,EAAK0C,QAAS1C,IAEpH,MAAOoC,IAGT,GAAIQ,GAAY5M,EAAG2K,KAAKkC,EAAI7B,IACxBtB,KAAMsB,EAAI8B,SAAYpC,EAAKc,IAAqCR,EAAI8B,SAAnCpC,EAAKqC,KAAK/B,EAAI8B,SAAU9B,GAAsB,KAC/EG,IAAKD,GAGT,MAAI0B,EAAUlD,MAAQkD,EAAUlD,eAAgBF,UAS5C,MAAsB,IAAdwB,EAAIsB,QAAelB,GAAgBJ,EAAIsB,QAAU,KAAOtB,EAAIsB,OAAS,IAAOhC,EAAQsC,GAAW,GAASvC,EAAOuC,EARvHA,GAAUlD,KAAKsD,KAAK,SAAAvD,GAEhB,MADAmD,GAAUlD,KAAOD,EACK,GAAduB,EAAIsB,QAAelB,GAAgBJ,EAAIsB,QAAU,KAAOtB,EAAIsB,OAAS,IAAOhC,EAAQsC,GAAW,GAASvC,EAAOuC,IACxH,SAAAK,GAEC,MADAL,GAAUlD,KAAOuD,EACK,GAAdjC,EAAIsB,QAAelB,GAAgBJ,EAAIsB,QAAU,KAAOtB,EAAIsB,OAAS,IAAOhC,EAAQsC,GAAW,GAASvC,EAAOuC,QAQvI5B,EAAIiB,iBAAiBrB,EAAGsB,OAAOgB,MAAO,WAClC,MAAO7C,GAAOwC,EAAI7B,MAEtBA,EAAIiB,iBAAiBrB,EAAGsB,OAAOiB,MAAO,WAElC,GAAIP,GAAYC,EAAI7B,EAEpB,IAAIA,EAAI8B,SACJ,IACI9M,EAAG2K,KAAKiC,GACJlD,KAAMsB,EAAI8B,SAAYpC,EAAKc,IAAqCR,EAAI8B,SAAnCpC,EAAKqC,KAAK/B,EAAI8B,SAAU9B,GAAsB,KAC/EG,IAAKD,IAEX,MAAOkB,IAGb,MAAO/B,GAAOuC,KAElB5B,EAAIiB,iBAAiBrB,EAAGsB,OAAOkB,QAAS,WACpC,MAAO/C,GAAOwC,EAAI7B,KAGtB,KAAK,GAAIqC,KAAU3C,GAAKI,QACpBE,EAAIsC,iBAAiBD,EAAQ3C,EAAKI,QAAQuC,GAI9C,KAAK,GAAIE,KAAU7C,GAAK8C,OACpBxC,EAAIiB,iBAAiBsB,EAAQ7C,EAAK8C,OAAOD,GAAQE,KAAK,KAAMzC,IAAM,EAK7DrJ,UAAT+H,EAAqBsB,EAAI0C,KAAKhE,GAAQsB,EAAI0C,SAnGlC1N,EAAAA,GAAEA,GA9BfA,KAAAA,OAsIP,IAAOA,KAAP,SAAOA,GAAGA,GAAAA,IAAAA,SAAAA,GAEKyK,EAAAA,SACPA,IAAKA,MACLA,KAAMA,OACNA,IAAKA,MACLA,OAAQA,SACRA,MAAOA,QACPA,QAASA,WAEFA,EAAAA,QACPA,mBAAoBA,mBACpBA,WAAYA,YACZA,SAAUA,WACVA,MAAOA,QACPA,MAAOA,QACPA,KAAMA,OACNA,QAASA,UACTA,SAAUA,UAyDdA,IAYiBA,GAZbA,EAAqBA,SAACA,EAAGA,GACzBA,MAAgBA,gBAALA,GACAA,EAAGA,QAAQA,UAAUA,GAAGA,KAAKA,SAAAA,GAChCA,MAAIA,KAAOA,GACAA,EAAEA,EACNA,IACRA,KAAKA,EAAGA,QAAQA,kBAGhBA,IAGXA,SAAiBA,GACFkD,EAAAA,KAAOA,SAASA,GACvB,MAAIC,aAAaC,WACT,gBAAkBlO,MAAKmL,eAChBnL,MAAKmL,QAAQ,gBACjB8C,IAGXjO,KAAKmL,QAAQ,gBAAkB,mBAExBZ,KAAK4D,UAAUF,KAEfD,EAAAA,IAAMA,SAAAA,GAAKA,MAAAA,GAAEA,YAEbA,EAAAA,WAAaA,SAASA,GAC7BhO,KAAKmL,QAAQ,gBAAkB,mCAE/B,IAAIiD,KAEJ,KAAK,GAAI7J,KAAK8J,GACNA,EAAItN,eAAewD,IAAuB,mBAAV8J,GAAI9J,KACf,gBAAV8J,GAAI9J,IAAkB8J,EAAI9J,YAAcP,QAASnC,MAAMwM,EAAI9J,IAClE6J,EAAEE,KAAKC,mBAAmBhK,GAAK,IAAMgK,mBAAmBF,EAAI9J,GAAGiK,gBAE/DJ,EAAEE,KAAKC,mBAAmBhK,GAAK,IAAMgK,mBAAmBF,EAAI9J,KAGxE,OAAO6J,GAAE5F,KAAK,MAGPwF,EAAAA,UAAYA,SAASA,GACxB,gBAAkBhO,MAAKmL,eAChBnL,MAAKmL,QAAQ,eAExB,IAAIiD,GAAI,GAAIF,SAEZ,KAAK,GAAI3J,KAAK8J,GACNA,EAAItN,eAAewD,IACnB6J,EAAEK,OAAOlK,EAAG8J,EAAIA,GAExB,OAAOD,KAxCEtD,EAAAA,EAAAA,aAAAA,EAAAA,gBA8CNA,EAAAA,UACPA,OAAQA,EAAGA,QAAQA,IACnBA,KAAMA,OACNA,SACIA,OAAUA,oBAEdA,KAAMA,EAAWA,KACjBA,KAAMA,EACNA,eAAgBA,WACZ4D,MAAOA,IAAIA,iBAEf5D,QAASA,SAAiBA,GACtB6D,MAAOA,IAAIA,SAAQA,IAEvB7D,UACAA,IAAKA,KACLA,KAAKA,EACLA,UACAA,gBAAiBA,KAYrBA,IAAIA,GAAiBA,SAASA,cAAcA,KACxCA,EAAYA,EAAWA,SAASA,KA+CpCA,SAAAA,GAA2BA,GACvB8D,GAAIA,GAAOA,CAYXA,OAPAA,GAAeA,aAAaA,OAAQA,GACpCA,EAAOA,EAAeA,KAGtBA,EAAeA,aAAaA,OAAQA,IAIhCA,KAAMA,EAAeA,KACrBA,SAAUA,EAAeA,SAAWA,EAAeA,SAASA,QAAQA,KAAMA,IAAMA,GAChFA,KAAMA,EAAeA,KACrBA,OAAQA,EAAeA,OAASA,EAAeA,OAAOA,QAAQA,MAAOA,IAAMA,GAC3EA,KAAMA,EAAeA,KAAOA,EAAeA,KAAKA,QAAQA,KAAMA,IAAMA,GACpEA,SAAUA,EAAeA,SACzBA,KAAMA,EAAeA,KACrBA,SAAiDA,MAAtCA,EAAeA,SAASA,OAAOA,GACpCA,EAAeA,SACfA,IAAMA,EAAeA,UAvBnB9D,EAAAA,WAAUA,CAkC1BA,SAAAA,GAAgCA,GAC5B+D,GAAIA,GAA+BA,gBAAdA,GAA0BA,EAAWA,GAAcA,CACxEA,OAAQA,GAAOA,WAAaA,EAAUA,UAClCA,EAAOA,OAASA,EAAUA,KAHlB/D,EAAAA,gBAAeA,CAU/BA,SAAAA,GAA0BA,GLq1ClB,IKr1CyDgE,GAAAA,MAAAA,EAAAA,EAAAA,EAAAA,UAAAA,OAAAA,IAAAA,EAAAA,EAAAA,GAAAA,UAAAA,EAC7DA,IAAIA,GAAMA,EAAgBA,IAEtBA,EAASA,EAqBbA,OAnBAA,GAAOA,QAAQA,SAACA,EAAOA,GACnBA,GAAIA,GAAMA,EAAIA,EAEVA,OAAMA,QAAQA,KACdA,EAAQA,EAAMA,KAAKA,KAGlBA,EAAIA,SAASA,KAGdA,EAAMA,EAAIA,MAAMA,EAAGA,IAFnBA,EAAQA,mBAAmBA,GAK/BA,GAAUA,EACVA,GAAUA,IAGdA,GAAUA,EAAIA,EAAIA,OAASA,GAtBfhE,EAAAA,UAASA,EA2BdA,EAAAA,eAA2CA,WAClD,GAAIrK,EAEJ,OAAO,UAAS+K,GAIZ,MAHK/K,KAAGA,EAAIsO,SAASC,cAAc,MACnCvO,EAAEwO,KAAO5O,EAAAqL,QAAQF,GAEV/K,EAAEwO,QAKjBnE,SAAAA,GAAoBA,EAAaA,EAAcA,GAC3CoE,MAAOA,GAAGA,EAAGA,MAAOA,IAAKA,EAAKA,OAAQA,EAAAA,QAAQA,IAAKA,OAAQA,GAAUA,IADzDpE,EAAAA,IAAGA,CAGnBA,SAAAA,GAAoBA,EAAaA,EAAYA,GACzCqE,MAAOA,GAAGA,EAAGA,MAAOA,IAAKA,EAAKA,OAAQA,EAAAA,QAAQA,IAAKA,KAAMA,OAAcA,IAD3DrE,EAAAA,IAAGA,CAGnBA,SAAAA,GAAqBA,EAAaA,EAAYA,GAC1CsE,MAAOA,GAAGA,EAAGA,MAAOA,IAAKA,EAAKA,OAAQA,EAAAA,QAAQA,KAAMA,KAAMA,OAAcA,IAD5DtE,EAAAA,KAAIA,CAGpBA,SAAAA,GAAsBA,EAAaA,EAAYA,GAC3CuE,MAAOA,GAAGA,EAAGA,MAAOA,IAAKA,EAAKA,OAAQA,EAAAA,QAAQA,MAAOA,KAAMA,OAAcA,IAD7DvE,EAAAA,MAAKA,CAGrBA,SAAAA,GAAoBA,EAAaA,GAC7BwE,MAAOA,GAAGA,EAAGA,MAAOA,IAAKA,EAAKA,OAAQA,EAAAA,QAAQA,QAAUA,IAD5CxE,EAAAA,IAAGA,CAGnBA,SAAAA,GAAwBA,EAAaA,GACjCyE,MAAOA,GAAGA,EAAGA,MAAOA,IAAKA,EAAKA,OAAQA,EAAAA,QAAQA,SAAWA,IAD7CzE,EAAAA,QAAOA,GArTjBzK,EAAAA,EAAAA,KAAAA,EAAAA,SAAHA,KAAAA,OC1HP,IAAImP,IAAKC,OAAO9J,SAEV,eAAgB6J,MAClBA,GAAGE,WAAa,WACZ,MAAO1P,MAAK2P,QAAQ,SAAU,SAAUC,GAAO,MAAOA,GAAIC,OAAO,GAAGC,cAAgBF,EAAI7I,OAAO,GAAG9E,kBAIpG,SAAWuN,MACbA,GAAGO,MAAQ,SAAUC,EAAOC,GACxB,MAAOjQ,MAAK+G,OAAO,EAAGiJ,GAASC,EAAYjQ,KAAK+G,OAAOiJ,EAAQC,EAAU9N,UAI3E,YAAcqN,MAChBA,GAAGU,SAAW,SAAUC,GAEpB,MADAA,GAASA,EAAOnP,WAC6C,KAAtDhB,KAAKoQ,QAAQD,EAAQnQ,KAAKmC,OAASgO,EAAOhO,UAInD,cAAgBqN,MAClBA,GAAGa,WAAa,SAAUC,GAEtB,MADAA,GAASA,EAAOtP,WACgB,IAAzBhB,KAAKoQ,QAAQE,KAItB,YAAcd,MAChBA,GAAGxD,SAAW,SAAUsE,GAEpB,MADAA,GAASA,EAAOtP,WACgB,KAAzBhB,KAAKoQ,QAAQE,KAI5Bd,GAAGe,YAAc,WACb,MAAOvQ,MAAKiC,cAAc0N,QAAQ,YAAa,SAAUa,EAAOC,GAC5D,MAAOA,GAAOX,iBAItBN,GAAGlH,OAAS,WAER,IAAK,GADDoI,GAAY1Q,KACPuE,EAAI,EAAGA,EAAItB,UAAUd,OAAQoC,IAAK,CACvC,GAAIoM,GAAS,GAAIC,QAAO,MAAQrM,EAAI,MAAO,KAC3CmM,GAAYA,EAAUf,QAAQgB,EAAQ1N,UAAUsB,IAEpD,MAAOmM,GAGX,IAAIG,IAAK,2JAETrB,IAAGsB,YAAc,WACb,MAAO9Q,MAAKmC,OAAS,GAAK0O,GAAGE,KAAK/Q,MCrEtC,IAAOK,KAAP,SAAOA,GACHA,GAAIA,GAAgBA,OAEpBA,EAAAA,WAAA2Q,QAAAA,KAEIC,KAAAA,GAAKA,KACLA,KAAAA,OAAiBA,KACjBA,KAAAA,WAAaA,KACbA,KAAAA,OAA0BA,KAS9BD,MAPIA,GAAAA,UAAAA,IAAAA,WACQE,KAAKA,SACLA,KAAKA,IAAMA,KAAKA,OAAOA,IAAIA,MAC3BA,KAAKA,GAAKA,KACVA,KAAKA,OAASA,OAG1BF,IAda3Q,GAAAA,uBAAsBA,CAgBnCA,IAAAA,GAAAA,WAAA8Q,QAAAA,KAMYC,KAAAA,cACAA,KAAAA,qBACAA,KAAAA,aAAeA,EA+GvBA,KAAAA,QAAUA,KAAKA,KACnBD,MA9GIA,GAAAA,UAAAA,GAAAA,SAAGA,EAAeA,EAAoBA,GAAtCE,GAAAA,GAAAA,IACIA,MAAKA,cAELA,IAEIA,GAFAA,EAASA,EAAMA,MAAMA,GAGrBA,IA2BJA,OAzBAA,GAAOA,QAAQA,SAAAA,GACXA,EAAMA,GAAIA,GACVA,EAAIA,GAAKA,EAAKA,aACdA,EAAIA,GAAKA,KACTA,EAAIA,OAASA,EACbA,EAAIA,WAAaA,EACjBA,EAAIA,OAASA,EAEbA,EAAaA,KAAKA,GAEdA,EACAA,EAAIA,GAAKA,WACLC,EAASjO,MAAMrD,KAAMiD,WACrBzB,EAAI+P,GAAK,MAGbF,EAAIA,GAAKA,EAGbA,EAAKA,kBAAkBA,EAAIA,IAAMA,EAEjCA,EAAKA,WAAWA,GAAOA,EAAKA,WAAWA,OACvCA,EAAKA,WAAWA,GAAKA,KAAKA,KAGvBA,GAGXF,EAAAA,UAAAA,KAAAA,SAAKA,EAAeA,GAChBK,MAAOA,MAAKA,GAAGA,EAAOA,GAAUA,IAGpCL,EAAAA,UAAAA,IAAAA,SAAIA,EAAqDA,GACrDM,GAAIA,YAAkBA,GAClBA,EAAOA,GAAKA,KACZA,EAAOA,YAAcA,EAAOA,WAAWA,QAAUA,EAAOA,WAAWA,QAAQA,SAASA,GAAKC,EAAEH,GAAK,WAC7FE,IAAqBA,gBAAVA,GACdA,GAAuBA,kBAAZA,GACPA,IAAKA,GAAIA,KAAKA,MAAKA,WACXA,KAAKA,WAAWA,GAAGA,KAAOA,IAC1BA,KAAKA,WAAWA,GAAGA,GAAKA,UAGRA,gBAAVA,KACdA,KAAKA,WAAWA,WAEjBA,IAAsBA,kBAAXA,GACdA,IAAKA,GAAIA,KAAKA,MAAKA,WACXA,KAAKA,WAAWA,GAAGA,KAAOA,IAC1BA,KAAKA,WAAWA,GAAGA,GAAKA,UAG7BA,IAAeA,SAAXA,GAAqCA,SAAbA,EAC/BA,IAAKA,GAAIA,KAAKA,MAAKA,iBACRA,MAAKA,WAAWA,GAAGA,IAKtCN,EAAAA,UAAAA,KAAAA,SAAKA,GPu0DD,IOv0DgBQ,GAAAA,MAAAA,EAAAA,EAAAA,EAAAA,UAAAA,OAAAA,IAAAA,EAAAA,EAAAA,GAAAA,UAAAA,EAChBA,IAAIA,IAASA,MAAKA,WAAYA,CAE1BA,GAAwBA,GAApBA,UAAUA,OAAaA,CACvBA,GAAIA,KAEJA,KAAKA,GAAIA,KAAKA,MAAKA,WAAWA,GAC1BA,GAAIA,KAAKA,WAAWA,GAAOA,GAAGA,GAAIA,CAC9BA,GAAIA,GAAMA,KAAKA,WAAWA,GAAOA,GAAGA,GAAGA,KAAKA,KACpCA,UAARA,GAAqBA,EAAYA,KAAKA,GAI9CA,MAAOA,GACJA,GAAwBA,GAApBA,UAAUA,OAAaA,CAC9BA,GAAIA,KAEJA,KAAKA,GAAIA,KAAKA,MAAKA,WAAWA,GAC1BA,GAAIA,KAAKA,WAAWA,GAAOA,GAAGA,GAAIA,CAC9BA,GAAIA,GAAMA,KAAKA,WAAWA,GAAOA,GAAGA,GAAGA,KAAKA,KAAMA,UAAUA,GACpDA,UAARA,GAAqBA,EAAYA,KAAKA,GAI9CA,MAAOA,GACJA,GAAIA,UAAUA,OAASA,EAAGA,CAC7BA,GAAIA,GAAOA,MAAMA,UAAUA,MAAMA,KAAKA,UAAWA,GAE7CA,IAEJA,KAAKA,GAAIA,KAAKA,MAAKA,WAAWA,GAC1BA,GAAIA,KAAKA,WAAWA,GAAOA,GAAGA,GAAIA,CAC9BA,GAAIA,GAAMA,KAAKA,WAAWA,GAAOA,GAAGA,GAAGA,MAAMA,KAAMA,EAC3CA,UAARA,GAAqBA,EAAYA,KAAKA,GAI9CA,MAAOA,MAhHZR,EAAAA,UAsHXA,IAxHa9Q,GAAAA,gBAAeA,GAnBzBA,KAAAA,OCOP,IAAUA,KAAV,SAAUA,GAAGA,GAAAA,IAAAA,SAAAA,GAKEuR,EAAAA,WAEXA,IAAIA,GAAWA,KACXA,EAAkBA,KAClBA,EAAYA,KACZA,EAAuBA,KACvBA,EAAqBA,KAErBA,IAEOA,GAAAA,cAAgBA,EAAcA,SAASA,MAAOA,EAAAA,gBAAkBA,SAE3EA,SAAAA,GAAuBA,GACnBC,GAAIA,GAEAA,EAASA,EAAIA,MAAMA,IAGvBA,IAAIA,EAAIA,QAAQA,OAASA,GACrBA,EAASA,EAAOA,OACbA,CACHA,IAAIA,EAAOA,GAAGA,SAASA,KAGnBA,MAAOA,GAAAA,aAFPA,GAASA,EAAOA,GAQxBA,MAFAA,GAASA,EAAOA,MAAMA,KAAKA,GAEpBA,EAAOA,cAGlBD,QAAAA,GAA4BA,GACxBE,OACIA,MAAOA,aAAaA,QAAQA,OAASA,IAAWA,aAAaA,QAAQA,OAASA,EAAAA,gBAAkBA,KAChGA,KAAMA,aAAaA,QAAQA,WAAaA,IAAWA,UAH3CF,EAAAA,YAAWA,CAO3BA,SAAAA,GAAoBA,GAChBG,GAAIA,EAAGA,KAAKA,IAAIA,eAAeA,EAAOA,GAClCA,KAAMA,IAAIA,OAAMA,gCAEpBA,IAAIA,GAAeA,EAAGA,KAAKA,IAAIA,YAAYA,EACvCA,GAAaA,MAAQA,EAAaA,KAAKA,SACPA,gBAArBA,GAAaA,OACpBA,EAAaA,MAAQA,EAAaA,OACtCA,EAAUA,EAAaA,OAI/BH,QAAAA,GAAyBA,EAAgBA,EAAgBA,EAAuBA,GAE5EI,GADAA,EAASA,EAAOA,cACZA,EAAOA,CACPA,GAAIA,EAAGA,KAAKA,IAAIA,eAAeA,EAAOA,GAClCA,KAAMA,IAAIA,OAAMA,gCAGhBA,IAAUA,EAAAA,eACVA,EAAWA,GAGfA,aAAaA,QAAQA,OAASA,EAAQA,GACtCA,aAAaA,QAAQA,QAAUA,EAAQA,GACvCA,aAAaA,QAAQA,WAAaA,EAASA,GAAaA,cAGxDA,cAAaA,WAAWA,OAASA,GACjCA,aAAaA,WAAWA,QAAUA,GAClCA,aAAaA,WAAWA,WAAaA,GAlB7BJ,EAAAA,SAAQA,CAuBxBA,SAAAA,GAA0BA,GACtBK,MAAiCA,IAA1BA,EAAAA,SAASA,QAAQA,GADZL,EAAAA,UAASA,CAIzBA,SAAAA,GAA0BA,GACtBM,GAAIA,GAA2BA,CAErBA,GAAAA,mBAAqBA,UAAQA,EAAkBA,EAAAA,SAAUA,MAAMA,WAEzEA,EAAUA,QAAQA,SAAAA,GAAQA,MAA0BA,IAA1BA,EAAAA,SAASA,QAAQA,IAAeA,EAAAA,SAASA,KAAKA,KAL5DN,EAAAA,UAASA,CAczBA,IAAIA,IACAA,iBACIA,2DACAA,0DACAA,oCACFA,KAAKA,KACPA,gBACIA,yDACAA,iDACAA,2BACFA,KAAKA,KACPA,eACIA,wDACAA,wDACAA,4DACAA,0DACAA,mBACFA,KAAKA,KACPA,qBACIA,2DACAA,2BACFA,KAAKA,KACPA,wBACIA,uDACAA,yBACFA,KAAKA,KACPA,eACIA,kEACFA,KAAKA,KACPA,2BACIA,sDACAA,4CACFA,KAAKA,KACPA,eACIA,0DACFA,KAAKA,KACPA,cACIA,qDACAA,2DACAA,2DACAA,0DACAA,0BACFA,KAAKA,KACPA,yBACIA,yDACAA,4DACAA,kBACFA,KAAKA,MAIPA,EAAoBA,SAACA,GACrBA,MAAkCA,IAAKA,SAA0BA,GAA/BA,SAA0CA,SAAAA,GACxEA,MAAkBA,MAAdA,EAAIA,OACGA,EAAOA,eAAeA,KACzBA,SAAAA,GAAKA,MAAAA,IAAIA,SAAQA,IACjBA,SAAAA,GAIIA,MAHIA,IAAiBA,KAAZA,EAAEA,QACPA,EAAOA,KAAKA,gBAETA,QAAQA,OAAOA,KAG3BA,QAAQA,OAAOA,MAI1BA,EAAcA,SAACA,GACfA,GAAIA,GAAMA,CACVA,IAAIA,GAAKA,EAAEA,MAAQA,EAAEA,KAAKA,MAAOA,CAC7BA,GAAIA,GAAUA,EAAgBA,EAAEA,KAAKA,QAAUA,EAAEA,KAAKA,eAAiBA,EAAEA,KAAKA,KAE9EA,GAAOA,KAAKA,QAASA,eAAgBA,EAAEA,KAAMA,GACzBA,iBAAhBA,EAAEA,KAAKA,QACPA,aAAaA,WAAWA,QAAUA,EAAAA,eAElCA,EAAOA,KAAKA,iBAGhBA,EAAMA,GAAIA,OAAMA,GAEhBA,EAAIA,KAAOA,EAAEA,KAAKA,MAOtBA,MAJgBA,MAAZA,EAAEA,QACFA,EAAOA,KAAKA,gBAGTA,QAAQA,OAAOA,GAG1BA,SAAAA,GAA0CA,GACtCO,GAAIA,GAASA,EAAcA,EAAGA,KAC1BA,EAAQA,EAAYA,EACpBA,GAAMA,QACNA,EAAGA,QAAUA,EAAGA,YAEEA,UAAdA,EAAMA,KACNA,EAAGA,QAAuBA,cAAIA,UAAYA,EAAMA,QAE/CA,EAAGA,OAASA,EAAGA,YAA4BA,aAAIA,EAAMA,MACtDA,EAAGA,QAAgBA,OAAIA,WACvBA,EAAGA,QAAQA,iBAAmBA,YAGlCA,EAAGA,QAAUA,GAdLP,EAAAA,0BAAyBA,CAkBzCA,SAAAA,GAA0BA,GAkBtBQ,GATAA,EAAWA,EAAKA,UAAYA,KAC5BA,EAAkBA,EAAKA,iBAAmBA,KAC1CA,EAAYA,EAAKA,WAAaA,KAC9BA,EAAAA,gBAAkBA,EAAKA,UAAYA,KACnCA,EAAeA,EAAKA,cAAgBA,KACpCA,EAASA,EAAKA,WACdA,EAAqBA,EAAKA,mBAGtBA,aAAaA,QAAQA,OAASA,EAAAA,eAC9BA,IACIA,EAAWA,aAAaA,QAAQA,OAASA,EAAAA,gBAC3CA,MAAOA,GACLA,QAAQA,MAAMA,GAIlBA,aAAaA,QAAQA,QAAUA,EAAAA,gBAC/BA,GAAmBA,IA3BXR,EAAAA,UAASA,CA+BzBA,SAAAA,KACIS,GAAIA,EAAiBA,CACjBA,GAAIA,EAQJA,OAPIA,GAAAA,kBACAA,EAAaA,EAAAA,gBAAkBA,IAC3BA,IACAA,GAAcA,GAClBA,EAAaA,SAAWA,KAAKA,IAG1BA,EAAGA,GAAGA,KAAKA,GAEVA,WAAYA,gBACZA,cAAeA,aAAaA,QAAQA,QAAUA,EAAAA,gBAAkBA,OAEhEA,mBAAmBA,EACnBA,KAAMA,EAAAA,GAAGA,WAAWA,WACpBA,SACIA,cAAeA,GAEnBA,gBAAiBA,IAClBA,KAAKA,SAAAA,GAKJA,GAJIA,EAAEA,KAAKA,eACPA,EAAOA,KAAKA,WAAYA,EAAEA,KAAKA,MAAOA,EAAEA,KAAMA,EAAAA,eAC9CA,EAASA,EAAAA,cAAeA,EAAEA,KAAKA,aAAcA,EAAEA,KAAKA,eAAiBA,OAErEA,EAAEA,KAAKA,MAAOA,CACdA,GAAIA,GAAUA,EAAgBA,EAAEA,KAAKA,QAAUA,EAAEA,KAAKA,eAAiBA,EAAEA,KAAKA,KAE9EA,GAAOA,KAAKA,QAASA,eAAgBA,EAAEA,KAAMA,GACzBA,iBAAhBA,EAAEA,KAAKA,OACPA,aAAaA,WAAWA,QAAUA,EAAAA,cAItCA,IAAIA,GAAMA,GAAIA,OAAMA,EAIpBA,OAFAA,GAAIA,KAAOA,EAAEA,KAAKA,MAEXA,QAAQA,OAAOA,GAE1BA,MAAOA,IACRA,GAEXA,MAAOA,SAAQA,OAAOA,MA5CVT,EAAAA,aAAYA,CA+C5BA,SAAAA,KAKIU,MAJAA,GAASA,EAAAA,cAAeA,MAExBA,EAAOA,KAAKA,UAERA,EACOA,EAAGA,GAAGA,IAAIA,MACbA,mBAAmBA,EACnBA,gBAAiBA,IAClBA,KAAKA,SAAAA,GACJA,MAAOA,KAGRA,QAAQA,QAAQA,MAbXV,EAAAA,OAAMA,CAkBtBA,SAAAA,GAAsBA,EAAkBA,GACpCW,GAAIA,EAAUA,CAEVA,GAAIA,EAEAA,GAAAA,kBACAA,EAAaA,EAAAA,gBAAkBA,IAC3BA,IACAA,GAAcA,GAClBA,EAAaA,SAAWA,KAAKA,GAGjCA,IAAIA,GAAoBA,MAMxBA,OAJIA,GAAOA,SACPA,EAAYA,EAAOA,KAAKA,MAGrBA,EAAGA,GAAGA,KAAKA,GAEVA,WAAYA,WACZA,SAAUA,EACVA,SAAUA,EACVA,MAAOA,IAGPA,mBAAmBA,EACnBA,KAAMA,EAAAA,GAAGA,WAAWA,WACpBA,SACIA,cAAeA,GAEnBA,gBAAiBA,IAClBA,KAAKA,SAAAA,GACJA,GAAIA,EAAEA,KAAKA,aACPA,EAASA,EAAAA,cAAeA,EAAEA,KAAKA,aAAcA,EAAEA,KAAKA,eAAiBA,MAAOA,EAAEA,KAAKA,YAAcA,IAAIA,mBAClGA,IAAIA,EAAEA,KAAKA,MAAOA,CAErBA,GAAIA,GAAUA,EAAgBA,EAAEA,KAAKA,QAAUA,EAAEA,KAAKA,eAAiBA,EAAEA,KAAKA,MAC1EA,EAAMA,GAAIA,OAAMA,EAEpBA,OADAA,GAAIA,KAAOA,EAAEA,KAAKA,MACXA,QAAQA,OAAOA,GAK1BA,MAFAA,GAAOA,KAAKA,QAASA,EAAEA,MAEhBA,GACRA,GAEXA,MAAOA,SAAQA,OAAOA,MAhDVX,EAAAA,MAAKA,CAmDrBA,SAAAA,KACIY,GAAIA,GAAQA,EAAYA,EAAAA,cACxBA,KAAKA,IAAUA,EAAMA,MAAOA,OAAOA,CAEnCA,KACIA,OAAQA,EAAGA,KAAKA,IAAIA,eAAeA,EAAMA,OAC3CA,MAAOA,GACLA,QAAQA,MAAMA,GAGlBA,OAAOA,EAVKZ,EAAAA,SAAQA,EAabA,EAAAA,GAAKA,EAAGA,gBAAgBA,UAAUA,GAClCA,EAAAA,KAAOA,EAAGA,gBAAgBA,UAAUA;AACpCA,EAAAA,IAAMA,EAAGA,gBAAgBA,UAAUA,IAE9CA,EAAGA,gBAAgBA,MAAMA,IAnXhBvR,EAAAA,EAAAA,SAAAA,EAAAA,aAAHA,KAAAA,OCHV,IAAOA,KAAP,SAAOA,IAIHA,QAAAA,SAAwBA,EAA2BA,GAC/CoS,GAAIA,GAA0BA,kBAAZA,EAElBA,IAAgBA,gBAALA,IAAuBA,YAAcA,QAASA,EAAUA,CAC/DA,GAAIA,GAAQA,EAAEA,OACVA,KACAA,EAA4BA,CAChCA,KAAKA,GAAIA,KAAKA,IACVA,SAAUA,EAAGA,GACTpS,GAAGqS,QAAQC,EAAM,SAAS5P,GACtBqI,EAAK7G,GAAKxB,EACO,KAAV6P,GACHtB,EAASjO,MAAMrD,KAAMoL,MAE9BqH,EAAGA,EAAMA,QAEbA,CACHA,GAAIA,GAAOA,EAAEA,UACbA,IAAYA,WAARA,EAAmBA,CACnBA,IAAIA,EAIAA,MADAA,SAAQA,MAAMA,yHAFdA,WAKDA,IAAYA,WAARA,EAAmBA,CAC1BA,IAAIA,EAGAA,MAAOA,IAAGA,OAFVA,GAASA,GAAGA,aAIbA,IAAIA,IAAQA,IAAGA,SAClBA,GAAIA,EACIA,GAAGA,QAAQA,GAAMA,OACjBA,EAASA,GAAGA,QAAQA,GAAMA,SAE1BA,GAAGA,QAAQA,GAAMA,UAAUA,MACvBA,GAAIA,EACJA,KAAMA,QAIdA,IAAIA,GAAGA,QAAQA,GAAMA,OACjBA,MAAOA,IAAGA,QAAQA,GAAMA,YAIhCA,CAAcA,GAAGA,QAAQA,MAAMA,GAAMA,KAAKA,SAAAA,GAgBtCA,GAfKA,IAIGA,EAHCA,QAAQA,KAAKA,GAGJA,EAFAA,EAAOA,OAKrBA,EAAQA,SAASA,SACjBA,EAAUA,EAAQA,QAAQA,QAASA,QAGnCA,GACAA,GAAGA,QAAQA,EAASA,EAAMA,GAGzBA,EAQDA,MAAIA,IAAGA,QAAQA,IACPA,GAAGA,QAAQA,GAAMA,OACjBA,EAASA,GAAGA,QAAQA,GAAMA,SAE1BA,GAAGA,QAAQA,GAAMA,UAAUA,MACvBA,GAAIA,EACJA,KAAMA,IAEPA,GAAGA,QAAQA,IAEXA,IAjBXA,KAAIA,GAAGA,QAAQA,GAIXA,KAAMA,wBAA0BA,EAAOA,IAHvCA,OAAIA,IAAGA,QAAQA,GAAMA,OACVA,GAAGA,QAAQA,GAAMA,QAD5BA,WAjERpS,GAAAA,QAAOA,OAyFvBA,IAAIA,mBAEJA,SAAAA,SAAwBA,EAAaA,EAAsBA,GACvDwS,GAAIA,GAAaA,GAAGA,QAAQA,GACxBA,EAAOA,EAAWA,MAAMA,IAC5BA,GAAKA,KAELA,IAAIA,GAASA,GAAGA,QAAQA,GAAgBA,GAAIA,IAAGA,OAAOA,EAUtDA,IARAA,EAAOA,QAAUA,EACjBA,EAAOA,SAAWA,EAAWA,WAC7BA,EAAOA,KAAOA,EAAKA,KAAKA,KAAOA,IAI/BA,gBAAgBA,GAAOA,WAAWA,EAAYA,GAEjCA,GAATA,GAA0CA,GAAxBA,gBAAgBA,GAClCA,KAAMA,0CAA4CA,EAAeA,SAAWA,CAGhFA,QAAOA,EAnBKxS,GAAAA,QAAOA,OAsBvBA,SAAAA,YAAoBA,IAAaA,OAAgBA,OAC7CyS,GAAIA,cAAcA,CAElBA,IAAIA,cAAgBA,IAAIA,CACpBA,GAAIA,SAAUA,GAAGA,GAAGA,eAAeA,GAAGA,WAAWA,eAAeA,aAEhEA,KAAMA,GAAGA,GAAGA,eAAeA,KAEvBA,IAAIA,cAAcA,WAAWA,WAC7BA,IAAMA,IAAIA,cAAcA,QAAQA,QAASA,KAIjDA,GAAIA,iBAAkBA,SAASA,QAE3B,GAAIC,MAAO1S,GAAG2S,OAAOC,eAAiB,IACtC5S,IAAG2S,OAAOC,cAAgBC,MAG1B,IAAIC,WAAY9S,GAAAE,cAAcmS,QAC1BU,UAAY/S,GAAAE,cAAc8S,QAC1BC,SAAWjT,GAAAE,cAAc2S,OACzBK,SAAWlT,GAAAE,cAAcyS,OACzBQ,IAAMnT,GAAAE,cAAckT,CAExB,KACIpT,GAAAE,cAAcyS,OAASE,OAAOF,OAAOlF,KAAKoF,QAC1C7S,GAAAE,cAAc8S,QAAUH,OAAOG,QAC/BhT,GAAAE,cAAcmS,QAAUQ,OAAOR,QAAQ5E,KAAKoF,QAC5C7S,GAAAE,cAAc2S,OAASA,OACvB7S,GAAAE,cAAckT,EAAIP,OAAOO,EAAE3F,KAAKoF,QAE1B7S,GAAAE,cAAcyS,OAAQU,IAAMH,SAASG,IAE3C,SAAUC,KACN,MAAOC,MAAKD,MACb5H,KACCmH,OAAOG,QACP/I,OAAS,mBAAqBkB,KTiwEtC,QS7vEInL,GAAAE,cAAcyS,OAASO,SACvBlT,GAAAE,cAAc8S,QAAUD,UACxB/S,GAAAE,cAAcmS,QAAUS,UACxB9S,GAAAE,cAAc2S,OAASI,SACvBjT,GAAAE,cAAckT,EAAID,IAYlBnT,GAAG2S,OAAOC,gBACV5S,GAAG2S,OAAOC,cAAcY,QAAS,EAEM,GAAnCxT,GAAG2S,OAAOC,cAAca,SACxBzT,GAAG2S,OAAOC,cAAcc,cAAcC,IAAI3T,GAAG2S,OAAOC,cAAcI,aAM1EhT,GAAG2S,OAAOC,cAAgBF,KAC1BkB,aAAc,EA8BlBnB,OAjBIA,IAAGA,gBAAkBA,MAAOA,IAAGA,eAC/BA,gBAAgBA,GAAGA,eAAeA,MAElCA,OAAOA,MACHA,MAAOA,OAAOA,MACdA,KAAMA,MACNA,IAAKA,IACLA,KAAMA,KACNA,QAASA,SAASA,GACdoB,gBAAgB5J,IAEpBwI,KAAMA,WACFhG,QAAQrC,MAAM,2CAA6CyI,OAAOiB,IAAM3I,KAAO,SAAWA,MAE9FsH,SAAUA,SAGXA,cAxNRzS,KAAAA,OA4NP,IAAOA,KAAP,SAAOA,GAAGA,GAAAA,IAAAA,SAAAA,GAENoS,GAAIA,GAAeA,SAASA,GACxB,MAAOkB,GAAIhE,QAAQ,sCAAuC,QAGnD8C,GAAAA,SAKXA,SAAAA,GAAsBA,EAAyBA,GAC3C2B,GAAwBA,GAApBA,UAAUA,QAAiCA,gBAAXA,GAChCA,IAAKA,GAAIA,KAAKA,GAAAA,OAAQA,CAClBA,GAAIA,GAAKA,EAAAA,OAAOA,EAEhBA,IAAyBA,gBAAdA,GAAGA,QAAuBA,EAAGA,QAAUA,EAC9CA,MAAOA,SAAQA,QAAgBA,EAAGA,YAC/BA,IAAqCA,kBAA1BA,GAAAA,OAAOA,GAAGA,YACxBA,MAAQA,GAAAA,OAAOA,GAAGA,YAAoBA,EACnCA,IAAaA,EAAGA,OAAQA,KAAKA,GAChCA,MAAOA,SAAQA,QAAQA,EAAOA,QAAaA,EAAAA,OAAOA,GAAGA,OAAaA,EAAAA,OAAOA,GAAGA,kBAGjFA,IAAwBA,GAApBA,UAAUA,OAAaA,CAE9BA,GAAIA,GAAaA,GAAIA,EAAMA,EAAOA,UAElCA,KAAKA,GAAIA,KAAKA,GAAAA,OACVA,GAAIA,EAAAA,OAAOA,GAAGA,KAAOA,EAAKA,CACtBA,EAAaA,CACbA,OAGRA,GAAIA,IACAA,IAAKA,EACLA,OAAcA,YAAmBA,QAASA,EAASA,GAAIA,QAAOA,IAAMA,EAAaA,GAAQA,QAAQA,QAASA,aAAeA,KACzHA,YAAaA,EAGCA,KAAdA,EACAA,EAAAA,OAAOA,KAAKA,GAEZA,EAAAA,OAAOA,GAAcA,EAE7BA,MAAOA,SAAQA,QAAQA,MAlCX3B,EAAAA,MAAKA,EAqCrBA,EAAMA,WAAYA,aAClBA,EAAMA,YAAaA,cACnBA,EAAMA,QAASA,SAEfA,SAAAA,GAA4BA,GACxB4B,IAAKA,GAAIA,KAAKA,GACVA,EAAGA,eAAeA,EAAEA,eAAiBA,EAAMA,GAFnC5B,EAAAA,YAAWA,GApDrBpS,EAAAA,EAAAA,UAAAA,EAAAA,cAAHA,KAAAA,QA4DPA,GAAGqS,QAAQ4B,MAAM,SAAU,iBAErBxQ,OAAQ4O,QAAUrS,GAAGqS,OC3R3B,IAAOrS,KAAP,SAAOA,GACHA,GAAIA,GAAeA,uCAGRA,GAAAA,UAGXA,IAAAA,GAAAA,WAgBIkU,QAAAA,GAAYA,GAfZC,KAAAA,QAAeA,KAEfA,KAAAA,QAASA,EACTA,KAAAA,OAASA,KACTA,KAAAA,YACAA,KAAAA,SAAmBA,KACnBA,KAAAA,KAAeA,KACfA,KAAAA,SAAUA,EACVA,KAAAA,OAAQA,EAERA,KAAAA,aAEAA,KAAAA,gBAIIA,KAAKA,GAAKA,GAAQA,KACZA,KAAKA,OAAQA,IAAMA,EAAGA,OAAOA,QACnCA,KAAKA,cAAgBA,GAAIA,GAAcA,MAmC/CD,MA9BIA,GAAAA,UAAAA,QAAAA,SAAQA,GACJE,MAAOA,GAAGA,QAAQA,EAAGA,KAAKA,OAG9BF,EAAAA,UAAAA,QAAAA,SAAQA,EAAgCA,GACpCG,GAASA,YAAkBA,OAAOA,CAC9BA,GAAIA,KACJA,KAAKA,GAAIA,KAAoBA,GAAQA,CACjCA,GAAIA,GAAWA,EAAEA,EACjBA,GAAEA,GAAKA,KAAKA,QAAQA,EAAOA,IAEvBA,GAAYA,EAAEA,IACVA,EAAEA,GAAGA,WAAWA,UAAYA,EAAEA,GAAGA,SAASA,SAAQA,EAAEA,IAAMA,OAGtEA,MAAOA,GAAGA,QAAQA,EAAGA,GAErBA,MAAOA,GAAGA,QAAQA,KAAKA,QAAQA,GAASA,IAGhDH,EAAAA,UAAAA,OAAAA,WVigFI,IUjgFGI,GAAAA,MAAAA,EAAAA,EAAAA,EAAAA,UAAAA,OAAAA,IAAAA,EAAAA,EAAAA,GAAAA,UAAAA,EACHA,IAAIA,GAAMA,EAAGA,OAAOA,MAAMA,KAAMA,UAGhCA,OAFAA,GAAGA,OAAOA,WAAWA,OAASA,KAC9BA,KAAKA,SAASA,KAAKA,EAAGA,OAAOA,YACtBA,GAGXJ,EAAAA,UAAAA,EAAAA,SAAEA,EAAGA,GACDK,MAAaA,GAAIA,EAAEA,EAAGA,EAAGA,KAAKA,KAEtCL,IAtDalU,GAAAA,OAAMA,CAwDnBA,IAAAA,GAAAA,WAIIwU,QAAAA,GAAYA,GACRC,KAAKA,OAASA,EACdA,KAAKA,OAAOA,WACZA,KAAKA,SAAUA,EAgFvBD,MA7EIA,GAAAA,UAAAA,IAAAA,SAAIA,EAASA,GACTE,GAAUA,EAAIA,QAA4BA,kBAAXA,IACvBA,EAAaA,KAAKA,GAAUA,CAC5BA,GAAIA,GAAOA,KAEPA,EAAOA,KACPA,EAAeA,IAcnBA,IAZMA,OAAOA,GAAUA,QAAQA,EAAcA,SAASA,EAAKA,EAAIA,EAAIA,GACzDtS,IAAOuS,GAAK9B,OAAO+B,eACjBxS,IAAOpC,GAAG6U,SACVC,EAAeA,MACfA,EAAa1S,IAAQ0S,EAAa1S,IAAQ,GAAK,IAE/C2S,EAAOA,MACPA,EAAK3S,IAAQ2S,EAAK3S,IAAQ,GAAK,MAKvCsS,EAAMA,CACNA,QAAQA,MAAMA,KAAKA,OAAOA,GAAKA,uDAC/BA,KAAKA,GAAIA,KAAKA,GACJA,IAAKA,GAAGA,SACVA,QAAQA,MAAMA,EAAGA,EAAKA,GAE9BA,SAAQA,YAKpBA,GAAIA,EACJA,IAAuBA,kBAAZA,GAAwBA,CAC/BA,GAAIA,GAAYA,EAAAA,cAAcA,QAC1BA,EAAYA,EAAAA,cAAcA,QAC1BA,EAAWA,EAAAA,cAAcA,OACzBA,EAAWA,EAAAA,cAAcA,OACzBA,EAAMA,EAAAA,cAAcA,CAExBA,KACIA,EAAAA,cAAcA,OAASA,KAAKA,OAAOA,OAAOA,KAAKA,KAAKA,QACpDA,EAAAA,cAAcA,QAAUA,KAAKA,OAAOA,QACpCA,EAAAA,cAAcA,QAAUA,KAAKA,OAAOA,QAAQA,KAAKA,KAAKA,QACtDA,EAAAA,cAAcA,OAASA,KAAKA,OAC5BA,EAAAA,cAAcA,EAAIA,KAAKA,OAAOA,EAAEA,KAAKA,KAAKA,QAEpCA,EAAAA,cAAcA,OAAQA,IAAMA,EAASA,IAE3CA,EAASA,EAAQA,MAAMA,KAAKA,OAAOA,QAASA,GV2/EhD,QUz/EIA,EAAAA,cAAcA,OAASA,EACvBA,EAAAA,cAAcA,QAAUA,EACxBA,EAAAA,cAAcA,QAAUA,EACxBA,EAAAA,cAAcA,OAASA,EACvBA,EAAAA,cAAcA,EAAIA,OAEnBA,GAASA,CAEhBA,MAAKA,SAAUA,EAEXA,IAAWA,KAAKA,OAAOA,SACnBA,MAAMA,IAA4BA,gBAAVA,IAAuCA,gBAAVA,IAAuCA,iBAAVA,KAClFA,KAAKA,OAAOA,QAAUA,EAAGA,KAAKA,EAAQA,KAAKA,OAAOA,UAI1DA,KAAKA,OAAOA,SAAUA,EAEtBA,KAAKA,OAAOA,QAASA,CAIrBA,KAFAA,GAAIA,GAAKA,KAEFA,KAAKA,OAAOA,UAAUA,SAAWA,EAAKA,KAAKA,OAAOA,UAAUA,UAC3DA,EAAGA,IACHA,EAAGA,GAAGA,KAAKA,OAAOA,UAGlCF,IAvFaxU,GAAAA,cAAaA,GA/DvBA,KAAAA,OCAP,IAAOA,KAAP,SAAOA,GACHA,QAAAA,GAAyBA,GACjBgV,IAAOA,GAAGA,UACVA,EAAGA,QAAQA,GAAOA,WACXA,GAAGA,QAAQA,IAHVhV,EAAAA,SAAQA,CAaxBA,SAAAA,KACIiV,GAAIA,GAAOA,EAAGA,oBAAoBA,SAAUA,aAAeA,EAAGA,OAAOA,cAAgBA,EAAGA,OAAOA,cAAcA,GAAKA,OAASA,KACvHA,EAAKA,EAAGA,oBAAoBA,WAAYA,YAAcA,KACtDA,EAAOA,EAAGA,oBAAoBA,MAAOA,YAAcA,KAEnDA,GAAOA,GAAMA,UAAUA,QAAoDA,gBAAnCA,WAAUA,UAAUA,OAASA,IAAkBA,UAAUA,UAAUA,OAASA,IAAMA,MAEzHA,GAAMA,IACPA,EAAKA,EAGTA,IAAIA,GAASA,IAYbA,IAVIA,EAAGA,OAAOA,eAAiBA,EAAGA,OAAOA,cAAcA,IAAMA,GACzDA,EAASA,EAAGA,OAAOA,cACnBA,EAAGA,OAAOA,cAAgBA,OAE1BA,EAASA,GAAIA,GAAGA,OAAOA,GACnBA,IAAKA,EAAOA,QAAUA,IAG9BA,EAAGA,OAAOA,WAAaA,EAEVA,OAATA,EAAeA,CACfA,GAAIA,IAAQA,GAAGA,SAAWA,EAAGA,QAAQA,KAAUA,EAE3CA,KADUA,GAAIA,OACRA,oBAAsBA,CAKhCA,IAFAA,EAAGA,QAAQA,GAAQA,EAEfA,GAAQA,EAAKA,OAAQA,CACrBA,GAAIA,KAEJA,IAAIA,EAAOA,MACPA,EAAOA,QAAQA,EAAMA,SAAUA,GAC3B,IAAK,GAAI/Q,KAAKgR,GACK,WAAXA,EAAKhR,GACLtB,UAAUsB,GAAK2O,EAAOG,QACN,WAAXkC,EAAKhR,KACVtB,UAAUsB,GAAK2O,EAAOR,QAG9BQ,GAAOa,cAAcC,IAAI5Q,EAAIH,iBAE9BqS,CACHA,IAAKA,GAAIA,KAAKA,GACKA,WAAXA,EAAKA,GACLA,EAAOA,aAAaA,EAAKA,IAAMA,EAAKA,GAAKA,EAAOA,QAC9BA,WAAXA,EAAKA,GACZA,EAAOA,aAAaA,EAAKA,IAAMA,EAAKA,GAAKA,EAAOA,QAEhDA,EAAOA,aAAaA,EAAKA,IAAMA,EAAKA,GAAKA,EAAOA,QAAQA,EAAKA,GAGrEA,GAAOA,cAAcA,IAAIA,EAAIA,QAGjCA,GAAOA,cAAcA,IAAIA,UAG7BA,GAAOA,cAAcA,IAAIA,KAG7BA,OAAOA,GAAOA,QAhEFjV,EAAAA,OAAMA,EAmEtBA,EAAOA,QAjFJA,KAAAA,OAqFP,IAAOA,KAAP,SAAOA,GAAGA,GAAAA,IAAAA,SAAAA,KAAAA,EAAAA,EAAAA,SAAAA,EAAAA,aAAHA,KAAAA,QAMPA,GAAGE,cAAcyS,OAAS3S,GAAG2S,OC3F7B3S,GAAG2S,OAAO,SAAU,WAAM,MAAA/S,SZsuF1B,IAAIuV,WAAaxV,MAAQA,KAAKwV,WAAc,SAAUC,EAAGrV,GACrD,IAAK,GAAIsV,KAAKtV,GAAOA,EAAEW,eAAe2U,KAAID,EAAEC,GAAKtV,EAAEsV,GACnD,SAASC,KAAO3V,KAAK4V,YAAcH,EACnCA,EAAE9P,UAAkB,OAANvF,EAAasD,OAAOmS,OAAOzV,IAAMuV,EAAGhQ,UAAYvF,EAAEuF,UAAW,GAAIgQ,KazuFzEtV,IAAV,SAAUA,GACNA,GAAAA,GAAAA,SAAAA,GAA+ByV,UAAAA,EAAAA,EAY3BA,SAAAA,GAAYA,GACRC,EAAAA,KAAAA,MAHMA,KAAAA,QAINA,GAAQA,KAAKA,UAAUA,GAqC/BD,MAlCIA,GAAAA,UAAAA,OAAAA,WAAWE,MAAOA,MAAKA,MAEvBF,EAAAA,UAAAA,UAAAA,SAAWA,EAAyBA,GAC5BG,YAAkBA,KAClBA,EAASA,EAAOA,SAGpBA,KAAKA,GAAIA,KAAKA,GACVA,KAAKA,IAAIA,EAAGA,EAAOA,IAAKA,EAG5BA,MAAKA,KAAKA,EAAUA,OAAOA,UAAWA,KAAKA,KAAMA,IAGrDH,EAAAA,UAAAA,IAAAA,SAAIA,EAAeA,EAAYA,GAC3BI,GAAKA,MAAMA,GAAXA,CAEAA,GAAIA,GAAQA,KAAKA,KAAKA,EAEtBA,MAAKA,KAAKA,GAASA,CAEnBA,IAAIA,GAAKA,EAAQA,UAEbA,KAAMA,OAA4BA,kBAAbA,MAAKA,IAC1BA,KAAKA,GAAIA,EAAOA,GAEpBA,KAAKA,KAAKA,EAAIA,KAAKA,KAAKA,GAAQA,IAE/BA,GAAsBA,KAAKA,KAAKA,EAAUA,OAAOA,aAAcA,KAAKA,KAAMA,EAAOA,KAAKA,KAAKA,GAAQA,KAGxGJ,EAAAA,UAAAA,IAAAA,SAAIA,GACAK,MAAOA,MAAKA,KAAKA,IA/CdL,EAAAA,OAASA,EAAGA,MAEfA,UAAWA,YAEXA,aAAcA,gBAElBA,EAAAA,gBAAgBA,QA2CpBA,GAnD+BzV,EAAGA,gBAArBA,GAAAA,UAASA,GADhBA,KAAAA,OAuDV,IAAUA,KAAV,SAAUA,GAAGA,GAAAA,IAAAA,SAAAA,GACTyV,QAAAA,GAAsBA,EAAsBA,SAC7BM,GAAOA,IACdA,OAAOA,eAAeA,EAAQA,EAAYA,YACtCA,IAAKA,WACD,MAAOpW,MAAK+J,KAAKsM,IAErBD,IAAKA,SAASA,GACVpW,KAAKgU,IAAIqC,EAAaC,IAE1BF,YAAYA,IATRN,EAAAA,MAAKA,GADZzV,EAAAA,EAAAA,YAAAA,EAAAA,gBAAHA,KAAAA,ObqvFV,IAAIkW,YAAcvW,MAAQA,KAAKuW,YAAe,SAAUC,EAAYC,EAAQhU,EAAKiU,GAC7E,GAA2HjB,GAAvH5U,EAAIoC,UAAUd,OAAQ0B,EAAQ,EAAJhD,EAAQ4V,EAAkB,OAATC,EAAgBA,EAAOhT,OAAOiT,yBAAyBF,EAAQhU,GAAOiU,CACrH,IAAuB,gBAAZE,UAAoD,kBAArBA,SAAQC,SAAyBhT,EAAI+S,QAAQC,SAASL,EAAYC,EAAQhU,EAAKiU,OACpH,KAAK,GAAInS,GAAIiS,EAAWrU,OAAS,EAAGoC,GAAK,EAAGA,KAASkR,EAAIe,EAAWjS,MAAIV,GAAS,EAAJhD,EAAQ4U,EAAE5R,GAAKhD,EAAI,EAAI4U,EAAEgB,EAAQhU,EAAKoB,GAAK4R,EAAEgB,EAAQhU,KAASoB,EAChJ,OAAOhD,GAAI,GAAKgD,GAAKH,OAAOoT,eAAeL,EAAQhU,EAAKoB,GAAIA,GAE5DkT,WAAc/W,MAAQA,KAAK+W,YAAe,SAAUC,EAAGC,GACvD,MAAuB,gBAAZL,UAAoD,kBAArBA,SAAQM,SAAgCN,QAAQM,SAASF,EAAGC,GAAtG,QcnzFM5W,IAAV,SAAUA,GAENA,GAAAA,GAAAA,SAAAA,GAAmC8W,UAAAA,EAAAA,EAqB/BA,SAAAA,GAAYA,EAAYA,GACpBC,EAAAA,KAAAA,MArBJA,KAAAA,YAGQA,KAAAA,cAeRA,KAAAA,eAAyBA,EA6TzBA,KAAAA,OAASA,KAAKA,KAzTVA,KAAKA,SAAWA,MAEhBA,KAAKA,MAASA,KAAKA,SAASA,YAAcA,GAAIA,OAAMA,KAAKA,SAASA,aAAeA,GAAIA,OAErFA,GAAQA,KAAKA,SAASA,GAsiC9BD,MAliCIA,GAAAA,UAAAA,MAAAA,WACIE,MAAOA,MAAKA,MAAMA,IAEtBF,EAAAA,UAAAA,KAAAA,WACIG,MAAIA,MAAKA,MAAMA,OACJA,KAAKA,MAAMA,KAAKA,MAAMA,OAASA,GAD1CA,QAQJH,EAAAA,UAAAA,MAAAA,SAAMA,GACFI,KAAKA,QAAQA,EAAWA,OAAOA,wBAAyBA,GACxDA,KAAKA,MAAMA,OAASA,EACpBA,KAAKA,cACLA,KAAKA,QAAQA,EAAWA,OAAOA,uBAAwBA,IACtDA,GAAgBA,KAAKA,KAAKA,EAAWA,OAAOA,QAASA,UAAWA,IAMrEJ,OAAAA,eAAIA,EAAAA,UAAAA,UdmyFAK,IcnyFJL,WACIM,MAAOA,MAAKA,MAAMA,QdyyFlBzD,IcnyFJmD,SAAWA,GACPM,GAAIA,MAAMA,IAAkBA,EAARA,EAAWA,KAAMA,IAAIA,UACzCA,MAAKA,UAAUA,IdsyFfC,YAAY,EACZC,cAAc,IcpyFlBR,EAAAA,UAAAA,UAAAA,WACIS,MAAOA,MAAKA,MAAMA,QAGtBT,EAAAA,UAAAA,UAAAA,SAAUA,GACNU,GAAmBA,EAAfA,EAAkBA,KAAMA,kBAC5BA,IAAIA,KAAKA,YAAcA,EACnBA,KAAOA,KAAKA,YAAcA,GACtBA,KAAKA,UAGTA,MAAKA,MAAMA,OAASA,CAGxBA,OADAA,MAAKA,KAAKA,EAAWA,OAAOA,QAASA,SAAUA,KAAKA,MAAMA,QACnDA,MASXV,EAAAA,UAAAA,IAAAA,SAAOA,EAAsBA,GAKzBW,IAAKA,GAJDA,GAAQA,UAAUA,IAAMA,KAExBA,EAAOA,GAAIA,GAAGA,WAETA,EAAIA,EAAGA,EAAIA,KAAKA,MAAMA,OAAQA,IAClCA,IAAKA,MAAKA,OAAUA,EAAKA,KAAKA,EAAKA,KAAKA,EAAOA,KAAKA,MAAMA,IAE/DA,OAAOA,IAQXX,EAAAA,UAAAA,QAAAA,SAAQA,EAAwCA,GAC5CY,GAAIA,GAAQA,UAAUA,IAAMA,IAE5BA,IAAIA,WAAaA,MAAKA,MAClBA,KAAKA,MAAMA,QAAQA,EAAMA,OAEzBA,KAAKA,GAAIA,GAAIA,EAAGA,EAAIA,KAAKA,MAAMA,OAAQA,IAClCA,IAAKA,MAAKA,OAAkCA,mBAAjBA,MAAKA,MAAMA,IAAqBA,EAAKA,KAAKA,EAAOA,KAAKA,MAAMA,GAAIA,IAQxGZ,EAAAA,UAAAA,aAAAA,SAAaA,EAAwCA,GACjDa,GAAIA,KAAKA,MAAMA,OAAQA,CACnBA,GAAIA,GAAQA,KAAKA,MAAMA,SAEnBA,EAAOA,KAEPA,EAAiCA,GAAvBA,EAA2BA,aAAeA,UAE7BA,IAAvBA,IAA0BA,EAAsBA,IAEpDA,EAAsBA,KAAKA,IAAIA,GAAuBA,GAEtDA,IAAIA,GAAIA,CAGRA,SAAAA,KACIC,EAAQA,WAEJ,IADA,GAAIC,GAAQ7X,EAAGiD,MACRjD,EAAGiD,MAAQ4U,EAAQC,GAAuBC,EAAMjW,QACnDkW,EAAKtM,KAAKiJ,EAAMoD,EAAME,QAAS/T,GAC/BA,GAEA6T,GAAMjW,QAAQoW,KACnBN,GAGPD,MAIAb,EAAAA,UAAAA,SAARA,SAAiBA,EAAMA,GACnBqB,GAAIA,KAAKA,SAASA,IAAKA,CACnBA,KAAMA,KAAKA,SAASA,MAAOA,IAAOA,KAAMA,4BACFA,oBAA3BA,GAAKA,KAAKA,SAASA,OAC1BA,KAAKA,WAAWA,EAAKA,KAAKA,SAASA,MAAQA,KAI/CrB,EAAAA,UAAAA,WAARA,SAAmBA,GACXsB,KAAKA,SAASA,KACwBA,mBAA3BA,GAAKA,KAAKA,SAASA,MACtBA,EAAKA,KAAKA,SAASA,MAAQA,MAAKA,kBACzBA,MAAKA,WAAWA,EAAKA,KAAKA,SAASA,OAKhDtB,EAAAA,UAAAA,WAAVA,WACIuB,GAAIA,KAAKA,SAASA,IAAKA,CACnBA,KAAKA,aACLA,IAAIA,GAAOA,IACXA,MAAKA,QAAQA,SAASA,EAAGA,GACjBjM,GAAoC,mBAAxBA,GAAEuI,EAAK2D,SAASlW,OAC5BuS,EAAK4D,WAAWnM,EAAEuI,EAAK2D,SAASlW,MAAQ8B,OAYxD4S,EAAAA,UAAAA,MAAAA,SAAMA,GACF0B,MAAOA,MAAKA,MAAMA,IAGtB1B,EAAAA,UAAAA,OAAAA,SAAUA,EAAwDA,GAC9D2B,MAAOA,MAAKA,MAAMA,OAAOA,EAAIA,IAWjC3B,EAAAA,UAAAA,QAAAA,SAAQA,GACJ4B,GAAIA,EAEJA,IAAmBA,kBAARA,GACPA,KAAMA,IAAIA,UAKdA,IAHIA,EAAKA,GAGJA,EAAIA,QAETA,IAAIA,KAaJA,OAXAA,MAAKA,QAAQA,SAASA,GAClB,GAAIC,GAAI5V,EAAGqJ,EACPuM,KACIA,IAAKC,GACLA,EAAOD,GAAG1K,KAAK7B,GAEfwM,EAAOD,GAAK,GAAI3Y,GAAG6Y,YAAezM,GAAIzM,KAAK2Y,aAKhDI,GAMX5B,OAAAA,eAAIA,EAAAA,UAAAA,OdyxFAK,IczxFJL,WACIgC,MAAOA,MAAKA,UAAYA,KAAKA,SAASA,Kd2xFtCzB,YAAY,EACZC,cAAc,IcpxFlBR,EAAAA,UAAAA,SAAAA,SAASA,EAAgBA,GACrBiC,GAAIA,KAAKA,SAASA,IAAKA,CACnBA,KAAMA,KAAKA,SAASA,MAAOA,IAEvBA,WADAA,SAAQA,MAAMA,2CAA6CA,KAAKA,SAASA,IAI7EA,IAAIA,EAASA,KAAKA,SAASA,MAAQA,MAAKA,WAEpCA,WADAA,SAAQA,MAAMA,mDAAqDA,KAAKA,SAASA,IAAMA,IAAMA,EAASA,KAAKA,SAASA,MAK5HA,GAAIA,GAAUA,KAAKA,MAAMA,OACrBA,KAAKA,MAAMA,KAAKA,GAChBA,KAAKA,SAASA,EAAUA,OACrBA,CACHA,GAAIA,GAAMA,KAAKA,MAAMA,OAAOA,EAC5BA,MAAKA,MAAMA,KAAKA,GAChBA,KAAKA,MAAQA,KAAKA,MAAMA,OAAOA,GAC/BA,KAAKA,aACLA,KAAKA,KAAKA,EAAWA,OAAOA,kBAC5BA,KAAKA,KAAKA,EAAWA,OAAOA,QAASA,EAAWA,OAAOA,kBAG3DA,KAAKA,KAAKA,EAAWA,OAAOA,gBAAiBA,EAAQA,GACrDA,KAAKA,KAAKA,EAAWA,OAAOA,QAASA,EAAWA,OAAOA,gBAAiBA,EAAQA,IAQpFjC,EAAAA,UAAAA,SAAAA,SAASA,GACLkC,GAAIA,GAASA,KAAKA,MAAMA,EAKxBA,OAJAA,MAAKA,MAAMA,OAAOA,EAAQA,GAC1BA,KAAKA,aACLA,KAAKA,KAAKA,EAAWA,OAAOA,eAAgBA,EAAQA,GACpDA,KAAKA,KAAKA,EAAWA,OAAOA,QAASA,EAAWA,OAAOA,eAAgBA,EAAQA,GACxEA,GAQXlC,EAAAA,UAAAA,MAAAA,SAAMA,EAAgBA,GAClBmC,GAAIA,GAASA,KAAKA,MAAMA,EACxBA,MAAKA,WAAWA,GAChBA,KAAKA,MAAMA,GAAUA,EACrBA,KAAKA,SAASA,EAAUA,GACxBA,KAAKA,KAAKA,EAAWA,OAAOA,eAAgBA,EAAQA,EAAUA,GAC9DA,KAAKA,KAAKA,EAAWA,OAAOA,QAASA,EAAWA,OAAOA,eAAgBA,EAAQA,EAAUA,IAU7FnC,EAAAA,UAAAA,KAAAA,SAAKA,EAAaA,GACdoC,GAAIA,GAASA,EAEbA,IAAIA,KAAKA,SAASA,IAAKA,CACnBA,KAAMA,KAAKA,SAASA,MAAOA,IAEvBA,MADAA,SAAQA,MAAMA,2CAA6CA,KAAKA,SAASA,KAClEA,CAGXA,IAAIA,EAASA,KAAKA,SAASA,MAAQA,MAAKA,WAEpCA,MADAA,SAAQA,MAAMA,mDAAqDA,KAAKA,SAASA,IAAMA,IAAMA,EAASA,KAAKA,SAASA,MAC7GA,EAIfA,EAASA,KAAKA,MAAMA,KAAKA,GAAYA,CAErCA,KACIA,KAAKA,SAASA,EAAUA,GAC1BA,MAAOA,GAGLA,MAFAA,MAAKA,MAAMA,MACXA,QAAQA,MAAMA,2CAA6CA,KAAKA,SAASA,KAClEA,GAQXA,MALKA,KACDA,KAAKA,KAAKA,EAAWA,OAAOA,gBAAiBA,EAAQA,GACrDA,KAAKA,KAAKA,EAAWA,OAAOA,QAASA,EAAWA,OAAOA,gBAAiBA,EAAQA,IAG7EA,GAQXpC,EAAAA,UAAAA,IAAAA,SAAIA,GACAqC,GAAIA,KAAKA,MAAMA,OAASA,EAAGA,CACvBA,GAAIA,GAAMA,KAAKA,MAAMA,KAOrBA,OANAA,MAAKA,WAAWA,GAEXA,IACDA,KAAKA,KAAKA,EAAWA,OAAOA,eAAgBA,KAAKA,MAAMA,OAAQA,GAC/DA,KAAKA,KAAKA,EAAWA,OAAOA,QAASA,EAAWA,OAAOA,eAAgBA,KAAKA,MAAMA,OAAQA,IAEvFA,EAEXA,MAAOA,OAKXrC,EAAAA,UAAAA,SAAAA,SAASA,EAA+BA,EAA+BA,GACnEsC,IAAKA,EAAOA,MAAOA,KAEnBA,IAAIA,GAASA,KAAKA,MAAMA,OAASA,CAIjCA,IAFAA,KAAKA,eAAgBA,EAEuCA,mBAAxDA,OAAOA,UAAUA,SAASA,KAAKA,GAAOA,eAAsCA,YAAiBA,GAAGA,WAChGA,GAAIA,WAAaA,IAAiCA,kBAAjBA,GAAMA,QAAuBA,CAC1DA,GAAIA,GAAOA,IACXA,GAAMA,QAAQA,SAASA,GACnBzE,EAAK1G,KAAKqE,EAAM+G,SAGpBD,KAAKA,GAAIA,GAAIA,EAAGA,EAAIA,EAAMA,OAAQA,IAC9BA,KAAKA,KAAKA,EAAMA,GAAIA,OAG5BA,KAAKA,GAAIA,KAAKA,GACVA,KAAKA,KAAKA,EAAMA,GAAIA,EAY5BA,OAPKA,KACDA,KAAKA,KAAKA,EAAWA,OAAOA,qBAAsBA,EAAQA,KAAKA,MAAMA,OAASA,GAAIA,GAClFA,KAAKA,KAAKA,EAAWA,OAAOA,QAASA,EAAWA,OAAOA,qBAAsBA,EAAQA,KAAKA,MAAMA,OAASA,GAAIA,IAGjHA,KAAKA,eAAgBA,EAEdA,MAYXtC,EAAAA,UAAAA,OAAAA,SAAOA,GACHwC,GAAIA,GAASA,EAEbA,OAAIA,MAAKA,SAASA,KAAOA,KAAKA,SAASA,MAAOA,IAAYA,EAASA,KAAKA,SAASA,MAAQA,MAAKA,YAAcA,KAAKA,MAAMA,EAASA,KAAKA,WAAWA,EAASA,KAAKA,SAASA,SAAWA,EACvKA,KAAKA,YAAYA,GAGrBA,KAAKA,YAAYA,KAAKA,QAAQA,KASzCxC,EAAAA,UAAAA,YAAAA,SAAYA,GACRyC,MAAIA,MAAKA,SAASA,KAAOA,IAAOA,MAAKA,WAC1BA,KAAKA,YAAYA,KAAKA,WAAWA,IAD5CA,QAWJzC,EAAAA,UAAAA,YAAAA,SAAYA,GACR0C,GAAaA,IAATA,EAAaA,CACbA,GAAIA,GAAWA,KAAKA,MAAMA,EAC1BA,MAAKA,KAAKA,EAAWA,OAAOA,eAAgBA,EAAOA,EAAUA,GAC7DA,KAAKA,KAAKA,EAAWA,OAAOA,QAASA,EAAWA,OAAOA,eAAgBA,EAAOA,EAAUA,GAE5FA,MAAOA,OAGX1C,EAAAA,UAAAA,KAAAA,SAAKA,GACD2C,MAAOA,MAAKA,MAAMA,KAAKA,IAW3B3C,EAAAA,UAAAA,IAAAA,SAAIA,GAQA4C,GAAIA,MAEAA,EAAeA,EAAQA,SAAWA,KAElCA,EAAkBA,SAASA,GAC3B,GAAIC,GAAM,KACNC,EAAO,CA8BX,OA1BAC,GAAIC,QAAQ,SAASxH,GACjB,GAAIqH,EAAK,CACL,IAAK,GAAIzV,KAAKoO,GACNyH,GAAgB7V,GAAuB,gBAAXoO,GAAKpO,IAAoC,gBAAVyV,GAAIzV,IAAmC,mBAAVyV,GAAIzV,IAAwB8V,IAAcA,EAAQC,cAAmD,IAAnCD,EAAQC,aAAalK,QAAQ7L,IAAe8V,EAAQE,SAAyC,IAA9BF,EAAQE,QAAQnK,QAAQ7L,MACjPyV,EAAIzV,IAAMyV,EAAIzV,IAAM,GAAKoO,EAAKpO,GAGtCyV,GAAI,sBACD,CACHA,KAEAtW,OAAOoT,eAAekD,EAAK,gBACvBtC,YAAY,EACZF,IAAK,WAAa,MAAOyC,IACzBjG,IAAK,SAASsC,GAAS2D,EAAO3D,KAGlC8D,IAAiBJ,EAAII,GAAgBzH,EAAKyH,GAC1C,KAAK,GAAI7V,KAAKoO,GACNyH,GAAgB7V,GAAuB,gBAAXoO,GAAKpO,IAAoB8V,IAAcA,EAAQC,cAAmD,IAAnCD,EAAQC,aAAalK,QAAQ7L,IAAe8V,EAAQE,SAAyC,IAA9BF,EAAQE,QAAQnK,QAAQ7L,MAClLyV,EAAIzV,GAAKoO,EAAKpO,GAGtByV,GAAI,gBAAkB,KAGvBA,EAGXD,IAAoBA,MAAhBA,EACAA,MAAOA,GAAgBA,KAE3BA,IAAIA,GAAUA,KAAKA,QAAQA,EAE3BA,KAAKA,GAAIA,KAAKA,GACVA,EAAOA,KAAKA,EAAgBA,EAAQA,IAGxCA,OAAOA,IAgBX5C,EAAAA,UAAAA,QAAAA,SAAQA,GAEJqD,GAAIA,GAAUA,EAAOA,EAAGA,KAAKA,MAAMA,MAAMA,GAAQA,MAQjDA,OANAA,MAAKA,MAAMA,KAAKA,GAChBA,KAAKA,aAELA,KAAKA,KAAKA,EAAWA,OAAOA,iBAAkBA,EAAMA,OACpDA,KAAKA,KAAKA,EAAWA,OAAOA,QAASA,EAAWA,OAAOA,iBAAkBA,GAElEA,MAEXrD,EAAAA,UAAAA,YAAAA,SAAYA,GACRsD,GAAIA,GAAKA,EAAOA,EAAGA,KAAKA,MAAMA,MAAMA,GAAQA,IAe5CA,OAbIA,GACAA,KAAKA,MAAMA,KAAKA,SAASA,EAAGA,GACxB,OAAQrX,EAAG3C,EAAGL,MAGlBqa,KAAKA,MAAMA,OACXA,KAAKA,MAAMA,WAGfA,KAAKA,aAELA,KAAKA,KAAKA,EAAWA,OAAOA,iBAAkBA,EAAMA,QACpDA,KAAKA,KAAKA,EAAWA,OAAOA,QAASA,EAAWA,OAAOA,iBAAkBA,GAClEA,MAQXtD,EAAAA,UAAAA,KAAAA,SAAKA,GACDuD,GAAIA,QAAUA,MAAKA,MACfA,MAAOA,MAAKA,MAAMA,KAAKA,EAE3BA,KAAKA,GAAIA,GAAIA,EAAGA,EAAIA,KAAKA,MAAMA,OAAQA,IACnCA,GAAIA,IAAKA,OAAQA,EAAUA,KAAKA,UAAUA,GAAIA,KAAKA,GAAIA,EAAGA,MACtDA,OAAOA,CAEfA,QAAOA,GAWXvD,EAAAA,UAAAA,MAAAA,SAAMA,EAAsDA,GACxDwD,GAA+BA,gBAApBA,GAA8BA,CAGrCA,IAAKA,GAFDA,GAAMA,GAAIA,GAELA,EAAIA,EAAGA,EAAIA,KAAKA,MAAMA,OAAQA,IAC9BA,IAAKA,MAAKA,OAAUA,KAAKA,MAAMA,GAAGA,IAAoBA,UAAUA,IACjEA,EAAIA,KAAKA,KAAKA,MAAMA,GAE5BA,OAAOA,GAEPA,GAAIA,KAAKA,MAAMA,QAAUA,IAAOA,CAC5BA,GAAIA,GAAKA,EAAGA,cAAcA,EAE1BA,OAAOA,IAAIA,GAAGA,WAAcA,EAAGA,KAAKA,QAGxCA,GAAIA,KAAKA,MAAMA,OACXA,MAAOA,IAAIA,GAAcA,KAAKA,MAAMA,OAAOA,GAI/CA,KAAKA,GAFDA,GAAMA,GAAIA,GAELA,EAAIA,EAAGA,EAAIA,KAAKA,MAAMA,OAAQA,IAC9BA,IAAKA,MAAKA,OAAUA,EAAgBA,KAAKA,MAAMA,KAChDA,EAAIA,KAAKA,KAAKA,MAAMA,GAE5BA,OAAOA,IASfxD,EAAAA,UAAAA,YAAAA,SAAYA,GACRyD,GAAIA,GAASA,KAAKA,gBAAgBA,EAClCA,OAAcA,IAAVA,EACOA,KAAKA,SAASA,GADzBA,QAkBJzD,EAAAA,UAAAA,OAAAA,SAAOA,GACH0D,GAAIA,GAAKA,EACLA,QAAcA,EAElBA,IAAwBA,GAApBA,UAAUA,OAAaA,CACvBA,GAAIA,GAAOA,EAYXA,IAVIA,KAAKA,SAASA,KAAOA,KAAKA,SAASA,MAAOA,KAC1CA,EAAOA,KAAKA,gBAAgBA,EAAGA,KAAKA,SAASA,MAChCA,KAATA,GAAeA,IAAOA,KAAKA,MAAMA,KACjCA,EAAOA,KAIHA,IAARA,IACAA,EAAOA,KAAKA,YAAYA,IAEhBA,IAARA,EACAA,OAAQA,KAAKA,SAASA,GAG1BA,IAAYA,UAARA,GAA4BA,UAARA,GAA4BA,WAARA,EAAmBA,MAAOA,MAG1EA,GAAaA,aAATA,EAAqBA,CAGrBA,IAAKA,GAFDA,MAEKA,EAAIA,EAAGA,EAAIA,KAAKA,MAAMA,OAAQA,IAC/BA,IAAKA,MAAKA,OACLA,EAAkBA,KAAKA,MAAMA,KAC9BA,EAAQA,MACJA,EAAGA,EACHA,EAAGA,KAAKA,MAAMA,IAM9BA,IAAIA,GAAOA,KACPA,IAYJA,OAVIA,GAAQA,SACRA,EAAQA,QAAQA,SAASA,GACrB7F,EAAK8F,OAAOrO,EAAEA,GACdsO,EAAOzM,KAAK7B,EAAEA,KAGlBoO,KAAKA,KAAKA,EAAWA,OAAOA,oBAAqBA,GACjDA,KAAKA,KAAKA,EAAWA,OAAOA,QAASA,EAAWA,OAAOA,oBAAqBA,IAGzEA,IAaf1D,EAAAA,UAAAA,OAAAA,SAAOA,EAA4CA,GAC/C6D,GAAwBA,GAApBA,UAAUA,QAA+BA,gBAATA,GAAmBA,CAEnDA,GAAIA,KAAKA,SAASA,KACVA,IAAUA,KAAKA,SAASA,KACpBA,UAAUA,IAAMA,MAAKA,WAAYA,CACjCA,GAAIA,GAAMA,KAAKA,MAAMA,KAAKA,WAAWA,UAAUA,IAC/CA,IAAIA,GAAOA,EAAIA,IAAoBA,UAAUA,GAAIA,MAAOA,GAKpEA,IAAKA,GAAIA,GAAIA,EAAGA,EAAIA,KAAKA,MAAMA,OAAQA,IACnCA,GAAIA,KAAKA,MAAMA,IAAMA,KAAKA,MAAMA,GAAGA,IAAoBA,UAAUA,GAC7DA,MAAOA,MAAKA,MAAMA,OAI1BA,KAAKA,GAAIA,GAAIA,EAAGA,EAAIA,KAAKA,MAAMA,OAAQA,IACnCA,GAAIA,KAAKA,MAAMA,IAAOA,EAAcA,KAAKA,MAAMA,IAC3CA,MAAOA,MAAKA,MAAMA,EAE9BA,OAAOA,OAQX7D,EAAAA,UAAAA,SAAAA,SAASA,GACL8D,MAAmCA,IAA5BA,KAAKA,MAAMA,QAAQA,IAQ9B9D,EAAAA,UAAAA,YAAAA,SAAYA,GACR+D,GAAIA,KAAKA,SAASA,IACdA,MAAQA,KAAOA,MAAKA,UAEpBA,MAAMA,6BASd/D,EAAAA,UAAAA,QAAAA,SAAQA,GAAmBgE,MAAOA,MAAKA,MAAMA,QAAQA,IAOrDhE,EAAAA,UAAAA,YAAAA,SAAYA,GAAmBiE,MAAOA,MAAKA,MAAMA,YAAYA,IAK7DjE,EAAAA,UAAAA,QAAAA,WAGIkE,IAAKA,GAFDA,MAEKA,EAAIA,EAAGA,EAAIA,KAAKA,MAAMA,OAAQA,IAClCA,IAAKA,MAAKA,OAAUA,EAAEA,KAAKA,KAAKA,MAAMA,GAE3CA,OAAOA,IAOXlE,EAAAA,UAAAA,MAAAA,WAGImE,IAAKA,GAFDA,GAAOA,GAAIA,GAAcA,KAAMA,EAAGA,KAAKA,KAAKA,WAEvCA,EAAIA,EAAGA,EAAIA,KAAKA,MAAMA,OAAQA,IAClCA,IAAKA,MAAKA,OAAUA,EAAKA,KAAKA,KAAKA,MAAMA,GAE9CA,OAAOA,IAQXnE,EAAAA,UAAAA,WAAAA,SAAWA,GACPoE,MAAIA,MAAKA,SAASA,KACVA,IAAOA,MAAKA,WACLA,KAAKA,MAAMA,KAAKA,WAAWA,IAEnCA,MAQXpE,EAAAA,UAAAA,gBAAAA,SAAgBA,GACZqE,MAAIA,MAAKA,SAASA,KACVA,IAAOA,MAAKA,WACLA,KAAKA,WAAWA,GAExBA,IAQXrE,EAAAA,UAAAA,UAAAA,SAAUA,GACNsE,GAAIA,KAAKA,SAASA,IAAKA,CACnBA,KAAMA,KAAKA,SAASA,MAAOA,IACvBA,KAAMA,IAAIA,OAAMA,4CAGpBA,IAAIA,GAASA,KAAKA,gBAAgBA,EAAKA,KAAKA,SAASA,KAErDA,OAAcA,IAAVA,GACAA,EAAGA,KAAKA,KAAKA,MAAMA,GAASA,GAC5BA,KAAKA,YAAYA,GACVA,KAAKA,MAAMA,KAElBA,KAAKA,KAAKA,GACHA,KAanBtE,EAAAA,UAAAA,IAAAA,SAAIA,GAKAuE,GAAIA,MAEAA,EAAeA,EAAIA,SAAWA,KAE9BA,EAAkBA,SAASA,GAC3B,GAAI1B,GAAM,IAmBV,OAlBAE,GAAIC,QAAQ,SAASxH,GACjB,GAAIqH,EACA,IAAK,GAAIzV,KAAKoO,GACNyH,GAAgB7V,GAAuB,gBAAXoO,GAAKpO,IAAoC,gBAAVyV,GAAIzV,IAAmC,mBAAVyV,GAAIzV,IAAwBoX,IAAUA,EAAIrB,cAA+C,IAA/BqB,EAAIrB,aAAalK,QAAQ7L,IAAeoX,EAAIpB,SAAqC,IAA1BoB,EAAIpB,QAAQnK,QAAQ7L,KAC9M,MAAXoO,EAAKpO,IAAiBA,IAAKyV,MAAQA,EAAIzV,GAAKoO,EAAKpO,MACjDyV,EAAIzV,GAAKoO,EAAKpO,QAGvB,CACHyV,KACAI,IAAiBJ,EAAII,GAAgBzH,EAAKyH,GAC1C,KAAK,GAAI7V,KAAKoO,GACNyH,GAAgB7V,GAAuB,gBAAXoO,GAAKpO,IAAoBoX,IAAUA,EAAIrB,cAA+C,IAA/BqB,EAAIrB,aAAalK,QAAQ7L,IAAeoX,EAAIpB,SAAqC,IAA1BoB,EAAIpB,QAAQnK,QAAQ7L,MAC9JyV,EAAIzV,GAAKoO,EAAKpO,OAKvByV,EAGX0B,IAAoBA,MAAhBA,EACAA,MAAOA,GAAgBA,KAE3BA,IAAIA,GAAUA,KAAKA,QAAQA,EAE3BA,KAAKA,GAAIA,KAAKA,GACVA,EAAOA,KAAKA,EAAgBA,EAAQA,IAGxCA,OAAOA,IAUXvE,EAAAA,UAAAA,IAAAA,SAAIA,GAKAyE,GAAIA,MAEAA,EAAeA,EAAIA,SAAWA,KAE9BA,EAAkBA,SAASA,GAC3B,GAAI5B,GAAM,IAmBV,OAlBAE,GAAIC,QAAQ,SAASxH,GACjB,GAAIqH,EACA,IAAK,GAAIzV,KAAKoO,GACNyH,GAAgB7V,GAAuB,gBAAXoO,GAAKpO,IAAoC,gBAAVyV,GAAIzV,IAAmC,mBAAVyV,GAAIzV,IAAwBoX,IAAUA,EAAIrB,cAA+C,IAA/BqB,EAAIrB,aAAalK,QAAQ7L,IAAeoX,EAAIpB,SAAqC,IAA1BoB,EAAIpB,QAAQnK,QAAQ7L,KAC9M,MAAXoO,EAAKpO,IAAiBA,IAAKyV,MAAQA,EAAIzV,GAAKoO,EAAKpO,MACjDyV,EAAIzV,GAAKoO,EAAKpO,QAGvB,CACHyV,KACAI,IAAiBJ,EAAII,GAAgBzH,EAAKyH,GAC1C,KAAK,GAAI7V,KAAKoO,GACNyH,GAAgB7V,GAAuB,gBAAXoO,GAAKpO,IAAoBoX,IAAUA,EAAIrB,cAA+C,IAA/BqB,EAAIrB,aAAalK,QAAQ7L,IAAeoX,EAAIpB,SAAqC,IAA1BoB,EAAIpB,QAAQnK,QAAQ7L,MAC9JyV,EAAIzV,GAAKoO,EAAKpO,OAKvByV,EAGX4B,IAAoBA,MAAhBA,EACAA,MAAOA,GAAgBA,KAE3BA,IAAIA,GAAUA,KAAKA,QAAQA,EAE3BA,KAAKA,GAAIA,KAAKA,GACVA,EAAOA,KAAKA,EAAgBA,EAAQA,IAGxCA,OAAOA,IAaXzE,EAAAA,UAAAA,IAAAA,SAAIA,GACA0E,GACIA,GAAOA,KAAKA,IAAIA,EACpBA,KAAKA,GAAIA,KAAQA,GACbA,IAAKA,GAAIA,KAASA,GAAKA,GACNA,gBAATA,GAA2BA,GAASA,EAAIA,UAC5CA,EAAKA,GAAMA,IAAUA,EAAKA,GAAMA,gBAGxCA,OAAOA,IAIX1E,EAAAA,UAAAA,KAAAA,SAAKA,EAAkBA,GAAA2E,SAAAA,IAAAA,EAAAA,EACnBA,IAAIA,KAIJA,OAFAA,MAAKA,SAASA,EAAKA,EAAUA,GAEtBA,GAGX3E,EAAAA,UAAAA,SAAAA,SAASA,EAAkCA,EAAkBA,GAAA4E,SAAAA,IAAAA,EAAAA,EACzDA,IAAIA,GAAQA,KAAKA,IAAIA,KAAKA,MAAMA,OAASA,EAAUA,KAAKA,MAAMA,OAC9DA,GAAOA,EAAGA,OAAOA,EAIjBA,KAAKA,GAAIA,GAAIA,EAAUA,EAAJA,EAAWA,IAC1BA,EAAQA,KAAKA,KAAKA,MAAMA,GAE5BA,OAAOA,OAGX5E,EAAAA,UAAAA,UAAAA,SAAUA,EAAiBA,GACvB6E,GAAIA,GAAQA,KAAKA,MAAMA,EAMvBA,OALAA,MAAKA,MAAMA,GAAWA,KAAKA,MAAMA,GACjCA,KAAKA,MAAMA,GAAWA,EACtBA,KAAKA,aACLA,KAAKA,KAAKA,EAAWA,OAAOA,QAASA,EAAWA,OAAOA,kBACvDA,KAAKA,KAAKA,EAAWA,OAAOA,QAASA,OAAQA,EAASA,GAC/CA,MAIX7E,EAAAA,UAAAA,MAAAA,SAAMA,GACF8E,GAAIA,EAEkBA,mBAAXA,KACPA,EAAKA,EAGTA,IAAIA,KAGJA,IAAIA,EAAIA,CACJA,GAAIA,KAEJA,MAAKA,QAAQA,SAASA,GAClB,GAAIC,GAAK9Y,EAAGuP,EACZ,MAAMuJ,IAAMC,IAAS,CACjB,GAAI9N,IACA+N,MAAS,EAEb/N,GAAI,gBAAkB,EACtB8N,EAAOD,GAAM7N,EAEjB8N,EAAOD,GAAI,mBAGfD,KAAKA,GAAIA,KAAKA,GACVA,EAAOA,GAAGA,MAAQA,EAAOA,GAAGA,gBAC5BA,EAAOA,GAAGA,EAAQA,YAAcA,EAChCA,EAAOA,KAAKA,EAAOA,QAEpBA,CACHA,GAAIA,IACAA,MAAOA,EAGXA,GAAIA,gBAAkBA,KAAKA,MAAMA,OAEjCA,EAAIA,MAAQA,EAAIA,gBAEhBA,EAAOA,KAAKA,GAGhBA,MAAOA,IAIX9E,EAAAA,UAAAA,QAAAA,WACIkF,KAAKA,MAAMA,UACXA,KAAKA,KAAKA,EAAWA,OAAOA,kBAC5BA,KAAKA,KAAKA,EAAWA,OAAOA,QAASA,EAAWA,OAAOA,mBAS3DlF,EAAAA,UAAAA,WAAAA,SAAWA,EAAoCA,GAC3CmF,GAAIA,IACAA,SACAA,WAEJA,IAAIA,KAAKA,SAASA,IAAKA,CACnBA,GAAIA,MACAA,EAAOA,IACXA,GAAMA,QAAQA,SAASA,EAAMA,GACzB,KAAMtH,EAAK2D,SAASlW,MAAOkQ,IACvB,KAAM,IAAI4J,WAAU,4CAGxB,IAAIC,GAASxH,EAAKyH,gBAAgB9J,EAAKqC,EAAK2D,SAASlW,KAErDkB,GAAKgP,EAAKqC,EAAK2D,SAASlW,OAAQ,EAElB,IAAV+Z,GACAnc,EAAG2K,KAAKgK,EAAK0H,MAAMF,GAAS7J,GAC5BqC,EAAK2H,YAAYH,KAEjBxH,EAAK1G,KAAKqE,GACV5P,EAAI6Z,MAAMtO,KAAKqE,MAInB2J,IACAA,EAAIA,QAAUA,EAAKA,OAAOA,SAACA,GACvBA,QAASA,EAAKA,EAAKA,SAASA,MAAQA,WAGzCA,SAAQA,MAAMA,8DACrBA,OAAOA,IAGXnF,EAAAA,UAAAA,WAAAA,WACI0F,MAAOA,IAAIA,GAAkBA,KAAMA,EAAGA,KAAKA,KAAKA,YAMpD1F,EAAAA,UAAAA,gBAAAA,WAAyB2F,MAAOA,MAAKA,OA1jC9B3F,EAAAA,OAASA,EAAAA,MACZA,sBAAuBA,YACvBA,qBAAsBA,QACtBA,QAASA,UACTA,gBAAiBA,YACjBA,eAAgBA,SAChBA,eAAgBA,YAChBA,qBAAsBA,WACtBA,iBAAkBA,SAClBA,oBAAqBA,WACtBA,EAAAA,UAAUA,QAEbA,YAACA,EAAAA,UAAUA,Md6sHPJ,WAAW,cAAegG,Uc5sH9B5F,EAAAA,UAAAA,gBAAaA,QA8iCjBA,GAjkCmC9W,EAAAA,UAAtBA,GAAAA,WAAUA,CAokCvBA,IAAAA,GAAAA,SAAAA,GAAuC2c,UAAAA,EAAAA,EACnCA,SAAAA,GAAYA,EAAqBA,GADrCC,GAAAA,GAAAA,IAEQA,GAAAA,KAAAA,KAAMA,KAAMA,GAGZA,KAAKA,IAAIA,SAAUA,MAEnBA,KAAKA,IAAIA,QAASA,MAElBA,KAAKA,GAAGA,iBAAkBA,SAACA,EAAOA,GAC9BA,EAAKA,eAAeA,SAAUA,EAAOA,KAEzCA,KAAKA,GAAGA,gBAAiBA,SAACA,EAAOA,GAC7BA,EAAKA,eAAeA,QAASA,EAAOA,KAGxCA,KAAKA,SAASA,GAkLtBD,MA9KYA,GAAAA,UAAAA,eAARA,SAAuBA,EAAMA,EAAOA,GAChCE,GAAIA,GAA4BA,SAARA,GAAmBA,GAAQA,EAAWA,OAAOA,kBAA4BA,aAARA,GAA+BA,UAARA,GAA4BA,YAARA,CAExHA,UAARA,IACAA,KAAKA,QACLA,GAAoBA,IAGZA,YAARA,GAA8BA,UAARA,KACtBA,KAAKA,UACLA,GAAoBA,GAGpBA,GACAA,KAAKA,UAILF,EAAAA,UAAAA,QAARA,SAAgBA,GAGZG,GAFAA,KAAKA,MAAMA,GAEPA,KAAKA,IAAIA,UAAWA,CACpBA,GAAIA,GAAMA,KAAKA,IAAIA,UAAUA,kBAEzBA,EAASA,KAAKA,IAAIA,SAEtBA,IAAIA,EACAA,IAAKA,GAAIA,KAAKA,GACNA,EAAOA,KAAKA,KAAMA,EAAIA,KAAKA,KAAKA,KAAKA,EAAIA,GAAIA,OAErDA,KAAKA,GAAIA,KAAKA,GAAKA,KAAKA,KAAKA,EAAIA,GAAIA,GAE7CA,KAAKA,UAGTH,EAAAA,UAAAA,OAAAA,WACII,GAAIA,GAAQA,KAAKA,IAAIA,QAErBA,IAAIA,EAAOA,CACPA,GAAIA,KAEJA,KAAKA,GAAIA,KAAKA,MAAKA,MAAOA,EAAMA,GAAKA,KAAKA,MAAMA,EAEhDA,IAAIA,GAAKA,EAAMA,EAAIA,EAAGA,KAAKA,MAAMA,MAAMA,EAAMA,GAAKA,IAE9CA,GACIA,EAAMA,KACNA,KAAKA,MAAMA,KAAKA,SAASA,EAAGA,GACxB,OAAQha,EAAG3C,EAAGL,KAGlBgd,KAAKA,MAAMA,KAAKA,IAEpBA,KAAKA,MAAMA,OACXA,EAAMA,MAAQA,KAAKA,MAAMA,UAG7BA,KAAKA,GAAIA,KAAKA,MAAKA,MACfA,GAAIA,KAAKA,MAAMA,KAAOA,EAAMA,GAAIA,CAC5BA,KAAKA,aACLA,KAAKA,KAAKA,EAAWA,OAAOA,iBAAkBA,EAAMA,EAAGA,EAAMA,KAAOA,OAASA,OAC7EA,KAAKA,KAAKA,EAAWA,OAAOA,QAASA,EAAWA,OAAOA,iBAAkBA,EAAMA,EAC/EA,UAKhBJ,EAAAA,UAAAA,QAAAA,WACIK,KAAKA,WAETL,EAAAA,UAAAA,OAAAA,SAAOA,GAEHM,MADAA,MAAKA,IAAIA,SAAUA,GACZA,MAEXN,EAAAA,UAAAA,QAAAA,SAAQA,GAKJO,MAJAA,MAAKA,IAAIA,SACLA,EAAGA,EACHA,MAAMA,IAEHA,MAEXP,EAAAA,UAAAA,YAAAA,SAAYA,GAKRQ,MAJAA,MAAKA,IAAIA,SACLA,EAAGA,EACHA,MAAMA,IAEHA,MAEXR,EAAAA,UAAAA,SAAAA,SAASA,GAILS,GAHAA,KAAKA,SACLA,KAAKA,IAAIA,oBACTA,KAAKA,IAAIA,SAAUA,GACfA,EAAKA,CACLA,GAAIA,GAAOA,IAEXA,MAAKA,IAAIA,iBAAiBA,KAAKA,EAAIA,GAAGA,QAASA,SAASA,GAChDC,GACA1I,EAAK2I,MAAMD,MAInBD,KAAKA,IAAIA,iBAAiBA,KACtBA,EAAIA,GAAGA,YAAaA,SAASA,GACzBzI,EAAK4I,QAAQ,YAAaF,MAIlCD,KAAKA,IAAIA,iBAAiBA,KACtBA,EAAIA,GAAGA,UAAWA,SAASA,EAAMA,EAAIA,GACjC,GAAa,aAARI,GAA+B,UAARA,IAAqBxP,EAAImJ,IAAI,iBAAzD,CAEA,GAAIsG,GAAS9I,EAAKwC,IAAI,SAEtB,IAAY,aAARqG,GAA+B,UAARA,GAA4B,aAARA,EAAqB,CAChE,GAAIrB,GAASxH,EAAK5E,QAAQ2N,EAC1B,KAAKD,GAAUA,EAAOC,GAClB,OAAQF,GACJ,IAAK,YAKD,YAJc,IAAVrB,IACAxH,EAAK1G,KAAKyP,GACV/I,EAAKgJ,UAGb,KAAK,SAUD,MARc,IAAVxB,EACAxH,EAAK2H,YAAYH,GAEjBxH,EAAK1G,KAAKyP,OAGd/I,GAAKgJ,QAGT,KAAK,YACD,GAAc,IAAVxB,EAEA,WADAxH,GAAKiJ,SAASzB,OAK1B,IAAc,IAAVA,EAEA,WADAxH,GAAKiJ,SAASzB,GAM1B,MAAY,WAARqB,MACA7I,GAAKkJ,cAITlJ,GAAKmJ,eAAe9a,MAAM2R,EAAM/R,eAIxCwa,KAAKA,YAGbT,EAAAA,UAAAA,OAAAA,WACIoB,GAAIA,KAAKA,IAAIA,kBAAoBA,KAAKA,IAAIA,UAAWA,CACjDA,KAAKA,OAELA,IAAIA,GAAUA,KAAKA,IAAIA,gBAEvBA,KAAKA,GAAIA,KAAKA,GAASA,EAAQA,GAAGA,KAElCA,GAAQA,OAASA,EAEjBA,KAAKA,IAAIA,gBAAiBA,MAC1BA,KAAKA,IAAIA,SAAUA,QAG/BpB,GAlMuC3c,EAA1BA,GAAAA,eAAcA,GAtkCrBA,KAAAA,OCHV,IAAUA,KAAV,SAAUA,GAAGA,GAAAA,IAAAA,SAAAA,GAAKge,GAAAA,IAAAA,SAAAA,GAGdC,QAAAA,GAAkCA,GACzBC,EAAAA,UACDA,EAAGA,WAAaA,EAAWA,eAAiBA,GAC5CA,EAAAA,QAAUA,GAHFD,EAAAA,kBAAiBA,GAHnBD,EAAAA,EAAAA,MAAAA,EAAAA,UAALhe,EAAAA,EAAAA,OAAAA,EAAAA,WAAHA,KAAAA,OCGV,IAAUA,KAAV,SAAUA,GAAGA,GAAAA,IAAAA,SAAAA,GAAKge,GAAAA,IAAAA,SAAAA,GAKjBC,GAAAA,GAAAA,WAAAE,QAAAA,MAuHAA,MAAAA,KAvHsBF,GAAAA,mBAAkBA,GALvBD,EAAAA,EAAAA,MAAAA,EAAAA,UAALhe,EAAAA,EAAAA,OAAAA,EAAAA,WAAHA,KAAAA,OCDV,IAAUA,KAAV,SAAUA,GAAGA,GAAAA,IAAAA,SAAAA,GAAKge,GAAAA,IAAAA,SAAAA,GACjBC,GAAIA,IACHA,QAASA,YACTA,UAAaA,YACbA,SAAYA,WACZA,SAAYA,YAGPA,EAA0BA,EAG5BA,GAGHA,KAAMA,YACNA,IAAMA,MACNA,IAAQA,SACRA,IAAQA,SACRA,IAAOA,SACPA,IAAOA,SACPA,KAAQA,YACRA,MAASA,aACTA,GAAMA,UACNA,KAAQA,YACRA,KAAQA,cACRA,OAAUA,aACVA,IAAOA,MAMJA,GACHA,EAAKA,IACLA,EAAKA,IACLA,EAAKA,IACLA,EAAKA,IACLA,EAAKA,IACLA,EAAKA,IACLA,EAAKA,IACLA,EAAKA,IACLA,EAAKA,IACLA,EAAKA,IACLA,EAAKA,IACLA,EAAKA,IACLA,EAAKA,IACLA,EAAKA,IACLA,IAAQA,IACRA,IAAQA,WAKTA,EAAAA,SAAAA,GAAuDG,UAAAA,EAAAA,EAGtDA,SAAAA,KACCC,EAAAA,KAAAA,MAHOA,KAAAA,iBAA2BA,KAC3BA,KAAAA,eAAyBA,IAGhCA,KACCA,GAAIA,GAAUA,KAAKA,cAAcA,MAAOA,KAAKA,aAC7CA,IAAKA,KAAKA,SAASA,EAASA,iBAC3BA,KAAKA,iBAAmBA,OAGxBA,KAAKA,GADDA,IAAeA,SAAUA,MAAOA,IAAKA,MAChCA,EAAIA,EAAGA,EAAIA,EAAYA,OAAQA,IACvCA,GAAKA,KAAKA,SAASA,EAASA,EAAYA,GAAKA,iBAAmBA,CAC/DA,KAAKA,iBAAmBA,IAAOA,EAAYA,GAAGA,cAAiBA,GAC/DA,OAIHA,GAAIA,IACHA,iBAAkBA,sBAClBA,cAAeA,gBACfA,YAAaA,gCACbA,WAAYA,gBAEbA,KAAKA,GAAIA,KAAOA,GACXA,KAAKA,SAASA,EAASA,KAC1BA,KAAKA,eAAiBA,EAAmBA,IAG1CA,MAAOA,GACRA,KAAKA,iBAAmBA,KACxBA,KAAKA,eAAiBA,MAqBzBD,MAjBCA,GAAAA,UAAAA,oBAAAA,SAAoBA,GAA2BE,MAAaA,GAAIA,uBAChEF,EAAAA,UAAAA,kBAAAA,SAAkBA,EAAuBA,EAAiBA,GACzDG,EAAGA,KAAeA,MAARA,EAAeA,EAAUA,EAAUA,OAASA,GAEvDH,EAAAA,UAAAA,kBAAAA,WAA+BI,OAAOA,GACtCJ,EAAAA,UAAAA,wBAAAA,WACCK,MAAkEA,kBAA7CA,MAAKA,aAAaA,KAAsBA,kBAE9DL,EAAAA,UAAAA,mBAAAA,WACCM,MAAUA,MAAKA,iBAAoBA,KAAKA,iBAAmBA,IAE5DN,EAAAA,UAAAA,iBAAAA,WAA6BO,MAAUA,MAAKA,eAAkBA,KAAKA,eAAiBA,IACpFP,EAAAA,UAAAA,kBAAAA,WACCQ,QAAUA,KAAKA,oBAAwBA,KAAKA,gBAG7CR,EAAAA,UAAAA,OAAAA,WAAWS,MAAOA,IAAIA,iBACvBT,GApDuDH,EAAAA,mBAAjCA,GAAAA,yBAAwBA,CAsD9CA,IAAAA,GAAAA,SAAAA,GAAuCa,UAAAA,EAAAA,EAAvCA,SAAAA,KAAuCC,EAAAA,MAAAA,KAAAA,WAsRvCD,MArRCA,GAAAA,UAAAA,MAAAA,SAAMA,GAAwBE,KAAMA,IAAIA,OAAMA,0BACvCF,EAAAA,YAAPA,WAAuBG,EAAAA,kBAAkBA,GAAIA,KAC7CH,EAAAA,UAAAA,YAAAA,SAAYA,EAASA,GAAyBI,MAAOA,KAAQA,IAC7DJ,EAAAA,UAAAA,YAAAA,SAAYA,EAAqBA,EAAcA,GAAcK,EAAGA,GAAQA,GACxEL,EAAAA,UAAAA,YAAAA,SAAYA,EAAqBA,GAAqBM,MAAOA,GAAGA,IAChEN,EAAAA,UAAAA,OAAAA,SAAOA,EAAqBA,EAAoBA,GAC/CO,EAAGA,GAAYA,MAAMA,EAAIA,IAI1BP,EAAAA,UAAAA,SAAAA,SAASA,GACJQ,QAAQA,MACXA,QAAQA,MAAMA,GAEdA,QAAQA,IAAIA,IAIdR,EAAAA,UAAAA,IAAAA,SAAIA,GAASS,QAAQA,IAAIA,IAEzBT,EAAAA,UAAAA,SAAAA,SAASA,GACJU,QAAQA,OACXA,QAAQA,MAAMA,GACdA,KAAKA,SAASA,IAEdA,QAAQA,IAAIA,IAIdV,EAAAA,UAAAA,YAAAA,WACKW,QAAQA,UACXA,QAAQA,YAIVX,OAAAA,eAAIA,EAAAA,UAAAA,iBjB+7Hc3H,IiB/7HlB2H,WAA2BY,MAAOA,IjBg8HhBrI,YAAY,EACZC,cAAc,IiB/7HhCwH,EAAAA,UAAAA,MAAAA,SAAMA,GAAyBa,MAAOA,UAASA,cAAcA,IAC7Db,EAAAA,UAAAA,cAAAA,SAAcA,EAAIA,GAAiCc,MAAOA,GAAGA,cAAcA,IAC3Ed,EAAAA,UAAAA,iBAAAA,SAAiBA,EAAIA,GAA2Be,MAAOA,GAAGA,iBAAiBA,IAC3Ef,EAAAA,UAAAA,GAAAA,SAAGA,EAAIA,EAAKA,GAAYgB,EAAGA,iBAAiBA,EAAKA,GAAUA,IAC3DhB,EAAAA,UAAAA,YAAAA,SAAYA,EAAIA,EAAKA,GAIpBiB,MAHAA,GAAGA,iBAAiBA,EAAKA,GAAUA,GAG5BA,WAAQA,EAAGA,oBAAoBA,EAAKA,GAAUA,KAEtDjB,EAAAA,UAAAA,cAAAA,SAAcA,EAAIA,GAAOkB,EAAGA,cAAcA,IAC1ClB,EAAAA,UAAAA,iBAAAA,SAAiBA,GAChBmB,GAAIA,GAAkBA,SAASA,YAAYA,aAE3CA,OADAA,GAAIA,UAAUA,GAAWA,GAAMA,GACxBA,GAERnB,EAAAA,UAAAA,YAAAA,SAAYA,GACXoB,GAAIA,GAAaA,SAASA,YAAYA,QAEtCA,OADAA,GAAIA,UAAUA,GAAWA,GAAMA,GACxBA,GAERpB,EAAAA,UAAAA,eAAAA,SAAeA,GACdqB,EAAIA,iBACJA,EAAIA,aAAcA,GAEnBrB,EAAAA,UAAAA,YAAAA,SAAYA,GACXsB,MAAOA,GAAIA,oBAAuBA,EAAeA,cAAMA,EAAIA,aAE5DtB,EAAAA,UAAAA,aAAAA,SAAaA,GAAcuB,MAAOA,GAAGA,WACrCvB,EAAAA,UAAAA,aAAAA,SAAaA,GAAcwB,MAAOA,GAAGA,WACrCxB,EAAAA,UAAAA,SAAAA,SAASA,GAAsByB,MAAOA,GAAKA,UAC3CzB,EAAAA,UAAAA,UAAAA,SAAUA,GAAsB0B,MAAOA,GAAKA,WAC5C1B,EAAAA,UAAAA,KAAAA,SAAKA,GAAkC2B,MAAOA,GAAKA,MACnD3B,EAAAA,UAAAA,QAAAA,SAAQA,GACP4B,MAAIA,MAAKA,YAAYA,EAAMA,WACbA,EAAMA,QAEZA,GAGT5B,EAAAA,UAAAA,WAAAA,SAAWA,GAAY6B,MAAOA,GAAGA,YACjC7B,EAAAA,UAAAA,YAAAA,SAAYA,GAAY8B,MAAOA,GAAGA,aAClC9B,EAAAA,UAAAA,cAAAA,SAAcA,GAAY+B,MAAOA,GAAGA,YACpC/B,EAAAA,UAAAA,WAAAA,SAAWA,GAAcgC,MAAOA,GAAGA,YACnChC,EAAAA,UAAAA,iBAAAA,SAAiBA,GAChBiC,GAAIA,GAAaA,EAAGA,WAChBA,IACJA,GAAIA,OAASA,EAAWA,MACxBA,KAAKA,GAAIA,GAAIA,EAAGA,EAAIA,EAAWA,OAAQA,IACtCA,EAAIA,GAAKA,EAAWA,EAErBA,OAAOA,IAERjC,EAAAA,UAAAA,WAAAA,SAAWA,GACVkC,KAAOA,EAAGA,YACTA,EAAGA,YAAYA,EAAGA,aAGpBlC,EAAAA,UAAAA,YAAAA,SAAYA,EAAIA,GAAQmC,EAAGA,YAAYA,IACvCnC,EAAAA,UAAAA,YAAAA,SAAYA,EAAIA,GAAQoC,EAAGA,YAAYA,IACvCpC,EAAAA,UAAAA,aAAAA,SAAaA,EAAUA,EAAUA,GAAYqC,EAAGA,aAAaA,EAAUA,IACvErC,EAAAA,UAAAA,OAAAA,SAAOA,GAINsC,MAHIA,GAAKA,YACRA,EAAKA,WAAWA,YAAYA,GAEtBA,GAERtC,EAAAA,UAAAA,aAAAA,SAAaA,EAAIA,GAAQuC,EAAGA,WAAWA,aAAaA,EAAMA,IAC1DvC,EAAAA,UAAAA,gBAAAA,SAAgBA,EAAIA,GAASwC,EAAMA,QAAQA,SAAAA,GAAKA,MAAAA,GAAGA,WAAWA,aAAaA,EAAGA,MAC9ExC,EAAAA,UAAAA,YAAAA,SAAYA,EAAIA,GAAQyC,EAAGA,WAAWA,aAAaA,EAAMA,EAAGA,cAC5DzC,EAAAA,UAAAA,aAAAA,SAAaA,EAAIA,GAAS0C,EAAGA,UAAYA,GACzC1C,EAAAA,UAAAA,QAAAA,SAAQA,GAAc2C,MAAOA,GAAGA,aAEhC3C,EAAAA,UAAAA,QAAAA,SAAQA,EAAIA,GAAiB4C,EAAGA,YAAcA,GAC9C5C,EAAAA,UAAAA,SAAAA,SAASA,GAAc6C,MAAOA,GAAGA,OACjC7C,EAAAA,UAAAA,SAAAA,SAASA,EAAIA,GAAiB8C,EAAGA,MAAQA,GACzC9C,EAAAA,UAAAA,WAAAA,SAAWA,GAAe+C,MAAOA,GAAGA,SACpC/C,EAAAA,UAAAA,WAAAA,SAAWA,EAAIA,GAAkBgD,EAAGA,QAAUA,GAC9ChD,EAAAA,UAAAA,cAAAA,SAAcA,GAAyBiD,MAAOA,UAASA,cAAcA,IACrEjD,EAAAA,UAAAA,eAAAA,SAAeA,GACdkD,GAAIA,GAAIA,SAASA,cAAcA,WAE/BA,OADAA,GAAEA,UAAYA,EACPA,GAERlD,EAAAA,UAAAA,cAAAA,SAAcA,EAASA,GAA+BmD,MAA/BA,UAAAA,IAAAA,EAAAA,UAAsCA,EAAIA,cAAcA,IAC/EnD,EAAAA,UAAAA,gBAAAA,SAAgBA,EAAIA,EAASA,GAA2BoD,MAA3BA,UAAAA,IAAAA,EAAAA,UAAkCA,EAAIA,gBAAgBA,EAAIA,IACvFpD,EAAAA,UAAAA,eAAAA,SAAeA,EAAcA,GAAwBqD,MAAxBA,UAAAA,IAAAA,EAAAA,UAA+BA,EAAIA,eAAeA,IAC/ErD,EAAAA,UAAAA,gBAAAA,SAAgBA,EAAkBA,EAAmBA,GAAAsD,SAAAA,IAAAA,EAAAA,SACpDA,IAAIA,GAAwBA,EAAIA,cAAcA,SAE9CA,OADAA,GAAGA,aAAaA,EAAUA;AACnBA,GAERtD,EAAAA,UAAAA,mBAAAA,SAAmBA,EAAaA,GAAAuD,SAAAA,IAAAA,EAAAA,SAC/BA,IAAIA,GAA0BA,EAAIA,cAAcA,QAEhDA,OADAA,MAAKA,YAAYA,EAAOA,KAAKA,eAAeA,IACrCA,GAERvD,EAAAA,UAAAA,iBAAAA,SAAiBA,GAAqCwD,MAAaA,GAAIA,oBACvExD,EAAAA,UAAAA,cAAAA,SAAcA,GAAqCyD,MAAaA,GAAIA,YACpEzD,EAAAA,UAAAA,QAAAA,SAAQA,GAAgC0D,MAAaA,GAAIA,MACzD1D,EAAAA,UAAAA,MAAAA,SAAMA,GAAoB2D,MAAOA,GAAKA,WAAUA,IAChD3D,EAAAA,UAAAA,uBAAAA,SAAuBA,EAASA,GAC/B4D,MAAOA,GAAQA,uBAAuBA,IAEvC5D,EAAAA,UAAAA,qBAAAA,SAAqBA,EAASA,GAC7B6D,MAAOA,GAAQA,qBAAqBA,IAErC7D,EAAAA,UAAAA,UAAAA,SAAUA,GAAkB8D,MAAcA,OAAMA,UAAUA,MAAMA,KAAKA,EAAQA,UAAWA,IACxF9D,EAAAA,UAAAA,SAAAA,SAASA,EAASA,GAAqB+D,EAAQA,UAAUA,IAAIA,IAC7D/D,EAAAA,UAAAA,YAAAA,SAAYA,EAASA,GAAqBgE,EAAQA,UAAUA,OAAOA,IACnEhE,EAAAA,UAAAA,SAAAA,SAASA,EAASA,GAA8BiE,MAAOA,GAAQA,UAAUA,SAASA,IAClFjE,EAAAA,UAAAA,SAAAA,SAASA,EAASA,EAAmBA,GACpCkE,EAAQA,MAAMA,GAAaA,GAE5BlE,EAAAA,UAAAA,YAAAA,SAAYA,EAASA,GAAqBmE,EAAQA,MAAMA,GAAaA,MACrEnE,EAAAA,UAAAA,SAAAA,SAASA,EAASA,GAA6BoE,MAAOA,GAAQA,MAAMA,IACpEpE,EAAAA,UAAAA,QAAAA,SAAQA,GAAmBqE,MAAOA,GAAQA,SAC1CrE,EAAAA,UAAAA,aAAAA,SAAaA,GAGZsE,IAAKA,GAFDA,MACAA,EAAUA,EAAQA,WACbA,EAAIA,EAAGA,EAAIA,EAAQA,OAAQA,IAAKA,CACxCA,GAAIA,GAASA,EAAQA,EACrBA,GAAIA,EAAOA,MAAQA,EAAOA,MAE3BA,MAAOA,IAERtE,EAAAA,UAAAA,aAAAA,SAAaA,EAASA,GAA8BuE,MAAOA,GAAQA,aAAaA,IAChFvE,EAAAA,UAAAA,aAAAA,SAAaA,EAASA,GAA6BwE,MAAOA,GAAQA,aAAaA,IAC/ExE,EAAAA,UAAAA,aAAAA,SAAaA,EAASA,EAAcA,GAAiByE,EAAQA,aAAaA,EAAMA,IAChFzE,EAAAA,UAAAA,eAAAA,SAAeA,EAASA,EAAYA,EAAcA,GACjD0E,EAAQA,eAAeA,EAAIA,EAAMA,IAElC1E,EAAAA,UAAAA,gBAAAA,SAAgBA,EAASA,GAAqB2E,EAAQA,gBAAgBA,IACtE3E,EAAAA,UAAAA,kBAAAA,SAAkBA,GAAW4E,MAAOA,MAAKA,kBAAkBA,GAAMA,KAAKA,QAAQA,GAAMA,GACpF5E,EAAAA,UAAAA,mBAAAA,WACC6E,MAAOA,UAASA,eAAeA,mBAAmBA,cAEnD7E,EAAAA,UAAAA,WAAAA,WAA6B8E,MAAOA,WACpC9E,EAAAA,UAAAA,sBAAAA,SAAsBA,GACrB+E,IACCA,MAAOA,GAAGA,wBACTA,MAAOA,GACRA,OAASA,IAAKA,EAAGA,OAAQA,EAAGA,KAAMA,EAAGA,MAAOA,EAAGA,MAAOA,EAAGA,OAAQA,KAGnE/E,EAAAA,UAAAA,SAAAA,WAAqBgF,MAAOA,UAASA,OACrChF,EAAAA,UAAAA,SAAAA,SAASA,GAAoBiF,SAASA,MAAQA,GAAYA,IAC1DjF,EAAAA,UAAAA,eAAAA,SAAeA,EAAGA,GACjBkF,GAAIA,IAAUA,CAUdA,OATIA,aAAaA,eACZA,EAAEA,QACLA,EAAUA,EAAEA,QAAQA,GACVA,EAAEA,kBACZA,EAAUA,EAAEA,kBAAkBA,GACpBA,EAAEA,wBACZA,EAAUA,EAAEA,sBAAsBA,KAG7BA,GAERlF,EAAAA,UAAAA,kBAAAA,SAAkBA,GACjBmF,MAAOA,aAAcA,cAA8BA,YAAfA,EAAGA,UAExCnF,EAAAA,UAAAA,WAAAA,SAAWA,GAAuBoF,MAAOA,GAAKA,WAAaA,KAAKA,WAChEpF,EAAAA,UAAAA,cAAAA,SAAcA,GAAuBqF,MAAOA,GAAKA,WAAaA,KAAKA,cACnErF,EAAAA,UAAAA,cAAAA,SAAcA,GAAuBsF,MAAOA,GAAKA,WAAaA,KAAKA,cACnEtF,EAAAA,UAAAA,cAAAA,SAAcA,GAAiBuF,MAAOA,aAAgBA,cAAeA,EAAKA,YAC1EvF,EAAAA,UAAAA,aAAAA,SAAaA,GAAiBwF,MAAOA,aAAgBA,mBACrDxF,EAAAA,UAAAA,cAAAA,SAAcA,GACbyF,GAAIA,GAAWA,CAIfA,OAHIA,MAAKA,kBAAkBA,KAC1BA,EAAWA,KAAKA,QAAQA,IAElBA,SAASA,WAAWA,GAAUA,IAEtCzF,EAAAA,UAAAA,UAAAA,SAAUA,GAAmB0F,MAAOA,UAASA,UAAUA,IACvD1F,EAAAA,UAAAA,QAAAA,SAAQA,GAAuB2F,MAAaA,GAAIA,MAChD3F,EAAAA,UAAAA,YAAAA,SAAYA,GACX4F,GAAIA,GAAMA,EAAMA,GAChBA,KAAKA,EAAKA,CAMTA,GALAA,EAAMA,EAAMA,eAKPA,EACJA,MAAOA,cAEJA,GAAIA,WAAWA,QAClBA,EAAMA,OAAOA,aAAaA,SAASA,EAAIA,UAAUA,GAAIA,KACjDA,EAAMA,WAAaA,GAA2BA,EAAoBA,eAAeA,KAIpFA,EAAMA,EAAoBA,KAO7BA,MAHIA,GAAQA,eAAeA,KAC1BA,EAAMA,EAAQA,IAERA,GAER5F,EAAAA,UAAAA,qBAAAA,SAAqBA,GACpB6F,MAAcA,UAAVA,EACIA,EAAGA,cAAcA,OACJA,YAAVA,EACHA,SACaA,QAAVA,EACHA,SAASA,KADVA,QAIR7F,EAAAA,UAAAA,WAAAA,WAAwB8F,MAAOA,UAC/B9F,EAAAA,UAAAA,YAAAA,WAA0B+F,MAAOA,WACjC/F,EAAAA,UAAAA,YAAAA,WACCgG,GAAIA,GAAOA,GACXA,OAAKA,GAGEA,EAAaA,GAFZA,MAIThG,EAAAA,UAAAA,iBAAAA,WAA2BiG,EAAcA,MACzCjG,EAAAA,UAAAA,aAAAA,WAAyBkG,MAAOA,WAAUA,WAC1ClG,EAAAA,UAAAA,QAAAA,SAAQA,EAASA,EAAcA,GAC9BmG,KAAKA,aAAaA,EAASA,QAAUA,EAAMA,IAE5CnG,EAAAA,UAAAA,QAAAA,SAAQA,EAASA,GAAwBoG,MAAOA,MAAKA,aAAaA,EAASA,QAAUA,IACrFpG,EAAAA,UAAAA,iBAAAA,SAAiBA,GAAgBqG,MAAOA,kBAAiBA,IAEzDrG,EAAAA,UAAAA,sBAAAA,SAAsBA,GAAoBsG,MAAOA,uBAAsBA,IACvEtG,EAAAA,UAAAA,qBAAAA,SAAqBA,GAAcuG,qBAAqBA,IACxDvG,EAAAA,UAAAA,eAAAA,WAGCwG,MAA0BA,mBAAfA,cAA8BA,YAAYA,IAC7CA,YAAYA,MAEWA,KAAvBA,GAAKA,OAAMA,WAGrBxG,GAtRuCb,EAA1BA,GAAAA,kBAAiBA,CAyR9BA,IAAIA,GAAcA,IAClBA,SAAAA,KACCsH,MAAKA,KACJA,EAAcA,SAASA,cAAcA,SAK/BA,EAAYA,aAAaA,QAHvBA,KAOVtH,GAAIA,GAAiBA,IACrBA,SAAAA,GAAsBA,GAKrBuH,MAJKA,KACJA,EAAiBA,SAASA,cAAcA,MAEzCA,EAAeA,aAAaA,OAAQA,GACUA,MAAtCA,EAAeA,SAASA,OAAOA,GAAcA,EAAeA,SACnEA,IAAMA,EAAeA,SAIvBvH,EAAkBA,eA3ZDD,EAAAA,EAAAA,MAAAA,EAAAA,UAALhe,EAAAA,EAAAA,OAAAA,EAAAA,WAAHA,KAAAA,OCAV,IAAOA,KAAP,SAAOA,GAAGA,GAAAA,IAAAA,SAAAA,GAAKge,GAAAA,IAAAA,SAAAA,GACXyH,QAAAA,GAA0BA,EAAkBA,EAAaA,GACrDC,OACIA,MAAOA,WlBs3IK,IkBt3II,GAAA3a,MAAA4a,EAAA,EAAAA,EAAA/iB,UAAAd,OAAA6jB,IAAA5a,EAAA4a,EAAA,GAAA/iB,UAAA+iB,EAEZ,IAAIvlB,GAAI2K,EAAKxH,IAAI,SAAAnD,GAAK,MAAA8J,MAAK4D,UAAU1N,KAAI+H,OACrC8B,EAASgM,EAAMA,MAAMjT,MAAMrD,KAAMoL,GACjCvH,EAAI0G,KAAK4D,UAAU7D,EAIvB,OAFAwC,SAAQE,IAAI,cAAcvK,EAAG,IAAIhC,EAAC,QAAQoD,GAEnCyG,IAVHwb,EAAAA,UAASA,CAezBA,SAAAA,GAA6BA,EAAgBA,EAAqBA,GAE9DG,MADAA,GAAWA,YAAaA,EACjBA,EAFKH,EAAAA,aAAYA,CAQ5BA,IAAIA,GAAeA,CAEnBA,SAAAA,GAAwBA,GACpBI,MAAOA,UAASA,EAAgBA,EAAqBA,GAQjD,MADApZ,SAAQrC,MAAM4L,EAAc,2FACrB8P,GATCL,EAAAA,QAAOA,CAavBA,SAAAA,GAAiCA,EAAgBA,EAAqBA,GAOhEM,GAAIA,GAAgBA,EAAWA,MAC7BA,EAAYA,aAAaA,KAAcA,IAQ3CA,OAPAA,SAAQA,MAAMA,EAAcA,2FAE5BA,EAAWA,MAAaA,WACpB,GAAIC,GAAarmB,KAAKsmB,GAAatmB,KAAKsmB,IAAcjmB,EAAGkmB,cAAcC,EAAexmB,KACtF,OAAOqmB,GAAWhjB,MAAMrD,KAAMiD,YAG3BmjB,EAhBKN,EAAAA,cAAaA,GAvClBzH,EAAAA,EAAAA,aAAAA,EAAAA,iBAALhe,EAAAA,EAAAA,OAAAA,EAAAA,WAAHA,KAAAA,OCAP,IAAUuW,UAAV,SAAUA,GACTA,GAAIA,GAAmBA,EAAQA,QAEpBA,GAAAA,aAAiCA,OAAOA,sBAEnDA,IAAIA,IACCA,YAAYA,EACZA,UAAUA,EACVA,cAAcA,EACdA,MAAOA,KAGZA,SAAAA,GAAyBA,EAAkBA,GAC1C6P,MAAGA,eAAiBA,EACMA,gBAAfA,GAAAA,aACFA,SAAmBA,EAAgBA,GACzCC,GAAIA,GAAUA,EAAOA,EAAAA,aAEjBA,KACHA,EAAUA,EAAgBA,EAAQA,EAAAA,kBAGnCA,EAAQA,GAAaA,EAErBA,GAAoBA,EAAiBA,EAAaA,GAAeA,MAAMA,KAAMA,YAGvED,SAAmBA,EAAgBA,GAEzCC,GAAIA,GAAWA,EAAOA,EAAAA,cAAgBA,EAAOA,EAAAA,iBAE7CA,GAAQA,GAAaA,EAErBA,GAAoBA,EAAiBA,EAAaA,GAAeA,MAAMA,KAAMA,YAIlED,GAAoBA,EAAiBA,EAAaA,IAAkBA,OAzBnE7P,EAAAA,SAAQA,CA4BxBA,SAAAA,GAAmCA,EAAgBA,EAAyBA,GAO3E+P,MANoBA,gBAAVA,GACTA,EAAOA,GAAUA,GAEjBA,EAAYA,MAAQA,EACpBA,OAAOA,eAAeA,EAAQA,EAAOA,WAAYA,IAE3CA,EAPQ/P,EAAAA,gBAAeA,GAxCtBA,UAAAA,YC0CV,IAAOvW,KAAP,SAAOA,GAIQA,EAAAA,OACPA,MAAOA,SAACA,EAAwBA,GAC5BA,GAAIA,GAAIA,EAAGA,QAAQA,WAEnBA,GAAAA,MAAQA,EAAGA,MAAQA,IAAKA,EAAEA,OAAOA,OAAOA,IACxCA,EAAEA,QAAQA,QACVA,EAAAA,MAAMA,MAAQA,SAAUA,EAAGA,GACvBD,GAAKA,EAAEC,EAAAiU,QAEXjU,QAAQA,IAAIA,kCAAmCA,EAAGA,OAElDA,GAAMA,EAAGA,EAAAA,UAfdA,KAAAA,OCzCP,IAAUA,KAAV,SAAUA,GAAGA,GAAAA,IAAAA,SAAAA,GAETumB,GAAIA,MAEAA,EAAeA,EAAEA,0CAErBA,GAAEA,WACEC,EAAaC,SAAS,SAG1BF,IAAIA,GAAiCA,MAAhBA,KAAKA,SAAoBA,EAE1CA,EAAkBA,EAAGA,QAAQA,WAC7B,GAAIG,GAAS,EACb,KAAK,GAAIxiB,KAAKyiB,GAAoB,CAC9BD,GAAUxiB,EAAI,IAEd,KAAK,GAAIkI,KAAKua,GAAmBziB,GAAI,CACjC,GAAI+R,GAAQ0Q,EAAmBziB,GAAGkI,EACb,iBAAV6J,IAAuBrW,OAAOgnB,UAAUxa,KAC/C6J,GAAS,MAEbyQ,GAAUta,EAAI,KAAO6J,EAAQ,IAGjCyQ,GAAU,IAEdF,EAAaK,KAAK,OAAQ,wBAA0BC,KAAKJ,KAC1DH,GAEHA,SAAAA,GAAoBA,EAAuBA,GAGvCQ,GAAIA,IAAQA,EAERA,EAAeA,EAEnBA,IAAKA,MAAMA,GAoBPA,EAAeA,EACfA,EAAAA,KAAKA,EAAmBA,GAAqBA,EAAmBA,OAA0BA,OArBlEA,CACxBA,GAAIA,EAAAA,WAAWA,GAAmBA,CAC9BA,GAAIA,KAEJA,KAAKA,GAAIA,KAAKA,GAAkBA,CAC5BA,GAAkCA,gBAAvBA,GAAiBA,GAAgBA,CACxCA,GAAQA,CACRA,OAEJA,EAAAA,KAAKA,EAAmBA,GAAMA,EAAmBA,OAAWA,EAAiBA,IAC7EA,EAAaA,KAAKA,GAEtBA,EAAeA,EAAaA,KAAKA,KAGjCA,KAAUA,IACVA,EAAeA,YAAcA,KAAiBA,SAASA,IACvDA,EAAIA,EAAcA,IAQ1BA,MAFAA,KAEiCA,IAA7BA,EAAaA,QAAQA,KACdA,EAAaA,QAAQA,IAAKA,IAE1BA,KAnCCR,EAAAA,IAAGA,CAwCnBA,IAAAA,GAAAA,WAQIS,QAAAA,GAAYA,GARhBC,GAAAA,GAAAA,IACIA,MAAAA,OAAiBA,KACjBA,KAAAA,KAAeA,EAAEA,2CAEjBA,KAAAA,UA6BQA,KAAAA,OAASA,KAvBbA,KAAKA,QAAUA,OAEXA,YAAkBA,UAClBA,KAAKA,QAAUA,EAEfA,EAASA,SAGbA,KAAKA,OAASA,EAEdA,EAAEA,WACEA,EAAKA,WA6CjBD,MAzCIA,GAAAA,UAAAA,OAAAA,WACIE,KAAKA,KAAKA,SAASA,KAAKA,UAG5BF,EAAAA,UAAAA,QAAAA,WACIG,KAAKA,KAAKA,UAKdH,EAAAA,UAAAA,QAAAA,WACII,IAAKA,KAAKA,OAAQA,CACdA,GAAIA,GAAOA,IACXA,MAAKA,OAASA,EAAGA,QAAQA,WACrB,GAAIV,GAAS,EACb,KAAK,GAAIxiB,KAAKyQ,GAAK0S,OAAQ,CACvBX,IAAW/R,EAAK1E,OAAS0E,EAAK1E,OAAS,IAAM,IAAM/L,EAAI,IAEvD,KAAK,GAAIkI,KAAKuI,GAAK0S,OAAOnjB,GAAI,CAC1B,GAAI+R,GAAQtB,EAAK0S,OAAOnjB,GAAGkI,EACN,iBAAV6J,IAAuBrW,OAAOgnB,UAAUxa,KAC/C6J,GAAS,MAEbyQ,GAAUta,EAAI,KAAO6J,EAAQ,IAGjCyQ,GAAU,IAGd/R,EAAKrC,KAAKuU,KAAK,OAAQ,wBAA0BC,KAAKJ,KACvDU,GAGPA,KAAKA,UAGTJ,EAAAA,UAAAA,IAAAA,SAAIA,EAAkBA,GAClBM,KAAKA,OAAOA,GAAYA,KAAKA,OAAOA,OACpCA,EAAGA,KAAKA,KAAKA,OAAOA,GAAWA,GAC/BA,KAAKA,WAEbN,IAlEaT,GAAAA,WAAUA,GAtEdvmB,EAAAA,EAAAA,MAAAA,EAAAA,UAAHA,KAAAA,OCHV,IAAOA,KAAP,SAAOA,GAAGA,GAAAA,IAAAA,SAAAA,GAINunB,GAAIA,GAAWA,SAAUA,GAErB,GAAIC,GACAhkB,EACAzD,EACAyQ,EAAK,OAET,OAAO,UAAS5C,GAGZ,GAAIpF,GAAIif,CAUR,OAPID,KAAmBhf,IACnBgf,EAAiBhf,EACjBzI,EAAIyI,EAAEN,MAAM,KACZ1E,EAAIzD,EAAEwD,IAAI,SAAS6I,GAAK,MAAOA,GAAEkD,QAAQ,SAAU,SAIhD1B,YAAa2C,QAChB/H,IAAMif,EAAO7Z,EACT,GAAI2C,QAAO3C,EAAE8Z,OAAOpY,QAAQkB,EAAI,SAASzQ,GAAK,MAAOyD,MAAW,MAANzD,MAAgB6N,EAAE+Z,OAAS,IAAM,IAG/F5nB,EAAE6N,KAEX2Z,OAICA,KACAA,EAASA,oIAUbA,SAAAA,GAAqBA,EAAaA,EAAcA,GAC5CK,MAAOA,KAAQA,EAAMA,GAAOA,EAAMA,IAAQA,EAAKA,aAAaA,IAAMA,KAAKA,EAASA,GAASA,GAD7EL,EAAAA,KAAIA,CAIpBA,IAAcA,IAAdA,SAAcA,GACCK,EAAAA,OAAiBA,CAE5BA,SAAAA,GAA6BA,EAAWA,GAChCC,EAAAA,OACAA,QAAQA,eAAeA,EAG3BA,IAAIA,GAAOA,CAEXA,IAAKA,GAAMA,EAASA,GAAKA,EAASA,IAG7BA,QAAQA,EAASA,QAASA,KAC1BA,QAAQA,EAASA,QAASA,KAG/BA,EAAIA,EAAMA,EAAGA,EAAQA,EAAGA,EAASA,KAAMA,EAASA,MAChDA,IAAIA,IAGCA,EAAEA,IAAOA,EAAEA,IAAOA,EAAEA,GAMfA,IAAMA,EAAEA,IAAIA,SAASA,EAAGA,GAGtB,MAAO3jB,GAAI,EAGL4jB,EAAKtf,GAAG,GAGR,IAAMA,EAGH8G,QAAQ,QAAS,OACjBA,QAAQ,MAAO,OACfA,QAAQ,MAAO,OAGfA,QAAQ,KAAM,OAEjB,MAEPuY,KAAKA,KAAOA,aAxBbA,EAAKA,EAAEA,KA4BZA,QAAQA,UAAWA,EAASA,IAC5BA,QAAQA,UAAWA,EAASA,GAEPA,IAAtBA,EAAKA,OAAOA,SACZA,EAAOA,UAEPA,EAAAA,QAEAA,QAAQA,IAAIA,GACZA,QAAQA,WAEZA,IAAIA,GAAIA,GAAIA,UAASA,QAASA,WAAaA,EAAOA,IAIlDA,OAFMA,GAAGA,IAAMA,EAERA,EAhEKD,EAAAA,aAAYA,CAuE5BA,SAAAA,GAAqBA,EAAGA,GAYpBG,MAXIA,GAAAA,OACAA,QAAQA,IAAIA,QAASA,GACzBA,EAAIA,EAGCA,QAAQA,MAAOA,KAGfA,QAAQA,EAASA,8BAA+BA,IAG9CA,sBAAsBA,KAAKA,GAI5BA,IAGFA,EAAQA,EAGJA,0BAGAA,oCACEA,IAAIA,SAASA,GAGX,MAAOC,GAAK1Y,QAAQ,kCAAmC,SAAS2Y,EAAGtR,EAAGC,GAGlE,MAAOA,GAAEtH,QAAQ,cAAe4Y,GAAQ,KAAOvR,EAAI,YAIxDoR,KAAKA,IAEVA,qBAGAA,EAAKA,EAAGA,GAzCFH,EAAAA,KAAIA,CAgDpBA,SAAAA,GAAqBA,EAAGA,GAGpBO,MAFAA,GAAIA,EAAEA,OAEEA,EAASA,0HASTA,EAAEA,QAAQA,EAAQA,SAASA,EAAGA,EAAGA,GAC7B,MAAOvR,GACH,yCACUA,EAAC,kCAAkCA,EAAC,4CAA4CA,EAAC,aAAaA,EAAC,MAAMA,EAAC,IAEhHpO,KACF2f,UAGRA,qEAEYA,KAAWA,EAAOA,0BAA4BA,KAAIA,oCApBxDA,GAHAP,EAAAA,KAAIA,CA8BpBA,SAAAA,GAAsBA,EAAKA,GACvBQ,GAAIA,KAUJA,OATAA,GAAWA,IAAIA,SAASA,EAAKA,GAGzBlkB,EAAIoP,EAAIvD,QAAQsY,GAChBC,EAAMra,KAAKqF,EAAIiV,MAAM,EAAGrkB,GAAImkB,GAC5B/U,EAAMA,EAAIiV,MAAMrkB,EAAImkB,EAAIvmB,UAIrBsmB,EAAMA,OAAOA,GAXRR,EAAAA,MAAKA,CAiBrBA,SAAAA,GAAwBA,EAAKA,EAAMA,GAE/BY,GAAIA,GACAA,EAAQA,EACRA,KACAA,EAAKA,GAAIA,QAAOA,IAAMA,EAAKA,OAASA,MAAQA,EAAMA,OAASA,IAAKA,IAepEA,OAbAA,GAAIA,QAAQA,EAAIA,SAASA,EAAGA,EAAMA,EAAOA,IAGhCC,GAAS5c,IAAMgM,EAAQ6Q,GAG5BD,GAAS5c,EAAO,EAAI,GAGf4c,GAAkB,MAATE,GAAeC,EAAQ3a,KAAKqF,EAAIiV,MAAM1Q,EAAO6Q,EAAMC,EAAM7mB,WAIpE0mB,EApBKZ,EAAAA,QAAOA,GAzKbL,EAAAA,EAAAA,OAAAA,EAAAA,WAlDRvnB,EAAAA,EAAAA,OAAAA,EAAAA,WAAHA,KAAAA,OCAP,IAAUA,KAAV,SAAUA,GAEKA,EAAAA,YAAcA,WACrB6oB,GAAIA,IAAYA,SAAUA,MAAOA,KAAMA,IAAKA,SAE5CA,IAAuBA,mBAAZA,UAAyBA,MAAOA,KAG3CA,IAAIA,UAAYA,UAAUA,MAAOA,QAGjCA,KAAKA,GAAIA,GAAIA,EAAGA,EAAIA,EAASA,OAAQA,IACjCA,GAAKA,EAASA,GAAKA,UAAaA,UAC5BA,MAAOA,GAASA,GAAKA,QAI7BA,OAAOA,SAGA7oB,EAAAA,WAAaA,EAAAA,WAExBA,IAAIA,EACmBA,oBAAZA,YACPA,EAAMA,SAASA,cAAcA,QAEtBA,EAAAA,gBAAkBA,WACzB8oB,GAAIA,IAAYA,SAAUA,MAAOA,KAAMA,IAAKA,SAE5CA,KAAKA,EAAKA,MAAOA,KAEjBA,IAAIA,aAAeA,GAAIA,MAAOA,MAAOA,WAErCA,KAAKA,GAAIA,GAAIA,EAAGA,EAAIA,EAASA,OAAQA,IACjCA,GAAKA,EAASA,GAAKA,aAAgBA,GAAIA,MACnCA,MAAOA,GAASA,GAAKA,WAG7BA,OAAOA,SAGA9oB,EAAAA,cAAgBA,WACvB8oB,GAAIA,IAAYA,SAAUA,MAAOA,KAAMA,IAAKA,SAE5CA,KAAKA,EAAKA,MAAOA,KAEjBA,IAAIA,aAAeA,GAAIA,MAAOA,MAAOA,WAErCA,KAAKA,GAAIA,GAAIA,EAAGA,EAAIA,EAASA,OAAQA,IACjCA,GAAKA,EAASA,GAAKA,aAAgBA,GAAIA,MACnCA,MAAOA,IAAMA,EAASA,GAAKA,YAGnCA,OAAOA,UArDL9oB,KAAAA,OCMV,IAAOA,KAAP,SAAOA,GAAGA,GAAAA,IAAAA,SAAAA,GACN+oB,GAAAA,GAAAA,WAMIC,QAAAA,GAAoBA,EAAuBA,EAA2BA,GAAlDC,KAAAA,MAAAA,EAAuBA,KAAAA,UAAAA,EAA2BA,KAAAA,MAAAA,EAHtEA,KAAAA,YAIIA,IAAIA,GAAIA,EAAAA,KAAKA,KAAKA,EAAOA,EAAWA,EAEnBA,oBAANA,KAAmBA,EAAIA,IAElCA,KAAKA,KAAOA,SAASA,eAAeA,GAE9BA,KAAKA,KAAMA,MAAQA,EACnBA,KAAKA,KAAMA,WAAaA,EACxBA,KAAKA,KAAMA,OAASA,EACpBA,KAAKA,KAAMA,QAAUA,KA0DnCD,MAvDIA,GAAAA,UAAAA,MAAAA,SAAMA,EAAeA,EAAmBA,GACpCE,KAAKA,MAAQA,EACbA,KAAKA,UAAYA,EACjBA,KAAKA,MAAQA,CAEbA,IAAIA,GAAIA,EAAAA,KAAKA,KAAKA,EAAOA,EAAWA,IAEnBA,mBAANA,IAA2BA,OAANA,KAAYA,EAAIA,IAEhDA,KAAKA,KAAKA,YAAcA,EAElBA,KAAKA,KAAMA,MAAQA,EACnBA,KAAKA,KAAMA,WAAaA,EACxBA,KAAKA,KAAMA,OAASA,EACpBA,KAAKA,KAAMA,QAAUA,MAG/BF,EAAAA,UAAAA,QAAAA,WACIG,KAAKA,KAAKA,SACJA,KAAKA,KAAMA,MAAQA,KACnBA,KAAKA,KAAMA,WAAaA,KACxBA,KAAKA,KAAMA,OAASA,KACpBA,KAAKA,KAAMA,QAAUA,IAE3BA,KAAcA,GAAAA,GAAAA,EAAAA,EAAAA,KAAKA,UAAdA,EAAAA,EAAAA,OAAAA,IAAwBA,CAAxBA,GAAIA,GAACA,EAAAA,EAAoBA,IAAKA,EAAEA,KAAOA,EAAEA,MAC9CA,KAAKA,UAAUA,OAASA,EACxBA,KAAKA,MAAQA,KAAKA,UAAYA,KAAKA,MAAQA,KAC3CA,EAASA,aAAaA,OAG1BH,EAAAA,UAAAA,aAAAA,WACII,GAAIA,GAAIA,EAAAA,KAAKA,KAAKA,KAAKA,MAAOA,KAAKA,UAAWA,KAAKA,QAClCA,mBAANA,IAA2BA,OAANA,KAAYA,EAAIA,IAC5CA,KAAKA,KAAKA,aAAeA,IACzBA,KAAKA,KAAKA,YAAcA,IAMzBJ,EAAAA,aAAPA,SAAoBA,GACZK,GACAA,KAAKA,YAAYA,KAAKA,IAGvBL,EAAAA,YAAPA,SAAmBA,EAAeA,EAAmBA,GACjDM,GAAIA,GAAiBA,IACrBA,OAAIA,MAAKA,YAAYA,QACjBA,EAAOA,KAAKA,YAAYA,MACxBA,EAAKA,MAAMA,EAAOA,EAAWA,GACtBA,GAEAA,GAAIA,GAASA,EAAOA,EAAWA,IAd/BN,EAAAA,eAiBnBA,IA1EaD,GAAAA,SAAQA,GADf/oB,EAAAA,EAAAA,UAAAA,EAAAA,cAAHA,KAAAA,OCEP,IAAOA,KAAP,SAAOA,GACHA,GAAAA,GAAAA,WAGIupB,QAAAA,GAAsBA,EAA0BA,EAAmBA,GAA7CC,KAAAA,OAAAA,EAA0BA,KAAAA,UAAAA,EAC5CA,KAAKA,MAAQA,EACbA,KAAKA,QA2BbD,MAxBIA,GAAAA,UAAAA,MAAAA,aAIAA,EAAAA,UAAAA,QAAAA,iBACWE,MAAKA,aACLA,MAAKA,QAGNF,EAAAA,UAAAA,QAAVA,SAAkBA,EAAOA,KAIzBA,OAAAA,eAAIA,EAAAA,UAAAA,SzB82JApS,IyBt2JJoS,WACIG,MAAOA,MAAKA,QzBw2JZ/V,IyBj3JJ4V,SAAUA,GACNG,GAAIA,IAAUA,KAAKA,OAAQA,CACPA,KAAKA,MACrBA,MAAKA,OAASA,EACdA,KAAKA,QAAQA,KzBo3JjBrS,YAAY,EACZC,cAAc,IyB92JtBiS,IAhCavpB,GAAAA,mBAAkBA,CAkC/BA,IAAcA,IAAdA,SAAcA,GACVupB,QAAAA,GAAyBA,GACrBI,MAAOA,UAA+CA,GAClD,GAAIC,GAAgBC,EAASjoB,aAEzBgoB,KAAiBE,GAAmBC,YACpCtd,QAAQud,KAAK,oCAAsCJ,EAAgB,4BAGvEE,EAAmBC,WAAWH,GAAiBxT,GARvCmT,EAAAA,SAAQA,EAYXA,EAAAA,eAbHvpB,EAAAA,EAAAA,qBAAAA,EAAAA,uBAkCdA,SAAAA,GAA8BA,GACtBiqB,GAAiBA,gBAALA,IACZA,gBAAkBA,IAAKA,EAAEA,eAIjCjqB,GAUIA,GAAUA,EARVA,EAAaA,YACbA,EAAcA,QAEdA,EAAYA,YAIZA,EAASA,GAAIA,UAEjBA,KACIA,EAAWA,EAAOA,gBAAgBA,UAAWA,YAC7CA,EAAUA,EAASA,qBAAqBA,eAAeA,GAAGA,aAC5DA,MAAOA,IAITA,QAAAA,GAAoBA,GAIhBkqB,GAAIA,GAASA,EAAMA,OAAOA,SAACA,EAAQA,EAAMA,GAMrCA,MALAA,IAAUA,EACNA,GAAKA,EAAMA,OAASA,IACpBA,GAAUA,KAAKA,GAGZA,GACRA,IAOCA,EAAMA,EAAOA,gBAAgBA,EAAQA,YACrCA,EAASA,EAAIA,uBAAuBA,EAASA,eAC7CA,EAAQA,EACZA,IAAIA,EAAOA,OAASA,EAEhBA,KADAA,GAAQA,EAAOA,GAAGA,YAAYA,MAAMA,MAAMA,GACpCA,gBAAgBA,EAAKA,KAAKA,CAGpCA,OAAOA,GAGXlqB,GAAIA,GAAiBA,0BAKrBA,SAAAA,GAAwBA,EAAUA,EAAWA,EAAuBA,EAAyBA,GACzFmqB,GAAIA,EAIJA,QAAIA,EAAQA,EAAeA,KAAKA,IACrBA,EAAWA,GAAGA,EAAMA,GAAKA,WAAYA,SAASA,EAAGA,GAChD/pB,IAAML,GACFqqB,EAAOvD,KAAKgD,IAAazpB,GACzBgqB,EAAOvD,KAAKgD,EAAUzpB,KAO3B+pB,EAAWA,GAAGA,eAAgBA,SAASA,EAAMA,EAAMA,EAAGA,GACzD,GAAI/pB,IAAML,GAAgC,IAA3BsqB,EAAUta,QAAQuC,GAAa,CAC1C,GAAIvE,GAAI/N,EAAAsqB,KAAKC,KAAKF,EAAWG,EAAYC,EACrCL,GAAOvD,KAAKgD,IAAa9b,GACzBqc,EAAOvD,KAAKgD,EAAU9b,MAM1C/N,GAAIA,GAAiBA,4ZAIQA,MAAMA,IACnCA,GAAUA,QAAQA,SAAAA,GAAKA,MAAAA,GAAUA,IAAKA,IAS3BA,EAAAA,uBAIXA,SAAAA,GAAsBA,EAAYA,EAAQA,EAAmBA,GACzD0qB,GAAIA,EAGJA,IAAIA,EAAKA,UAAWA,CAChBA,GAAIA,GAAQA,EAAKA,SAEjBA,IAA4BA,IAAxBA,EAAMA,OAAOA,OACbA,MAKJA,IAFAA,EAAQA,EAAMA,MAAMA,GAGhBA,MAAOA,GAAOA,SAASA,EAAMA,IAEjCA,IAAIA,EAAYA,KAAKA,GAAQA,CACzBA,GAAIA,GAAcA,EAAQA,SAASA,YAAYA,EAAOA,EAAWA,EA2BjEA,OAxBIA,KAAeA,EAAUA,KAAKA,MAG1BA,EAAQA,EAAeA,KAAKA,IAC5BA,EAAYA,UAAUA,KAAKA,EAAUA,GAAGA,EAAMA,GAAKA,WAAYA,SAASA,EAAGA,GACnEtqB,GAAKL,KACY,mBAANK,IAA2B,OAANA,KAAYA,EAAI,IAC5CuqB,EAAYC,KAAKC,aAAezqB,IAChCuqB,EAAYC,KAAKC,YAAczqB,OAI3CsqB,EAAYA,UAAUA,KAAKA,EAAUA,GAAGA,eAAgBA,SAASA,EAAMA,EAAMA,EAAGA,GAC5E,GAAItqB,GAAKL,GAA4B,IAAvBkW,EAAMlG,QAAQuC,GAAa,CACrC,GAAIvE,GAAI/N,EAAAsqB,KAAKC,KAAKtU,EAAO6U,EAAWL,IACnB,mBAAN1c,IAA2B,OAANA,KAAYA,EAAI,IAC5C4c,EAAYC,KAAKC,aAAe9c,IAChC4c,EAAYC,KAAKC,YAAc9c,QAO5C2c,EAGXA,MAAoBA,gBAATA,GACKA,SAASA,eAAeA,GAE5BA,EAGhBA,GAAIA,EACJA,GAAQA,EAAKA,UAAUA,MAAMA,GAC7BA,EAAaA,EAAQA,EAAOA,SAASA,EAAMA,KAAaA,EAAIA,QAAQA,EAAKA,UAAUA,cAYnFA,KAAKA,GAVDA,GAAOA,KAEPA,KAMAA,KAEKA,EAAIA,EAAKA,WAAWA,OAASA,EAAGA,GAAKA,EAAGA,IAAKA,CAClDA,GAAIA,GAAOA,EAAKA,WAAWA,EAC3BA,GAAMA,EAAKA,MAAQA,EAAKA,MAExBA,EAAQA,EAAKA,MAAMA,MAAMA,GAGrBA,EACAA,EAAMA,EAAKA,MAAQA,EAAOA,SAASA,EAAMA,KAEfA,gBAAfA,GAAKA,QACZA,EAAMA,EAAKA,MAAQA,EAAAA,KAAKA,KAAKA,EAAKA,MAAOA,EAAWA,GAEpBA,kBAArBA,GAAMA,EAAKA,MAClBA,EAAMA,EAAKA,MAAQA,EAAMA,EAAKA,MAAMA,KAAKA,GAGpCA,EAAYA,KAAKA,EAAKA,SAC3BA,EAAeA,EAAKA,MAAQA,EAAKA,MAEjCA,EAAMA,IAAMA,EAAKA,KAAOA,QAAUA,SAAUA,EAAOA,EAAWA,GAC1D,MAAO,YACH,MAAO1qB,GAAAsqB,KAAKC,KAAKtU,EAAO6U,EAAWL,KAExCC,EAAKA,MAAOA,EAAWA,KAKrBA,QAAbA,EAAKA,OACLA,EAAOA,EAAMA,EAAKA,OAGLA,SAAbA,EAAKA,OACLA,EAAQA,EAAMA,EAAKA,OAI3BA,EAAaA,GAAcA,EAAQA,WAEnCA,IAAIA,GAAQA,EAAWA,aAAiBA,EAAcA,EAAMA,EAAQA,EAAWA,GAE3EA,EAAcA,GAAIA,GAAWA,EAAMA,EAAOA,EAAOA,EAAQA,EAAWA,EAExEA,KAAKA,GAAIA,KAAMA,GACsBA,gBAAtBA,GAAeA,IAAmBA,GACzCA,EAAIA,UAAUA,KAAKA,EAAeA,EAAIA,EAAeA,GAAKA,EAAWA,EAAKA,GAWlFA,OARqBA,WAAjBA,EAAKA,UAAiCA,EAAWA,kBAAyDA,WAA/BA,EAAWA,mBACtFA,EAAUA,YAAcA,EAAIA,UAG5BA,GAAQA,IACRA,EAAUA,GAAQA,GAGfA,EAGX1qB,QAAAA,GAAuBA,EAAYA,EAAQA,EAAmBA,GAG1D+qB,IAAKA,GADDA,MACKA,EAAIA,EAAGA,EAAIA,EAAKA,WAAWA,OAAQA,IAAKA,CAC7CA,GAAIA,GAAcA,EAAaA,EAAKA,WAAWA,GAAIA,EAAQA,EAAWA,EAElEA,IACAA,EAAWA,KAAKA,GAGxBA,MAAOA,GAGX/qB,QAAAA,GAA+BA,EAAkBA,GAC7CgrB,MAAOA,UAASA,GACZ,GAAIC,IACAC,MAAOA,EAAMC,cACbzhB,KAAM0gB,EAAOK,MACbW,QAAShB,EAAOiB,SAChBC,SAAUlB,EAAOmB,IACjBC,YAAaN,EAGjB,OAAOO,GAAiB/f,KAAK0e,EAAQa,IAI7CjrB,QAAAA,GAA8BA,GAC1B0rB,QAAQA,MAAMA,2BAA4BA,KAAMA,GAKpD1rB,GAAIA,GAAWA,mBACXA,EAAmBA,cACnBA,GAAiBA,IAAKA,GAE1BA,EAAAA,SAAAA,GAA4B2rB,UAAAA,EAAAA,EAgCxBA,SAAAA,GAAYA,EAAgBA,EAA0BA,EAAqCA,EAA6BA,EAAiCA,GAAtEC,SAAAA,IAAAA,EAAAA,MAA6BA,SAAAA,IAAAA,EAAAA,MAAyCA,SAAAA,IAAAA,EAAAA,MACrJA,EAAAA,KAAAA,MADuFA,KAAAA,QAAAA,EAA6BA,KAAAA,iBAAAA,EAxB9GA,KAAAA,SAGVA,KAAAA,aACAA,KAAAA,YAAyBA,KAuBrBA,KAAKA,gBAAkBA,SAASA,yBAChCA,KAAKA,YAAcA,KAAKA,SAAWA,SAASA,cAAcA,GAAQA,EAAUA,KAAKA,GAAYA,EAASA,UAAkBA,KAAkBA,YAAGA,UAAkBA,KAAkBA,YAAGA,MAAQA,OAGtLA,KAAKA,SAAUA,QAAUA,KACzBA,KAAKA,SAAUA,WAAaA,GAAoBA,KAEtDA,KAAKA,KAAOA,GAAYA,KAAKA,SAE7BA,KAAKA,IAAMA,EAAEA,KAAKA,UAElBA,KAAKA,MAAQA,GAASA,KAEtBA,KAAKA,SAAWA,EAChBA,KAAKA,MAAQA,MAETA,KAAKA,iBACLA,KAAKA,gBAAgBA,KAAKA,kBAG1BA,GACAA,KAAKA,SAASA,GAGdA,KAAKA,iBACLA,KAAKA,kBA0VjBD,MA1XIA,GAAAA,UAAAA,cAAAA,SAAcA,GACJE,KAAKA,SAAUA,OAASA,GAmCxBF,EAAAA,UAAAA,qBAAVA,SAA+BA,GAC3BG,GAA+BA,QAA3BA,KAAKA,mBACLA,KAAMA,IAAIA,OAAMA,4CAKpBA,IAFAA,KAAKA,mBAAqBA,EAEtBA,EAAOA,CACPA,GAAIA,GAAeA,KAAKA,QAEpBA,MAAKA,WACLA,KAAKA,IAAMA,KAAKA,SAChBA,KAAKA,SAAWA,KAAKA,IAAIA,IAGzBA,GAAgBA,EAAaA,eAAiBA,KAAKA,UAAYA,GAC/DA,EAAaA,cAAcA,aAAaA,KAAKA,SAAUA,KAKzDH,EAAAA,UAAAA,sBAAVA,SAAgCA,GAC5BI,MAAOA,GAAcA,KAAKA,KAAMA,KAAKA,QAASA,KAAKA,iBAAkBA,GAASA,OAGlFJ,EAAAA,UAAAA,KAAAA,SAAKA,EAAkBA,GACnBK,GAAIA,GAAgBA,EAASA,aAE7BA,IAAcA,SAAVA,EACAA,MAAOA,MAAKA,IAAIA,IAAaA,KAAKA,IAAIA,KAAKA,EAG3CA,IAAIA,GAAWA,IAAiBA,GAC5BA,QAAqBA,EAYzBA,IAVIA,IACoBA,aAAhBA,IACAA,EAAQA,KAEZA,EAAQA,EAAAA,MAAMA,IAA6CA,UAAnCA,EAAMA,WAAWA,eAAuCA,MAAVA,GAG1EA,KAAKA,IAAIA,EAAUA,GACnBA,KAAKA,MAAMA,GAAYA,EAEnBA,IAAiBA,GAAmBA,YAAcA,EAAmBA,WAAWA,GAC3EA,KAAKA,iBACNA,KAAKA,mBAELA,IAAiBA,MAAKA,eACtBA,KAAKA,eAAeA,GAAeA,MAAQA,EAE3CA,KAAKA,eAAeA,GAAiBA,GAAIA,GAAmBA,WAAWA,GAAeA,KAAMA,KAAKA,iBAAkBA,OACpHA,IAAIA,EACHA,EACAA,KAAKA,IAAIA,KAAKA,EAAUA,GAExBA,KAAKA,IAAIA,WAAWA,OAErBA,IAAIA,EAASA,KAAKA,IAA6BA,aAAhBA,EAA4BA,CAC9DA,GAAIA,GAASA,EAASA,KAAKA,GAAUA,EAEjCA,QAAOA,KAAKA,GACZA,KAAKA,UAAUA,KAAKA,KAAKA,GAAGA,EAAQA,IAEpCA,KAAKA,IAAIA,GAAGA,EAAQA,EAAsBA,EAAOA,WAErDA,KAAMA,KAAKA,KAAKA,KAA+BA,WAAhBA,GAA4CA,WAAhBA,GAA4CA,YAAhBA,GAA4BA,CAC/GA,GAAIA,IAAiBA,GAAcA,MAEnCA,MAAKA,IAAIA,KAAKA,EAAUA,KAQxCL,EAAAA,UAAAA,aAAAA,WACIM,GAAIA,GAAOA,KAAKA,IAGhBA,KAAKA,GAAIA,KAAKA,GAAMA,CAChBA,GAAIA,GAAQA,IAEUA,mBAAXA,GAAKA,KAAqBA,EAAQA,EAAiBA,KAAKA,KAC/DA,KAAKA,KAAKA,EAAMA,GAAIA,EAAKA,MAIjCA,KAAKA,SAASA,QAAQA,IAK1BN,EAAAA,UAAAA,KAAAA,SAAKA,GACDO,MAAOA,MAAKA,IAAIA,KAAUA,IAGpBP,EAAAA,UAAAA,aAAVA,SAAuBA,EAAaA,GAApCQ,GAAAA,GAAAA,IACIA,IADgCA,SAAAA,IAAAA,GAAAA,GAC5BA,IAAOA,GAAAA,qBAEPA,WADAA,MAAKA,eAAeA,EAAAA,qBAAqBA,GAI7CA,IAAIA,GAAMA,GAAIA,gBAEVA,EAAiBA,EAAGA,QAAQA,EAEhCA,GAAIA,iBAAiBA,OAAQA,SAACA,GAC1BA,GAAIA,EAAIA,aAAeA,EAAIA,sBAAuBA,UAC9CA,EAAAA,qBAAqBA,GAAOA,EAAIA,YAChCA,EAAKA,eAAeA,EAAIA,aACxBA,EAAKA,uBACLA,sBAAsBA,WAAMA,MAAAA,GAAKA,eAC9BA,CAAAA,IAAIA,EAAIA,eAAgBA,EAAIA,aAAaA,OAM5CA,KAAMA,IAAIA,WAAUA,wDAA0DA,EAAiBA,KAAOA,EAAMA,IAL5GA,GAAAA,qBAAqBA,IAAQA,EAAIA,cACjCA,EAAKA,gBAAgBA,EAAIA,kBACzBA,EAAKA,uBACLA,sBAAsBA,WAAMA,MAAAA,GAAKA,cAMzCA,EAAIA,QAAUA,EAEdA,EAAIA,KAAKA,MAAOA,GAAiBA,GACjCA,EAAIA,QAGER,EAAAA,UAAAA,qBAAVA,aAMUA,EAAAA,UAAAA,eAAVA,SAAyBA,GzB6uJrB,IyB7uJkCS,GAAtCA,GAAAA,KAAsCA,KAAAA,EAAAA,EAAAA,EAAAA,UAAAA,OAAAA,IAAAA,EAAAA,EAAAA,GAAAA,UAAAA,EAClCA,IAAIA,EAAOA,CACPA,GAAIA,GAAgBA,YAAiBA,OAAQA,EAAWA,GAASA,CAEjEA,GAASA,MACTA,EAAOA,QAAQA,SAACA,EAAGA,GACEA,kBAANA,KACPA,EAAOA,GAAKA,EAAEA,KAAKA,MAGvBA,EAAIA,WAAWA,OAASA,GAAGA,QAAQA,KAAKA,6CAA8CA,EAAKA,MAE1FA,KAAKA,mBACFA,EAAIA,YAAkDA,GAApCA,EAAIA,WAAWA,WAAWA,OAC5CA,KAAKA,iBAAmBA,QAExBA,KAAKA,iBAAmBA,WAGhCA,KAAKA,YAAsBA,EAAaA,EAAIA,WAAYA,EAAQA,KAAMA,KAAKA,OAE3EA,KAAKA,SAAWA,KAAKA,YAAYA,IAGrCA,GAAIA,KAAKA,mBAAoBA,CACzBA,GAAIA,GAAeA,KAAKA,QAA0BA,MAAKA,GAEvDA,IAAIA,KAAKA,WACLA,KAAKA,IAAMA,KAAKA,SAChBA,KAAKA,SAAWA,KAAKA,IAAIA,GAErBA,KAAKA,UAAYA,GAAcA,CAC/BA,IAAKA,GAAIA,GAAIA,EAAGA,EAAIA,EAAaA,WAAWA,OAAQA,IAAKA,CACrDA,GAAIA,GAASA,EAAaA,WAAWA,EAE/BA,cAAeA,KAAWA,EAAOA,YACFA,SAA7BA,EAAOA,KAAKA,cACZA,KAAKA,IAAIA,SAASA,EAAOA,OAEzBA,KAAKA,IAAIA,KAAKA,EAAOA,KAAMA,EAAOA,QAI1CA,GAAgBA,EAAaA,eAC7BA,EAAaA,cAAcA,aAAaA,KAAKA,SAAUA,EAAaA,iBAMhFA,KAAKA,WAAaA,KAAKA,eACvBA,KAAKA,YAAcA,KAAKA,UAAYA,KAAKA,SAASA,IAAMA,KAAKA,UAAYA,KAAKA,aAE9EA,KAAKA,UAAYA,KAAKA,UAAYA,KAAKA,KACvCA,KAAKA,SAASA,SAASA,KAAKA,IAEhCA,IAAIA,IAAYA,CAQhBA,OANIA,MAAKA,mBACLA,EAAYA,KAAKA,mBAAmBA,KAAKA,mBAExCA,GACDA,KAAKA,kBAEFA,KAAKA,aAGNT,EAAAA,UAAAA,gBAAVA,WAAAU,GAAAA,GAAAA,IACIA,MAAKA,SAASA,QAAQA,SAACA,GACfA,GAA6BA,gBAAXA,GACdA,YAAcA,IAAWA,EAAQA,mBAAoBA,aACrDA,EAAKA,gBAAgBA,YAAYA,EAAQA,UACpCA,OAASA,IAAWA,EAAQA,IACjCA,EAAQA,IAAIA,SAASA,EAAKA,iBACrBA,QAAUA,IAAWA,EAAQA,KAClCA,EAAKA,gBAAgBA,YAAYA,EAAQA,MACpCA,YAAmBA,MACxBA,EAAKA,gBAAgBA,YAAYA,GACtBA,EAAIA,QACfA,QAAQA,KAAKA,+BAAgCA,EAASA,cAAeA,GAClEA,GAA6BA,gBAAXA,IAAuBA,EAAQA,OAASA,GACjEA,EAAKA,gBAAgBA,YAAYA,SAASA,eAAeA,MAG7DA,KAAKA,YACLA,KAAKA,YAAYA,YAAYA,KAAKA,iBAC3BA,KAAKA,gBAAgBA,YAC5BA,QAAQA,MAAMA,6EAA8EA,OAI1FV,EAAAA,UAAAA,mBAAVA,SAA6BA,GAEzBW,GADAA,KAAKA,iBAAmBA,EACpBA,KAAKA,SAAUA,CACfA,GAAIA,GAAcA,KAAKA,WAGvBA,IAFAA,KAAKA,YAA0BA,SAAZA,EAAsBA,KAAKA,SAAyBA,KAAKA,SAAUA,cAAcA,GAEhGA,IAAgBA,KAAKA,aAAeA,KAAKA,YAEzCA,MADAA,MAAKA,mBACEA,EAGfA,OAAOA,GAGXX,EAAAA,UAAAA,OAAAA,SAAOA,GACHY,GAAIA,GAA6BA,gBAAXA,GAClBA,GAAIA,YAAmBA,MACnBA,KAAKA,YAAYA,YAAYA,OAC1BA,IAAIA,YAAmBA,GAC1BA,KAAKA,YAAYA,YAAwBA,EAASA,cAC/CA,CAAAA,KAAIA,YAAmBA,GAAQA,UAE/BA,MAAIA,aAAmBA,GACVA,EAASA,SAASA,EAAEA,KAAKA,cAClCA,OAASA,IAAqBA,EAASA,cAAeA,GAC5CA,EAASA,IAAIA,SAASA,EAAEA,KAAKA,cAEvCA,EAAEA,GAASA,SAASA,EAAEA,KAAKA,aANlCA,MAAKA,YAAYA,YAA+BA,EAASA,QAWrEZ,EAAAA,UAAAA,SAAAA,SAASA,GACLa,MAAIA,IAAWA,YAAmBA,GACXA,EAASA,OAAOA,MAC5BA,GAA6BA,gBAAXA,IAAuBA,OAAeA,IAAkBA,EAASA,cAAeA,GACrFA,EAASA,IAAIA,OAAOA,KAAKA,KACtCA,GAAWA,YAAmBA,GACrBA,EAASA,OAAOA,KAAKA,KAE9BA,EAAEA,GAASA,OAAOA,KAAKA,MAI5Bb,EAAAA,UAAAA,SAAVA,SAAmBA,GACfc,GAAIA,EAAMA,CACDA,KAAKA,QAAOA,KAAKA,KAAOA,EAC7BA,KAAKA,GAAIA,KAAKA,GACVA,KAAKA,KAAKA,EAAGA,EAAKA,MAO9Bd,EAAAA,UAAAA,OAAAA,WACIe,KAAKA,KAAKA,UACVA,KAAKA,aAAeA,KAAKA,YAAYA,QAAUA,KAAKA,YAAYA,SAChEA,KAAKA,SAASA,QAAQA,SAACA,GAAWA,MAAAA,IAAiBA,gBAALA,IAAiBA,EAAEA,QAAUA,EAAEA,YAKjFf,EAAAA,UAAAA,QAAAA,WACIgB,GAAIA,KAAKA,eACLA,IAAKA,GAAIA,KAAKA,MAAKA,eACdA,WAAaA,MAAKA,gBAAmBA,KAAKA,eAAeA,GAAGA,SAErEA,MAAKA,IAAIA,SACTA,KAAKA,SAAWA,KAEhBA,KAAKA,KAAKA,WACVA,KAAKA,KACLA,KAAcA,GAAAA,GAAAA,EAAAA,EAAAA,KAAKA,UAAdA,EAAAA,EAAAA,OAAAA,IAAwBA,CAAxBA,GAAIA,GAACA,EAAAA,EACNA,IAAKA,EAAEA,KAAOA,EAAEA,MACpBA,KAAKA,UAAUA,OAASA,QAEjBA,MAAKA,IAEZA,KAAcA,GAAAA,GAAAA,EAAAA,EAAAA,KAAKA,SAAdA,EAAAA,EAAAA,OAAAA,IAAuBA,CAAvBA,GAAIA,GAACA,EAAAA,EACFA,YAAaA,IAASA,EAAGA,UAGjCA,KAAKA,SAASA,OAASA,GAGpBhB,EAAAA,kBAAPA,SAAyBA,GACrBiB,MAAOA,UAASA,GAERC,EAAcjrB,eAAuB5B,GAAI8sB,SACzCrgB,QAAQud,KAAK,aAAc6C,EAAe,sBAExCzW,EAAQ2W,SAAWF,EAEnB7sB,EAAI8sB,QAAQD,EAAcjrB,eAAiBwU,IAIlDuV,EAAAA,WAAPA,SAAkBA,GACdqB,EAAOA,WAAYA,GAGhBrB,EAAAA,SAAPA,SAAgBA,EAAkBA,GAC9BsB,MAAOA,UAASA,GACZ7W,EAAO9Q,UAAU4nB,gBAAkBC,EAE/BC,GAAmBA,EAAgBtrB,SACnCsU,EAAO9Q,UAAU+nB,iBAAmBD,KAIzCzB,EAAAA,OAAPA,SAAcA,GACV2B,EAAOA,UAAUA,oBAAqBA,GAnZnC3B,EAAAA,WAAYA,EACZA,EAAAA,SAoBPA,YAACA,EAAGA,UAAUA,MzBimKVjV,WAAW,cAAegG,UyBhmK9BiP,EAAAA,UAAAA,UAAOA,QAEPA,YAACA,EAAGA,UAAUA,MzBkmKVjV,WAAW,cAAerT,SyBjmK9BsoB,EAAAA,UAAAA,QAAKA,QA4XTA,GAtZ4B3rB,EAAGA,UAAlBA,GAAAA,OAAMA,CAuZnBA,IAAcA,IAAdA,SAAcA,GACV+oB,GAAAA,GAAAA,SAAAA,GAAiCwE,UAAAA,EAAAA,EAC7BA,SAAAA,GAAYA,EAAgBA,EAA0BA,EAA6BA,EAAqBA,EAAiCA,GAAtDC,SAAAA,IAAAA,EAAAA,MAAqBA,SAAAA,IAAAA,EAAAA,MAAiCA,SAAAA,IAAAA,EAAAA,MACjIA,IAAUA,EAAUA,IAAIA,EAASA,UACrCA,EAAAA,KAAAA,KAAMA,EAAUA,EAAMA,EAAUA,EAASA,EAAkBA,GAC3DA,KAAKA,kBAEbD,MAAAA,IANiCxE,EAApBA,GAAAA,YAAWA,GADd/oB,EAAAA,EAAAA,UAAAA,EAAAA,cAtuBXA,KAAAA,OA22BP,IAAOA,KAAP,SAAOA,GAAGA,GAAAA,IAAAA,SAAAA,GACN+oB,GAAAA,GAAAA,SAAAA,GAAiC0E,UAAAA,EAAAA,EAC7BA,SAAAA,GAAYA,GACRC,EAAAA,KAAAA,KAAMA,KAAMA,SAAgBA,KAAMA,SAE1CD,MAAAA,IAJiC1E,EAAAA,OAApBA,GAAAA,YAAWA,CAMxBA,IAAAA,GAAAA,SAAAA,GAAmC4E,UAAAA,EAAAA,EAC/BA,SAAAA,GAAYA,EAAkBA,GAC1BC,EAAAA,KAAAA,KAAMA,KAAMA,SAAgBA,KAAMA,SAClCA,KAAKA,gBAAgBA,IAE7BD,MAAAA,IALmC5E,EAAAA,OAAtBA,GAAAA,cAAaA,GAPpB/oB,EAAAA,EAAAA,UAAAA,EAAAA,cAAHA,KAAAA,OCh3BP,IAAA6tB,kBAAA,SAAAC,GAC+BD,UAAAA,EAAAA,EAD/BA,SAAAA,KAC+BE,EAAAA,MAAAA,KAAAA,WAQnBA,KAAAA,eAAiBA,KA+C7BF,MA7CIA,GAAAA,UAAAA,QAAAA,WACIG,KAAKA,WACLA,EAAAA,UAAMA,QAAOA,KAAAA,OAGTH,EAAAA,UAAAA,SAARA,WACII,KAAKA,gBAAkBA,KAAKA,OAAOA,IAAIA,IAAIA,EAAiBA,eAAgBA,KAAKA,gBACjFA,KAAKA,kBAAoBA,KAAKA,iBAAiBA,MAC/CA,KAAKA,iBAAmBA,KACxBA,KAAKA,eAAiBA,MAG1BJ,EAAAA,UAAAA,QAAAA,SAAQA,EAAeA,GAAvBK,GAAAA,GAAAA,IACIA,MAAKA,WAEFA,KAAKA,iBAAkBA,IAAGA,QAAQA,SACjCA,KAAKA,mBAAqBA,KAAKA,OAAOA,GAAGA,gBAAiBA,SAAAA,GAClDA,GAAUA,EAAKA,UAAUA,KACzBA,EAAKA,UAAUA,GAASA,KAGhCA,KAAKA,iBAAmBA,KAAKA,UAAUA,GAAGA,EAAQA,WAAYA,SAAAA,GAC1DA,GAAIA,GAAaA,EAAKA,OAA8BA,KAEhDA,IAAaA,GAAYA,GAAUA,EAAOA,YAAcA,IACvDA,EAAKA,OAA8BA,MAAQA,OAE7CA,GAAyDA,SAA/CA,KAAKA,OAAOA,SAASA,SAASA,eAA2EA,UAA/CA,KAAKA,OAAOA,SAASA,SAASA,gBACzGA,KAAKA,eAAiBA,WAClBA,GAAIA,GAAYA,EAAKA,OAAOA,IAAIA,KAC5BA,IAAaA,EAAKA,UAAUA,KAC5BA,EAAKA,UAAUA,GAASA,IAIhCA,KAAKA,cAAgBA,KAAKA,OAAOA,IAAIA,GAAGA,EAAiBA,eAAgBA,KAAKA,gBAE9EA,KAAKA,iBAAmBA,KAAKA,UAAUA,GAAGA,EAAQA,WAAYA,SAAAA,GAC1DA,GAAIA,GAAYA,EAAKA,OAAOA,IAAIA,KAE5BA,IAAaA,GAAYA,GAAUA,EAAOA,YAAcA,GACxDA,EAAKA,OAAOA,IAAIA,IAAIA,OAlD7BL,EAAAA,UAAYA,OAAOA,oBACnBA,EAAAA,eAAiBA,uCAH5BA,EAAAA,YAACA,GAAGA,mBAAmBA,SAASA,Y1BijLxBnX,WAAW,yBACZmX,I0BjjLwB7tB,GAAG8pB,oBAyDxB9pB,IAAV,SAAUA,GAAGA,GAAAA,IAAAA,SAAAA,GACT+oB,GAAAA,GAAAA,SAAAA,GAA6BoF,UAAAA,EAAAA,EAA7BA,SAAAA,KAA6BC,EAAAA,MAAAA,KAAAA,WAG7BD,MAFIA,aAACA,EAAGA,UAAUA,M1BogLNzX,WAAW,cAAerT,S0BngLlC8qB,EAAAA,UAAAA,QAAKA,QACTA,GAH6BpF,EAAGA,OAAnBA,GAAAA,QAAOA,GADX/oB,EAAAA,EAAAA,UAAAA,EAAAA,cAAHA,KAAAA,OC3DV,IAAAquB,gBAAA,SAAAP,GAC6BO,UAAAA,EAAAA,EAD7BA,SAAAA,KAC6BC,EAAAA,MAAAA,KAAAA,WAI7BD,MAHIA,GAAAA,UAAAA,QAAAA,SAAQA,GACHE,KAAKA,OAAOA,YAA4BA,UAAYA,GAH7DF,EAAAA,YAACA,GAAGA,mBAAmBA,SAASA,U3BolLxB3X,WAAW,yBACZ2X,I2BplLsBruB,GAAG8pB,oBCDhC0E,mBAAA,SAAAV,GACiCU,UAAAA,EAAAA,EADjCA,SAAAA,KACiCC,EAAAA,MAAAA,KAAAA,WAoBjCD,MAfIA,GAAAA,UAAAA,MAAAA,WAAAE,GAAAA,GAAAA,IACIA,MAAKA,SAAWA,KAAKA,OAAOA,GAAGA,gBAAiBA,WAAMA,MAAAA,GAAKA,QAAQA,EAAKA,UAG5EF,EAAAA,UAAAA,QAAAA,WACIG,KAAKA,SAASA,OAGlBH,EAAAA,UAAAA,QAAAA,SAAQA,GACAI,MAAMA,GACNA,KAAKA,OAAOA,IAAIA,SAASA,EAAmBA,mBAAmBA,WAAWA,eAAeA,WAAWA,GAAGA,aAEvGA,KAAKA,OAAOA,IAAIA,YAAYA,EAAmBA,mBAAmBA,KAAKA,cAAeA,QAAQA,KAAKA,GAAGA,aAAaA,IAhBpHJ,EAAAA,kBAAoBA,YAF/BA,EAAAA,YAACA,GAAGA,mBAAmBA,SAASA,W5BinLxB9X,WAAW,yBACZ8X,I4BjnL0BxuB,GAAG8pB,oBCH7B9pB,IAAP,SAAOA,GAAGA,GAAAA,IAAAA,SAAAA,GACNunB,QAAAA,GAAqBA,G7B4nLb,I6B5nL8BsH,GAAAA,MAAAA,EAAAA,EAAAA,EAAAA,UAAAA,OAAAA,IAAAA,EAAAA,EAAAA,GAAAA,UAAAA,EAGlCA,IAAIA,GAAMA,EAAgBA,IAEtBA,EAASA,EAgCbA,OA9BAA,GAAOA,QAAQA,SAACA,EAAOA,GAGnBA,GAAIA,GAAMA,EAAIA,EAKVA,OAAMA,QAAQA,KACdA,EAAQA,EAAMA,KAAKA,KAOlBA,EAAIA,SAASA,KAGdA,EAAMA,EAAIA,MAAMA,EAAGA,IAFnBA,EAAQA,EAAKA,OAAOA,GAKxBA,GAAUA,EACVA,GAAUA,IAKdA,GAAUA,EAAIA,EAAIA,OAASA,GAnCftH,EAAAA,KAAIA,GADdvnB,EAAAA,EAAAA,OAAAA,EAAAA,WAAHA,KAAAA,OA0CP,IAAOA,KAAP,SAAOA,GAAGA,GAAAA,IAAAA,SAAAA,GAAKunB,GAAAA,IAAAA,SAAAA,GACXsH,QAAAA,GAAuBA,GACnBC,MAAYA,UAARA,GAA4BA,MAAPA,EAAoBA,GAEzCA,KAAQA,GAASA,KAAQA,EAAcA,EAAMA,OAASA,QAEnDA,IAAQA,EAAMA,EAAIA,aAAeA,EAAIA,QAAQA,KAAMA,SACrDA,QAAQA,KAAMA,QACdA,QAAQA,KAAMA,QACdA,QAAQA,KAAMA,UACdA,QAAQA,KAAMA,SACdA,QAAQA,KAAMA,SAVPD,EAAAA,OAAMA,GADXtH,EAAAA,EAAAA,OAAAA,EAAAA,WAALvnB,EAAAA,EAAAA,OAAAA,EAAAA,WAAHA,KAAAA,OC8FP,IAAUA,KAAV,SAAUA,GAAGA,GAAAA,IAAAA,SAAAA,GACT+uB,QAAAA,GACIA,EACAA,G9BojLI,I8BnjLJC,GAAAA,MAAAA,EAAAA,EAAAA,EAAAA,UAAAA,OAAAA,IAAAA,EAAAA,EAAAA,GAAAA,UAAAA,EACAA,IAAIA,GAAmBA,IAEvBA,IAAoBA,gBAATA,GAAmBA,CAC1BA,EAAOA,EAAGA,QAAQA,WAClBA,IAAIA,GAAUA,EAAKA,aAEfA,KAAWA,GAAGA,UACdA,EAAOA,EAAGA,QAAQA,IAElBA,GAAeA,YAAkBA,SAAUA,IAC3CA,EAAgBA,GACpBA,EAAQA,SACLA,GAAYA,CAEnBA,OAAOA,IAAIA,GAAKA,KAAMA,MAAkBA,OAlB5BD,EAAAA,cAAaA,EAqBlBA,EAAAA,SAAWA,EAAGA,MAtBhB/uB,EAAAA,EAAAA,OAAAA,EAAAA,WAAHA,KAAAA,OAyBV,IAAUA,KAAV,SAAUA,GAINA,QAAAA,GAAkBA,EAAuBA,G9BsjLrC,I8BtjL6DivB,GAAAA,MAAAA,EAAAA,EAAAA,EAAAA,UAAAA,OAAAA,IAAAA,EAAAA,EAAAA,GAAAA,UAAAA,EAC7DA,IAAIA,GAAQA,EAAGA,QAAQA,WASvBA,OARAA,GAAgBA,EAAcA,cAE1BA,IAAiBA,GAAAA,UACjBA,EAAQA,EAAAA,QAAQA,IAEhBA,GAAcA,YAAiBA,SAAUA,IACzCA,EAAYA,GAETA,GAAIA,GAAMA,KAAMA,MAAYA,OAVvBjvB,EAAAA,EAACA,GAJXA,KAAAA,OC/JV,IAAOA,KAAP,SAAOA,GAAGA,GAAAA,IAAAA,SAAAA,GAEN+oB,QAAAA,GAAgCA,GACxBmG,GAA2BA,gBAAVA,KACbA,WAAaA,GACbA,EAAOA,UAEPA,EAAOA,KAAOA,EAAOA,IAAIA,UAIrCnG,QAAAA,GAA8BA,GACtBoG,GAAiBA,gBAALA,KACZA,SAAWA,KAAMA,EAAEA,MAAQA,EAAEA,OAC7BA,gBAAkBA,IAAKA,EAAEA,gBAIjCpG,GAAAA,GAAAA,SAAAA,GAE8BqG,UAAAA,EAAAA,EAmB1BA,SAAAA,GAAYA,EAAuBA,EAA0BA,EAA6BA,EAAGA,EAAGA,GAC5FC,EAAAA,KAAAA,KAAMA,EAAUA,KAAUA,EAAGA,EAAGA,GAEhCA,KAAKA,cAAgBA,OAAOA,aAAeA,EAAGA,UAE9CA,KAAKA,UAAYA,KAAKA,UAAUA,KAAKA,MACrCA,KAAKA,wBAA0BA,KAAKA,wBAAwBA,KAAKA,MAG7DA,KAAKA,MAAQA,KAAKA,KAAKA,QACvBA,KAAKA,KAAKA,QAAQA,KAAKA,UAAWA,MAoH9CD,MAhHYA,GAAAA,UAAAA,aAARA,SAAqBA,EAAMA,GAA3BE,GAAAA,GAAAA,IAGIA,IAAIA,IAASA,EAgBbA,MAdIA,MAAKA,gBACLA,KAAKA,eAAeA,QAAQA,SAAAA,GAAKA,MAAAA,GAAEA,QACnCA,KAAKA,eAAeA,OAASA,GACtBA,IACPA,KAAKA,mBAGLA,IAEAA,EAASA,QAAQA,KAAKA,yBAEtBA,KAAKA,mBAGLA,GAAUA,YAAgBA,GAAGA,gBAK7BA,KAAKA,OACLA,KAAKA,eAAeA,KAAKA,KAAKA,KAAKA,GAAGA,UAAWA,KAAKA,OAAOA,KAAKA,QAClEA,KAAKA,eAAeA,KAAKA,KAAKA,KAAKA,GAAGA,YAAaA,SAAAA,GAAKA,MAAAA,GAAKA,OAAOA,YAAaA,MAE7EA,KAAKA,KAAKA,QAAYA,KAAKA,eAC3BA,KAAKA,OAAOA,iBAThBA,SAAQA,MAAMA,GAAIA,OAAMA,oDAahCF,EAAAA,UAAAA,QAAAA,WACIG,KAAKA,KAAOA,KACZA,EAAAA,UAAMA,QAAOA,KAAAA,OAGjBH,EAAAA,UAAAA,UAAAA,SAAUA,GAAVI,GAAAA,GAAAA,IACIA,MAAKA,KAAOA,CAEZA,IAAIA,GAAMA,EAAYA,KAAKA,eAEvBA,IAAYA,CAEXA,KACDA,EAAMA,KAAKA,sBAAsBA,GACjCA,EAAYA,KAAKA,eAAiBA,GAGtCA,EAAIA,QAAQA,SAACA,GAELA,GAAWA,GAAkBA,gBAALA,IAAkBA,gBAAkBA,IAC5DA,EAAEA,eAENA,EAAKA,OAAOA,MAIpBJ,EAAAA,UAAAA,sBAAAA,SAAsBA,GAClBK,GAAIA,GAAIA,EAAAA,UAAMA,sBAAqBA,KAAAA,KAACA,EAEpCA,OADAA,MAAKA,UAAYA,KAAKA,SAASA,EAAGA,GAC3BA,GAGHL,EAAAA,UAAAA,eAARA,WAEIM,IADAA,GAAIA,GAAcA,KACXA,EAAQA,KAAKA,YAAYA,YAC5BA,KAAKA,YAAYA,YAAYA,IAI7BN,EAAAA,UAAAA,wBAARA,SAAgCA,GACxBO,EAAcA,KAAKA,iBACnBA,EAAcA,KAAKA,eAAeA,QAAQA,SAEnCA,GAAcA,KAAKA,iBAIlCP,EAAAA,UAAAA,OAAAA,SAAOA,EAAcA,EAAIA,GACrBQ,GAEIA,IAAWA,CAEfA,IAAYA,UAARA,GAAoBA,EAAEA,KAAKA,eAC3BA,EAAEA,KAAKA,eAAeA,QAAQA,OAC3BA,IAAYA,aAARA,GAA+BA,UAARA,EAC9BA,KAAKA,UAAUA,OACZA,IAAYA,aAARA,GAAuBA,GAAKA,EAAEA,KAAKA,eAC1CA,KAAKA,wBAAwBA,OAC1BA,IAAsCA,UAARA,GAAoBA,GAAQA,EAAAA,WAAWA,OAAOA,iBAC/EA,GAAUA,MAGLA,IAAYA,WAARA,EACTA,KAAKA,iBACLA,KAAKA,KAAKA,QAAQA,GAClBA,GAAUA,MACPA,IAAIA,GAAQA,EAAAA,WAAWA,OAAOA,sBAEjCA,WADAA,MAAKA,KAAKA,QAAQA,KAAKA,0BAIfA,SAARA,GAAmBA,IACnBA,KAAKA,iBAGLA,GAAWA,KAAKA,KAAKA,QACrBA,KAAKA,KAAKA,QAAQA,KAAKA,UAAWA,OA5I1CR,YAACA,EAAGA,UAAUA,M/Bk1LN1Y,WAAW,cAAe1W,EAAG6Y,a+Bj1LrCuW,EAAAA,UAAAA,OAAIA,QAEJA,YAACA,EAAGA,UAAUA,M/Bm1LN1Y,WAAW,cAAemZ,W+Bl1LlCT,EAAAA,UAAAA,WAAQA,QARZA,EAAAA,YAACA,EAAGA,OAAOA,kBAAkBA,aAC5BA,EAAGA,OAAOA,W/B81LC1Y,WAAW,qBAAsBoZ,YAAazsB,OAAQ0sB,MAAO1sB,OAAQA,OAAQA,UAC9E2sB,I+B91LmBjH,EAAGA,OAApBA,GAAAA,SAAQA,GApBf/oB,EAAAA,EAAAA,UAAAA,EAAAA,cAAHA,KAAAA,OCAP,IAAUA,KAAV,SAAUA,GAAGA,GAAAA,IAAAA,SAAAA,GACT+oB,GAAAA,GAAAA,SAAAA,GACgCkH,UAAAA,EAAAA,EAO5BA,SAAAA,GAAYA,EAAgBA,EAA0BA,EAA6BA,EAAGA,EAAGA,GAR7FC,GAAAA,GAAAA,IASQA,GAAAA,KAAAA,KAAMA,EAAUA,KAAUA,EAAGA,EAAGA,GAHpCA,KAAAA,OAASA,GAAIA,GAAGA,UAKZA,IAAIA,GAAyBA,IAE7BA,GAASA,QAAQA,SAAAA,GACTA,YAAiBA,KACjBA,EAAQA,GAASA,EACCA,EAAOA,OAASA,KAItCA,GACAA,KAAKA,KAAKA,GAmCtBD,MAhCIA,GAAAA,UAAAA,KAAAA,SAAKA,GACIE,GAEDA,KAAKA,eAAiBA,IAErBA,KAAKA,OAAOA,SAASA,KACtBA,KAAKA,OAAOA,KAAKA,GACjBA,EAAMA,SAASA,KAAKA,aAChBA,YAAiBA,KACjBA,EAAMA,OAASA,OAInBA,KAAKA,cACLA,EAAGA,KAAKA,IAAIA,QAAQA,OAAOA,KAAKA,aAAaA,UAGjDA,KAAKA,aAAeA,EAEpBA,EAAGA,KAAKA,IAAIA,QAAQA,YAAYA,KAAKA,YAAaA,KAAKA,aAAaA,UAEpEA,KAAKA,aAAaA,OAElBA,EAAMA,WAGVF,EAAAA,UAAAA,OAAAA,WACQG,KAAKA,cACLA,KAAKA,aAAaA,SAEtBA,EAAAA,UAAMA,OAAMA,KAAAA,OAnDhBH,YAACA,EAAGA,UAAUA,MhCs6LNvZ,WAAW,cAAe2Z,IgCr6LlCJ,EAAAA,UAAAA,eAAYA,QAJhBA,EAAAA,YAACA,EAAGA,OAAOA,kBAAkBA,ehC66LjBvZ,WAAW,qBAAsB4Z,KAAMjtB,OAAQ0sB,MAAO1sB,OAAQA,OAAQA,UACvEktB,IgC76LqBxH,EAAGA;AAAtBA,EAAAA,WAAUA,CAyDvBA,IAAAA,GAAAA,SAAAA,GACqCyH,UAAAA,EAAAA,EADrCA,SAAAA,KACqCC,EAAAA,MAAAA,KAAAA,WAWrCD,MARIA,GAAAA,UAAAA,KAAAA,WACQE,KAAKA,QACLA,KAAKA,OAAOA,KAAKA,OAGzBF,EAAAA,UAAAA,UAAAA,WACIG,MAAOA,MAAKA,IAAIA,GAAGA,aAV3BH,EAAAA,YAACA,EAAGA,OAAOA,kBAAkBA,qBhCs4LjB9Z,WAAW,yBACZ2Z,IgCt4L0BtH,EAAGA,OAA3BA,GAAAA,gBAAeA,GA5DnB/oB,EAAAA,EAAAA,UAAAA,EAAAA,cAAHA,KAAAA","file":"mz.min.js","sourcesContent":[null,"/// <reference path=\"TSD/JQuery.d.ts\" />\n/// <reference path=\"TSD/Promise.d.ts\" />\nif (typeof this.jQuery === \"undefined\") {\n    throw new Error(\"jQuery not present\");\n}\nfunction isDef(b) {\n    return typeof b != \"undefined\";\n}\n;\nvar mz;\n(function (mz) {\n    mz.globalContext = window || typeof global != \"undefined\" && global;\n    (function () {\n        var UID = 1;\n        mz.globalContext.Symbol = mz.globalContext.Symbol || function (a) {\n            return \"[[\" + a + \"-\" + UID++ + \"]]\";\n        };\n    })();\n    mz._debug = window._debug || window.location.search.match('(\\\\?|&)mz-debug') !== null;\n    var scripts = document.getElementsByTagName('script'), test, mzcorePath, i, ln, scriptSrc, match, lang;\n    var jquery = true;\n    var jqueryVer = null;\n    for (i = 0, ln = scripts.length; i < ln; i++) {\n        scriptSrc = scripts[i].src;\n        match = scriptSrc.match(/mz(\\.min){0,1}\\.js/);\n        if (match) {\n            if (scriptSrc.match('(\\\\?|&)no-jquery') !== null) {\n                jquery = false;\n            }\n            mzcorePath = scriptSrc.substring(0, scriptSrc.indexOf(match[0]));\n            break;\n        }\n    }\n    mz.scriptBase = '';\n    // Path helpers\n    mz.core_path = (mzcorePath || '').toString();\n    (mz.core_path.substr(-1) !== '/') && (mz.core_path += '/');\n    function alias(clave, ruta) {\n        (ruta.substr(-1) !== '/') && (ruta += '/');\n        alias_routes[clave] = ruta;\n    }\n    mz.alias = alias;\n    ;\n    var alias_routes = {\n        mz: mz.core_path\n    };\n    function getPath(path, root) {\n        var io = 0, clave = null, base = root || mz.core_path;\n        (base.substr(-1) !== '/') && (base += '/');\n        if (path) {\n            if (path.substr(0, 1) == '@' && (io = path.indexOf('/')) != -1 && (clave = path.substr(1, io - 1)) && alias_routes.hasOwnProperty(clave)) {\n                path = path.replace('@' + clave + '/', alias_routes[clave]);\n            }\n            return path.substr(0, 2) in { './': 1, '~/': 1 } ? base + path.substr(2) : path;\n        }\n        return base;\n    }\n    mz.getPath = getPath;\n    ;\n    // element helpers\n    function getElementPosition(element) {\n        var elm = element;\n        if (element instanceof jQuery)\n            elm = element[0];\n        var x = 0;\n        var y = 0;\n        if (elm) {\n            x = elm.offsetLeft; // set x to elms offsetLeft\n            y = elm.offsetTop; // set y to elms offsetTop\n            elm = elm.offsetParent; // set elm to its offsetParent\n            //use while loop to check if elm is null\n            // if not then add current elms offsetLeft to x\n            //offsetTop to y and set elm to its offsetParent\n            while (elm != null) {\n                x = (x | 0) + elm.offsetLeft | 0;\n                y = (y | 0) + elm.offsetTop | 0;\n                elm = elm.offsetParent;\n            }\n        }\n        return {\n            x: x,\n            y: y\n        };\n    }\n    mz.getElementPosition = getElementPosition;\n    ;\n    mz.emptyFn = function () { };\n    mz.oldCopy = function (b, c) {\n        b = b || {};\n        c = c || {};\n        function extend(a, b) {\n            for (var i in b) {\n                a[i] = b[i];\n            }\n            return a;\n        }\n        b = extend(b, c);\n        if (c.hasOwnProperty && c.hasOwnProperty('toString') && (typeof c.toString != 'undefined') && (b.toString !== c.toString))\n            b.toString = c.toString;\n        return b;\n    };\n    function copy(Destination) {\n        var dest = arguments[0] || {};\n        if (arguments.length > 1) {\n            for (var i = 1; i < arguments.length; i++) {\n                dest = mz.oldCopy(dest, arguments[i]);\n            }\n            return dest;\n        }\n        if (arguments.length == 1) {\n            return mz.oldCopy({}, arguments[0]);\n        }\n        return dest;\n    }\n    mz.copy = copy;\n    ;\n    function mapXInto(propiedades, destino) {\n        var n_args = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            n_args[_i - 2] = arguments[_i];\n        }\n        if (arguments.length) {\n            for (var i = 1; i < arguments.length; i++) {\n                for (var prop in propiedades) {\n                    if (arguments[i] && (propiedades[prop] in arguments[i]))\n                        destino[propiedades[prop]] = arguments[i][propiedades[prop]];\n                }\n            }\n        }\n        return destino;\n    }\n    mz.mapXInto = mapXInto;\n    ;\n    function mapInto(destino) {\n        var n_args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            n_args[_i - 1] = arguments[_i];\n        }\n        var argumentos = Array.prototype.slice.call(arguments);\n        argumentos.unshift(Object.keys(destino));\n        return mapXInto.apply(null, argumentos);\n    }\n    mz.mapInto = mapInto;\n    ;\n    function isIterable(a) {\n        if (!a || (typeof a != 'object'))\n            return false;\n        if ('toString' in a && a.toString() == \"[object Object]\")\n            return true;\n        if (!('length' in a))\n            return false;\n        if (a instanceof Array || ('callee' in a) || ('push' in a && 'pop' in a))\n            return true;\n        return false;\n    }\n    mz.isIterable = isIterable;\n    function trim(text) {\n        try {\n            return String(text.toString()).trim();\n        }\n        catch (ignored) {\n            return \"\";\n        }\n    }\n    mz.trim = trim;\n    var contador_doms = 0;\n    function getDOMID() {\n        return \"mz-elem-\" + (contador_doms++);\n    }\n    mz.getDOMID = getDOMID;\n    function genUID() {\n        return (contador_doms++);\n    }\n    mz.genUID = genUID;\n    mz.intval = mz.globalContext.intval = function (mixed_var, base) {\n        var tmp;\n        var type = typeof (mixed_var);\n        if (type === 'boolean') {\n            return +mixed_var;\n        }\n        else if (type === 'string') {\n            tmp = parseInt(mixed_var, base || 10);\n            return (isNaN(tmp) || !isFinite(tmp)) ? 0 : tmp;\n        }\n        else if (type === 'number' && isFinite(mixed_var)) {\n            return mixed_var | 0;\n        }\n        else {\n            return 0;\n        }\n    };\n    console.log('MZCORE: /--==<{[One Script To Rule Them All 牴_牴]}>==--/');\n    mz.CBool = mz.globalContext.CBool = function (val) {\n        if (!val || val == null || val == undefined)\n            return false;\n        if (typeof val == 'string') {\n            if (val.toLowerCase() == \"false\")\n                return false;\n            if (val.toLowerCase() == \"0\")\n                return false;\n            if (val.trim().length)\n                return true;\n        }\n        if (mz.intval(val) != 0)\n            return true;\n        return false;\n    };\n    var theQueryString = {};\n    window.location && window.location.search.toString().replace(new RegExp(\"([^?=&]+)(=([^&]*))?\", \"g\"), function ($0, $1, $2, $3) {\n        theQueryString[$1] = $3;\n        return $0;\n    });\n    /**\n    Obtiene el valor de la clave del query string\n\n    @method queryString\n    @param {String} key\n    */\n    mz.queryString = function (key) {\n        if (key in theQueryString)\n            return theQueryString[key];\n        return null;\n    };\n    /**\n    Devuelve un valor booleano en base a la expresion. Si __expr__ es una funci坦n, la llama.\n\n    @method readBool\n    @param {Expression} expr\n    */\n    mz.readBool = function (cosa, datos, datos2) {\n        if (typeof cosa == 'function')\n            return !!cosa(datos, datos2);\n        return !!cosa;\n    };\n    /**\n    Devuelve un valor tipo string en base a la expresion. Si __expr__ es una funci坦n, la llama.\n\n    @method readString\n    @param {Expression} expr\n    */\n    mz.readString = function (cosa, datos, datos2) {\n        if (typeof cosa == 'function') {\n            var a = cosa(datos, datos2);\n            if (a != null)\n                return '' + a;\n            return '';\n        }\n        return '' + isDef(cosa) && cosa !== null ? cosa : '';\n    };\n    /**\n    Devuelve un valor en base a la expresion. Si __expr__ es una funci坦n, la llama.\n\n    @method readVar\n    @param {Expression} expr\n    */\n    mz.readVar = function (cosa, datos, datos2) {\n        if (typeof cosa == 'function')\n            return cosa(datos, datos2);\n        return cosa;\n    };\n    /**\n    Crea un delayer para la funci坦n\n\n    @method delayer\n    @param {Function} callback\n    @param {Int} defTimeout\n    @return {Function} FunctionDelayer\n    */\n    mz.delayer = function (fn, defTimeout, thisp) {\n        var timer = null;\n        defTimeout = defTimeout || 16;\n        var ret = function () {\n            timer && clearTimeout(timer);\n            var a = arguments;\n            thisp = thisp || this;\n            timer = setTimeout(function () {\n                fn.apply(thisp || null, a);\n                timer = null;\n            }, defTimeout);\n            return timer;\n        };\n        ret.now = function () {\n            timer && clearTimeout(timer);\n            timer = null;\n            return fn.apply(thisp || null, arguments);\n        };\n        ret.cancel = function () {\n            timer && clearTimeout(timer);\n            timer = null;\n        };\n        return ret;\n    };\n    /**\n    Debounces the current call until the next frame\n\n    @method delayer\n    @param {Function} fn\n    @return {Function} FunctionDelayer\n    */\n    mz.screenDelayer = function (fn, thisp) {\n        var timer = null;\n        var ret = function () {\n            timer && cancelAnimationFrame(timer);\n            var a = arguments;\n            thisp = thisp || this;\n            timer = requestAnimationFrame(function () {\n                fn.apply(thisp || null, a);\n                timer = null;\n            });\n            return timer;\n        };\n        ret.now = function () {\n            timer && cancelAnimationFrame(timer);\n            timer = null;\n            return fn.apply(thisp || null, arguments);\n        };\n        ret.cancel = function () {\n            timer && cancelAnimationFrame(timer);\n            timer = null;\n        };\n        return ret;\n    };\n    mz.traspose = function (a) {\n        return Object.keys(a[0]).map(function (c) {\n            return a.map(function (r) {\n                return r[c];\n            });\n        });\n    };\n    /**\n    Obtiene el valor del Performance Counter\n\n    @method now\n    @return {Number} PerformanceCounter\n    */\n    mz.now = 'performance' in window && window.performance.now ?\n        function () {\n            return window.performance.now();\n        } :\n        function () {\n            return (new Date()).getTime();\n        };\n    mz.blankImage = 'data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==';\n    mz.transformTag = null;\n    var data;\n    (function (data) {\n        var order;\n        (function (order) {\n            function null_arriba(a, b, campo) {\n                var aTieneNulo = !(campo in a) || a[campo] == null;\n                var bTieneNulo = !(campo in b) || b[campo] == null;\n                if (aTieneNulo != bTieneNulo) {\n                    if (bTieneNulo)\n                        return -1;\n                    return 1;\n                }\n                if (aTieneNulo == true || a[campo] == b[campo])\n                    return 0;\n                return +(a[campo] > b[campo]) * 2 - 1;\n            }\n            order.null_arriba = null_arriba;\n            function null_abajo(a, b, campo) {\n                var aTieneNulo = !(campo in a) || a[campo] == null;\n                var bTieneNulo = !(campo in b) || b[campo] == null;\n                if (aTieneNulo != bTieneNulo) {\n                    if (bTieneNulo)\n                        return 1;\n                    return -1;\n                }\n                if (aTieneNulo == true || a[campo] == b[campo])\n                    return 0;\n                return +(a[campo] > b[campo]) * 2 - 1;\n            }\n            order.null_abajo = null_abajo;\n            function build(elems) {\n                if (typeof elems == 'function')\n                    return elems;\n                var null_abajo = this.null_abajo, null_arriba = this.null_arriba;\n                if (typeof elems == 'string') {\n                    elems = elems.split(',');\n                    for (var i in elems) {\n                        elems[i] = mz.trim(elems[i]);\n                        var t = elems[i].toUpperCase();\n                        if (/( ASC)$|( DESC)$/.test(t)) {\n                            elems[i] = {\n                                invertir: /( DESC)$/.test(t),\n                                campo: elems[i].replace(/( ASC)$|( DESC)$/, '')\n                            };\n                        }\n                    }\n                }\n                return function (a, b) {\n                    var tmp = 0;\n                    for (var i in elems) {\n                        if (typeof elems[i] == \"string\") {\n                            tmp = null_abajo(a, b, elems[i]);\n                        }\n                        else {\n                            if (elems[i].null_abajo) {\n                                tmp = null_abajo(a, b, elems[i].campo);\n                            }\n                            else {\n                                tmp = null_arriba(a, b, elems[i].campo);\n                            }\n                            if (elems[i].invertir)\n                                tmp *= -1;\n                        }\n                        if (tmp != 0)\n                            return tmp;\n                    }\n                    return tmp;\n                };\n            }\n            order.build = build;\n        })(order = data.order || (data.order = {}));\n    })(data = mz.data || (mz.data = {}));\n    mz.hardCodedFiles = {};\n    function escapeRegExp(str) {\n        return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\");\n    }\n    mz.escapeRegExp = escapeRegExp;\n    var cssCargados = {};\n    function loadCss(url) {\n        url = getPath(url);\n        if (url in cssCargados)\n            return cssCargados[url];\n        var estilos = document.getElementsByTagName('link'), i, ln;\n        for (i = 0, ln = estilos.length; i < ln; i++) {\n            if (estilos[i].rel == 'stylesheet' && estilos[i].href.split('?')[0] == url)\n                return;\n        }\n        if ('createStyleSheet' in document) {\n            return cssCargados[url] = document.createStyleSheet(url);\n        }\n        else {\n            var style = $(\"<link rel='stylesheet' href='\" + url + \"' type='text/css' />\");\n            //$(function () {\n            style.appendTo($(\"head\"));\n            //});\n            return cssCargados[url] = style;\n        }\n    }\n    mz.loadCss = loadCss;\n    function fnInfo(fn) {\n        var fnRegex = /^function[^(]*\\(([^)]*)\\)\\s*{([\\s\\S]*)}$/;\n        var matches = fn.toString().match(fnRegex);\n        return {\n            params: matches[1].split(\",\"),\n            body: matches[2]\n        };\n    }\n    mz.fnInfo = fnInfo;\n    function compileFilter(filter) {\n        var filterInfo = fnInfo(filter);\n        var filterBody = filterInfo.body\n            .replace(/return false[;}]/gi, \"{ continue _coreloop; }\")\n            .replace(/return true[;}]/gi, \"{ _retval.push($item$); continue _coreloop; }\")\n            .replace(/return ([^;}]+?)/gi, \"{ if ($1) { _retval.push($item$) }; continue _coreloop; }\");\n        var tpl = [\n            //\"function(_items, _args) { \",\n            \"var _retval = new Array(), _idx = 0; \",\n            \"var $item$, $args$ = _args; \",\n            \"_coreloop: \",\n            \"for (var _i = 0, _il = _items.length; _i < _il; _i++) { \",\n            \"$item$ = _items[_i]; \",\n            \"$filter$; \",\n            \"} \",\n            \"return _retval; \"\n        ].join(\"\");\n        tpl = tpl.replace(/\\$filter\\$/gi, filterBody);\n        tpl = tpl.replace(/\\$item\\$/gi, filterInfo.params[0]);\n        tpl = tpl.replace(/\\$args\\$/gi, filterInfo.params[1]);\n        var fn = new Function(\"_items,_args\", tpl);\n        fn.displayName = fn.name = \"compiledFilter\";\n        return fn;\n    }\n    mz.compileFilter = compileFilter;\n    function getWindowSize() {\n        var winW = 630, winH = 460;\n        if (document.body && document.body.offsetWidth) {\n            winW = document.body.offsetWidth;\n            winH = document.body.offsetHeight;\n        }\n        if (document.compatMode == 'CSS1Compat' && document.documentElement && document.documentElement.offsetWidth) {\n            winW = document.documentElement.offsetWidth;\n            winH = document.documentElement.offsetHeight;\n        }\n        if (window.innerWidth && window.innerHeight) {\n            winW = window.innerWidth;\n            winH = window.innerHeight;\n        }\n        return {\n            width: winW,\n            height: winH\n        };\n    }\n    mz.getWindowSize = getWindowSize;\n    ;\n    var uid = 0;\n    function globalCallback(cb) {\n        uid++;\n        mz[\"__\" + uid] = cb;\n        return \"mz.__\" + uid;\n    }\n    mz.globalCallback = globalCallback;\n    function buscarArgumentoTipo(tipo, argu) {\n        var args = argu || arguments.callee.caller.arguments;\n        if (typeof tipo == 'string') {\n            for (var i in args) {\n                if (typeof args[i] == tipo) {\n                    return args[i];\n                }\n            }\n        }\n        else if (typeof tipo == 'function') {\n            for (var i in args) {\n                if (args[i] instanceof tipo) {\n                    return args[i];\n                }\n            }\n        }\n    }\n    mz.buscarArgumentoTipo = buscarArgumentoTipo;\n})(mz || (mz = {}));\n/// <reference path=\"../mz.ts\" />\nvar mz;\n(function (mz) {\n    var auth;\n    (function (auth) {\n        var jwt;\n        (function (jwt) {\n            function urlBase64Decode(str) {\n                var output = str.replace(/-/g, '+').replace(/_/g, '/');\n                switch (output.length % 4) {\n                    case 0: {\n                        break;\n                    }\n                    case 2: {\n                        output += '==';\n                        break;\n                    }\n                    case 3: {\n                        output += '=';\n                        break;\n                    }\n                    default: {\n                        throw 'Illegal base64url string!';\n                    }\n                }\n                return mz.globalContext.decodeURIComponent(mz.globalContext.escape(mz.globalContext.atob(output))); //polyfill https://github.com/davidchambers/Base64.js\n            }\n            jwt.urlBase64Decode = urlBase64Decode;\n            function decodeToken(token) {\n                var parts = token.split('.');\n                if (parts.length !== 3) {\n                    throw new Error('JWT must have 3 parts');\n                }\n                var decoded = urlBase64Decode(parts[1]);\n                if (!decoded) {\n                    throw new Error('Cannot decode the token');\n                }\n                return JSON.parse(decoded);\n            }\n            jwt.decodeToken = decodeToken;\n            function getTokenExpirationDate(token) {\n                var decoded = decodeToken(token);\n                if (typeof decoded.exp === \"undefined\") {\n                    return null;\n                }\n                var d = new Date(0); // The 0 here is the key, which sets the date to the epoch\n                d.setUTCSeconds(decoded.exp);\n                return d;\n            }\n            jwt.getTokenExpirationDate = getTokenExpirationDate;\n            ;\n            function isTokenExpired(token, offsetSeconds) {\n                var d = getTokenExpirationDate(token);\n                offsetSeconds = offsetSeconds || 0;\n                if (d === null) {\n                    return false;\n                }\n                // Token expired?\n                return !(d.valueOf() > (new Date().valueOf() + (offsetSeconds * 1000)));\n            }\n            jwt.isTokenExpired = isTokenExpired;\n            ;\n        })(jwt = auth.jwt || (auth.jwt = {}));\n    })(auth = mz.auth || (mz.auth = {}));\n})(mz || (mz = {}));\n/// <reference path=\"../mz.ts\" />\nvar mz;\n(function (mz) {\n    var mzLang = mz.mzLang || {};\n    var idioma = mz.globalContext.idioma = mz.globalContext.idioma || {};\n    var erroresEncontradosIdioma = {};\n    var 単_privada = function 単(claveIdioma, defaultValue) {\n        if (!(claveIdioma in idioma)) {\n            if (claveIdioma in mzLang)\n                return idioma[claveIdioma] = mzLang[claveIdioma];\n            if (!(claveIdioma in erroresEncontradosIdioma)) {\n                mz._debug && console.warn('単: ' + claveIdioma, defaultValue);\n                erroresEncontradosIdioma[claveIdioma] = defaultValue || claveIdioma;\n                idioma[claveIdioma] = defaultValue || claveIdioma;\n            }\n        }\n        return idioma[claveIdioma];\n    };\n    単_privada.faltantes = erroresEncontradosIdioma;\n    単_privada.idioma = idioma;\n    mz.単 = mz.globalContext.単 = 単_privada;\n})(mz || (mz = {}));\n/// <reference path=\"../mz.ts\" />\n/// <reference path=\"I18n.ts\" />\n/// <reference path=\"Xr.ts\" />\nDate.prototype.add = function (sInterval, iNum) {\n    var dTemp = this;\n    if (!sInterval || iNum == 0)\n        return dTemp;\n    switch (sInterval.toLowerCase()) {\n        case \"ms\":\n            dTemp.setMilliseconds(dTemp.getMilliseconds() + iNum);\n            break;\n        case \"s\":\n        case \"ss\":\n            dTemp.setSeconds(dTemp.getSeconds() + iNum);\n            break;\n        case \"mi\":\n        case \"m\":\n        case \"mm\":\n            dTemp.setMinutes(dTemp.getMinutes() + iNum);\n            break;\n        case \"h\":\n        case \"hh\":\n            dTemp.setHours(dTemp.getHours() + iNum);\n            break;\n        case \"d\":\n        case \"dd\":\n            dTemp.setDate(dTemp.getDate() + iNum);\n            break;\n        case \"mo\":\n            dTemp.setMonth(dTemp.getMonth() + iNum);\n            break;\n        case \"y\":\n        case \"yyyy\":\n            dTemp.setFullYear(dTemp.getFullYear() + iNum);\n            break;\n    }\n    return dTemp;\n};\nDate.prototype.part = function (sInterval) {\n    var dTemp = this;\n    if (!sInterval)\n        return dTemp;\n    switch (sInterval.toLowerCase()) {\n        case \"ms\":\n            return ('0000' + (dTemp.getMilliseconds().toString())).substr(-4);\n        case \"s\":\n        case \"ss\":\n            return ('00' + (dTemp.getSeconds()).toString()).substr(-2);\n        case \"mi\":\n        case \"m\":\n        case \"mm\":\n            return ('00' + (dTemp.getMinutes()).toString()).substr(-2);\n        case \"h\":\n        case \"hh\":\n            return ('00' + (dTemp.getHours()).toString()).substr(-2);\n        case \"d\":\n        case \"dd\":\n            return ('00' + (dTemp.getDate()).toString()).substr(-2);\n        case \"mo\":\n            return ('00' + (dTemp.getMonth() + 1).toString()).substr(-2);\n        case \"y\":\n        case \"yyyy\":\n            return dTemp.getFullYear().toString();\n    }\n    return sInterval;\n};\nvar mz;\n(function (mz) {\n    var date;\n    (function (date_1) {\n        var regexpISO8601 = /^[0-9]{4}(.{1})[0-9]{1,2}\\1[0-9]{1,2}\\T/;\n        function parseObject(json) {\n            if (typeof json == \"object\") {\n                var out;\n                if (json instanceof Array)\n                    out = [];\n                else\n                    out = {};\n                for (var i in json) {\n                    if (typeof json[i] == \"string\") {\n                        if (json[i].substr(0, 6) === \"/Date(\" && json[i].substr(-2) === \")/\") {\n                            out[i] = parse(json[i]);\n                        }\n                        else if (json[i].substr(10, 1) === \"T\" && (json[i].length < 32) && regexpISO8601.test(json[i])) {\n                            var a = new Date(json[i]);\n                            if (!isNaN(a))\n                                out[i] = a;\n                            else\n                                out[i] = json[i];\n                        }\n                        else {\n                            out[i] = json[i];\n                        }\n                    }\n                    else {\n                        if (mz.isIterable(json[i])) {\n                            out[i] = parseObject(json[i]);\n                        }\n                        else {\n                            out[i] = json[i];\n                        }\n                    }\n                }\n                return out;\n            }\n            return json;\n        }\n        date_1.parseObject = parseObject;\n        /**\n        * An Array of day names starting with Sunday.\n        *\n        * @example dayNames[0]\n        * @result 'Sunday'\n        *\n        * @name dayNames\n        * @type Array\n        * @cat Plugins/Methods/Date\n        */\n        date_1.dayNames = mz.単('#dayNames', 'Domingo|Lunes|Martes|Miercoles|Jueves|Viernes|Sabado').split('|');\n        /**\n        * An Array of abbreviated day names starting with Sun.\n        *\n        * @example abbrDayNames[0]\n        * @result 'Sun'\n        *\n        * @name abbrDayNames\n        * @type Array\n        * @cat Plugins/Methods/Date\n        */\n        date_1.abbrDayNames = mz.単('#abbrDayNames', 'Dom|Lun|Mar|Mie|Jue|Vie|Sab').split('|');\n        /**\n        * An Array of month names starting with Janurary.\n        *\n        * @example monthNames[0]\n        * @result 'January'\n        *\n        * @name monthNames\n        * @type Array\n        * @cat Plugins/Methods/Date\n        */\n        date_1.monthNames = mz.単('#monthNames', 'Enero|Febrero|Marzo|Abril|Mayo|Junio|Julio|Agosto|Septiembre|Octubre|Noviembre|Diciembre').split('|');\n        /**\n        * An Array of abbreviated month names starting with Jan.\n        *\n        * @example abbrMonthNames[0]\n        * @result 'Jan'\n        *\n        * @name monthNames\n        * @type Array\n        * @cat Plugins/Methods/Date\n        */\n        date_1.abbrMonthNames = mz.単('#abbrMonthNames', 'Ene|Feb|Mar|Abr|May|Jun|Jul|Ago|Sep|Oct|Nov|Dic').split('|');\n        /**\n        * The first day of the week for this locale.\n        *\n        * @name firstDayOfWeek\n        * @type Number\n        * @cat Plugins/Methods/Date\n        * @author Kelvin Luck\n        */\n        date_1.firstDayOfWeek = 0;\n        /**\n        * The format that string dates should be represented as (e.g. 'dd/mm/yyyy' for UK, 'mm/dd/yyyy' for US, 'yyyy-mm-dd' for Unicode etc).\n        *\n        * @name format\n        * @type String\n        * @cat Plugins/Methods/Date\n        * @author Kelvin Luck\n        */\n        date_1.format = mz.単('#DateFormat', 'dd/mm/yyyy');\n        //Date.format = 'mm/dd/yyyy';\n        //Date.format = 'yyyy-mm-dd';\n        //Date.format = 'dd mmm yy';\n        /**\n        * The first two numbers in the century to be used when decoding a two digit year. Since a two digit year is ambiguous (and date.setYear\n        * only works with numbers < 99 and so doesn't allow you to set years after 2000) we need to use this to disambiguate the two digit year codes.\n        *\n        * @name format\n        * @type String\n        * @cat Plugins/Methods/Date\n        * @author Kelvin Luck\n        */\n        date_1.fullYearStart = '20';\n        /**\n        * Adds a given method under the given name\n        * to the Date prototype if it doesn't\n        * currently exist.\n        *\n        * @private\n        */\n        function addFeature(name, method) {\n            if (!Date.prototype[name]) {\n                Date.prototype[name] = method;\n            }\n        }\n        ;\n        /**\n        * Checks if the year is a leap year.\n        *\n        * @example var dtm = new Date(\"01/12/2008\");\n        * dtm.isLeapYear();\n        * @result true\n        *\n        * @name isLeapYear\n        * @type Boolean\n        * @cat Plugins/Methods/Date\n        */\n        addFeature(\"isLeapYear\", function () {\n            var y = this.getFullYear();\n            return (y % 4 == 0 && y % 100 != 0) || y % 400 == 0;\n        });\n        /**\n        * Checks if the day is a weekend day (Sat or Sun).\n        *\n        * @example var dtm = new Date(\"01/12/2008\");\n        * dtm.isWeekend();\n        * @result false\n        *\n        * @name isWeekend\n        * @type Boolean\n        * @cat Plugins/Methods/Date\n        */\n        addFeature(\"isWeekend\", function () {\n            return this.getDay() == 0 || this.getDay() == 6;\n        });\n        /**\n        * Check if the day is a day of the week (Mon-Fri)\n        *\n        * @example var dtm = new Date(\"01/12/2008\");\n        * dtm.isWeekDay();\n        * @result false\n        *\n        * @name isWeekDay\n        * @type Boolean\n        * @cat Plugins/Methods/Date\n        */\n        addFeature(\"isWeekDay\", function () {\n            return !this.isWeekend();\n        });\n        /**\n        * Gets the number of days in the month.\n        *\n        * @example var dtm = new Date(\"01/12/2008\");\n        * dtm.getDaysInMonth();\n        * @result 31\n        *\n        * @name getDaysInMonth\n        * @type Number\n        * @cat Plugins/Methods/Date\n        */\n        addFeature(\"getDaysInMonth\", function () {\n            return [31, (this.isLeapYear() ? 29 : 28), 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][this.getMonth()];\n        });\n        /**\n        * Gets the name of the day.\n        *\n        * @example var dtm = new Date(\"01/12/2008\");\n        * dtm.getDayName();\n        * @result 'Saturday'\n        *\n        * @example var dtm = new Date(\"01/12/2008\");\n        * dtm.getDayName(true);\n        * @result 'Sat'\n        *\n        * @param abbreviated Boolean When set to true the name will be abbreviated.\n        * @name getDayName\n        * @type String\n        * @cat Plugins/Methods/Date\n        */\n        addFeature(\"getDayName\", function (abbreviated) {\n            return abbreviated ? mz.date.abbrDayNames[this.getDay()] : mz.date.dayNames[this.getDay()];\n        });\n        /**\n        * Gets the name of the month.\n        *\n        * @example var dtm = new Date(\"01/12/2008\");\n        * dtm.getMonthName();\n        * @result 'Janurary'\n        *\n        * @example var dtm = new Date(\"01/12/2008\");\n        * dtm.getMonthName(true);\n        * @result 'Jan'\n        *\n        * @param abbreviated Boolean When set to true the name will be abbreviated.\n        * @name getDayName\n        * @type String\n        * @cat Plugins/Methods/Date\n        */\n        addFeature(\"getMonthName\", function (abbreviated) {\n            return abbreviated ? mz.date.abbrMonthNames[this.getMonth()] : mz.date.monthNames[this.getMonth()];\n        });\n        /**\n        * Get the number of the day of the year.\n        *\n        * @example var dtm = new Date(\"01/12/2008\");\n        * dtm.getDayOfYear();\n        * @result 11\n        *\n        * @name getDayOfYear\n        * @type Number\n        * @cat Plugins/Methods/Date\n        */\n        addFeature(\"getDayOfYear\", function () {\n            var tmpdtm = new Date(\"1/1/\" + this.getFullYear());\n            return Math.floor((this.getTime() - tmpdtm.getTime()) / 86400000);\n        });\n        /**\n        * Get the number of the week of the year.\n        *\n        * @example var dtm = new Date(\"01/12/2008\");\n        * dtm.getWeekOfYear();\n        * @result 2\n        *\n        * @name getWeekOfYear\n        * @type Number\n        * @cat Plugins/Methods/Date\n        */\n        addFeature(\"getWeekOfYear\", function () {\n            return Math.ceil(this.getDayOfYear() / 7);\n        });\n        /**\n        * Set the day of the year.\n        *\n        * @example var dtm = new Date(\"01/12/2008\");\n        * dtm.setDayOfYear(1);\n        * dtm.toString();\n        * @result 'Tue Jan 01 2008 00:00:00'\n        *\n        * @name setDayOfYear\n        * @type Date\n        * @cat Plugins/Methods/Date\n        */\n        addFeature(\"setDayOfYear\", function (day) {\n            this.setMonth(0);\n            this.setDate(day);\n            return this;\n        });\n        /**\n        * Add a number of years to the date object.\n        *\n        * @example var dtm = new Date(\"01/12/2008\");\n        * dtm.addYears(1);\n        * dtm.toString();\n        * @result 'Mon Jan 12 2009 00:00:00'\n        *\n        * @name addYears\n        * @type Date\n        * @cat Plugins/Methods/Date\n        */\n        addFeature(\"addYears\", function (num) {\n            this.setFullYear(this.getFullYear() + num);\n            return this;\n        });\n        /**\n        * Add a number of months to the date object.\n        *\n        * @example var dtm = new Date(\"01/12/2008\");\n        * dtm.addMonths(1);\n        * dtm.toString();\n        * @result 'Tue Feb 12 2008 00:00:00'\n        *\n        * @name addMonths\n        * @type Date\n        * @cat Plugins/Methods/Date\n        */\n        addFeature(\"addMonths\", function (num) {\n            var tmpdtm = this.getDate();\n            this.setMonth(this.getMonth() + num);\n            if (tmpdtm > this.getDate())\n                this.addDays(-this.getDate());\n            return this;\n        });\n        /**\n        * Add a number of days to the date object.\n        *\n        * @example var dtm = new Date(\"01/12/2008\");\n        * dtm.addDays(1);\n        * dtm.toString();\n        * @result 'Sun Jan 13 2008 00:00:00'\n        *\n        * @name addDays\n        * @type Date\n        * @cat Plugins/Methods/Date\n        */\n        addFeature(\"addDays\", function (num) {\n            //this.setDate(this.getDate() + num);\n            this.setTime(this.getTime() + (num * 86400000));\n            return this;\n        });\n        /**\n        * Add a number of hours to the date object.\n        *\n        * @example var dtm = new Date(\"01/12/2008\");\n        * dtm.addHours(24);\n        * dtm.toString();\n        * @result 'Sun Jan 13 2008 00:00:00'\n        *\n        * @name addHours\n        * @type Date\n        * @cat Plugins/Methods/Date\n        */\n        addFeature(\"addHours\", function (num) {\n            this.setHours(this.getHours() + num);\n            return this;\n        });\n        /**\n        * Add a number of minutes to the date object.\n        *\n        * @example var dtm = new Date(\"01/12/2008\");\n        * dtm.addMinutes(60);\n        * dtm.toString();\n        * @result 'Sat Jan 12 2008 01:00:00'\n        *\n        * @name addMinutes\n        * @type Date\n        * @cat Plugins/Methods/Date\n        */\n        addFeature(\"addMinutes\", function (num) {\n            this.setMinutes(this.getMinutes() + num);\n            return this;\n        });\n        /**\n        * Add a number of seconds to the date object.\n        *\n        * @example var dtm = new Date(\"01/12/2008\");\n        * dtm.addSeconds(60);\n        * dtm.toString();\n        * @result 'Sat Jan 12 2008 00:01:00'\n        *\n        * @name addSeconds\n        * @type Date\n        * @cat Plugins/Methods/Date\n        */\n        addFeature(\"addSeconds\", function (num) {\n            this.setSeconds(this.getSeconds() + num);\n            return this;\n        });\n        /**\n        * Sets the time component of this Date to zero for cleaner, easier comparison of dates where time is not relevant.\n        *\n        * @example var dtm = new Date();\n        * dtm.zeroTime();\n        * dtm.toString();\n        * @result 'Sat Jan 12 2008 00:01:00'\n        *\n        * @name zeroTime\n        * @type Date\n        * @cat Plugins/Methods/Date\n        * @author Kelvin Luck\n        */\n        addFeature(\"zeroTime\", function () {\n            this.setMilliseconds(0);\n            this.setSeconds(0);\n            this.setMinutes(0);\n            this.setHours(0);\n            return this;\n        });\n        /**\n        * Returns a string representation of the date object according to Date.format.\n        * (Date.toString may be used in other places so I purposefully didn't overwrite it)\n        *\n        * @example var dtm = new Date(\"01/12/2008\");\n        * dtm.asString();\n        * @result '12/01/2008' // (where Date.format == 'dd/mm/yyyy'\n        *\n        * @name asString\n        * @type Date\n        * @cat Plugins/Methods/Date\n        * @author Kelvin Luck\n        */\n        addFeature(\"asString\", function (format) {\n            var r = format || mz.date.format;\n            if (r.split('mm').length > 1) {\n                r = r.split('mmmm').join(this.getMonthName(false))\n                    .split('mmm').join(this.getMonthName(true))\n                    .split('mm').join(_zeroPad(this.getMonth() + 1));\n            }\n            else {\n                r = r.split('m').join(this.getMonth() + 1);\n            }\n            r = r.split('yyyy').join(this.getFullYear())\n                .split('yy').join((this.getFullYear() + '').substring(2))\n                .split('dd').join(_zeroPad(this.getDate()))\n                .split('d').join(this.getDate());\n            return r;\n        });\n        /**\n        * Returns a new date object created from the passed String according to Date.format or false if the attempt to do this results in an invalid date object\n        * (We can't simple use Date.parse as it's not aware of locale and I chose not to overwrite it incase it's functionality is being relied on elsewhere)\n        *\n        * @example var dtm = Date.fromString(\"12/01/2008\");\n        * dtm.toString();\n        * @result 'Sat Jan 12 2008 00:00:00' // (where Date.format == 'dd/mm/yyyy'\n        *\n        * @name fromString\n        * @type Date\n        * @cat Plugins/Methods/Date\n        * @author Kelvin Luck\n        */\n        function fromString(s, f) {\n            f = f || date_1.format;\n            f.replace('mo', 'mm');\n            var d = new Date('01/01/1970');\n            if (s == '')\n                return d;\n            s = s.toLowerCase();\n            var matcher = '';\n            var order = [];\n            var r = /(dd?d?|mm?m?|yy?yy?)+([^(m|d|y)])?/g;\n            var results;\n            while ((results = r.exec(f)) != null) {\n                switch (results[1]) {\n                    case 'd':\n                    case 'dd':\n                    case 'm':\n                    case 'mm':\n                    case 'yy':\n                    case 'yyyy':\n                        matcher += '(\\\\d+\\\\d?\\\\d?\\\\d?)+';\n                        order.push(results[1].substr(0, 1));\n                        break;\n                    case 'mmm':\n                        matcher += '([a-z]{3})';\n                        order.push('M');\n                        break;\n                }\n                if (results[2]) {\n                    matcher += results[2];\n                }\n            }\n            var dm = new RegExp(matcher);\n            var result = s.match(dm);\n            if (!result)\n                return d;\n            for (var i = 0; i < order.length; i++) {\n                var res = result[i + 1];\n                switch (order[i]) {\n                    case 'd':\n                        d.setDate(res);\n                        break;\n                    case 'm':\n                        d.setMonth(Number(res) - 1);\n                        break;\n                    case 'M':\n                        for (var j = 0; j < date_1.abbrMonthNames.length; j++) {\n                            if (date_1.abbrMonthNames[j].toLowerCase() == res)\n                                break;\n                        }\n                        d.setMonth(j);\n                        break;\n                    case 'y':\n                        d.setFullYear(res);\n                        break;\n                }\n            }\n            return d;\n        }\n        date_1.fromString = fromString;\n        ;\n        // utility method\n        var _zeroPad = function (num) {\n            var s = '0' + num;\n            return s.substring(s.length - 2);\n            //return ('0'+num).substring(-2); // doesn't work on IE :(\n        };\n        date_1._offsetServer = 0;\n        function newSyncro() {\n            var date = new Date();\n            date.setTime(date.getTime() + date_1._offsetServer);\n            return date;\n        }\n        date_1.newSyncro = newSyncro;\n        function sync(url) {\n            mz.xr.get(url).then(function (x) {\n                var xhr = x.xhr;\n                var date = xhr.getResponseHeader(\"Date\") || xhr.getResponseHeader(\"date\");\n                var serverTimeMillisGMT = Date.parse(new Date(Date.parse(date)).toUTCString());\n                var localMillisUTC = Date.parse(new Date().toUTCString());\n                date_1._offsetServer = serverTimeMillisGMT - localMillisUTC;\n                if (mz._debug) {\n                    console.log('Timer sincronizados con el servidor: offset=' + date_1._offsetServer);\n                    console.log('Timer local:', new Date());\n                    console.log('Timer remoto:', newSyncro());\n                }\n            });\n        }\n        date_1.sync = sync;\n        function parse(date, format) {\n            function parseJsonDate(d) {\n                if (!d)\n                    return null;\n                if (d instanceof Date)\n                    return new Date(d);\n                //return eval(\"new \" + d.substr(1).replace(\"/\",\"\"));\n                if (d.indexOf(\"/Date(\") == 0 && d.lastIndexOf(\"/\") == (d.length - 1))\n                    return new Date(mz.intval(d.substr(6)));\n                return new Date(d);\n            }\n            function convertirAFechaHora(s) {\n                if (s instanceof Date)\n                    return s;\n                var date = null;\n                if (s.match(/^\\d{4}([./-])\\d{1,2}\\1\\d{1,2}[ ]\\d{1,2}:\\d{1,2}/)) {\n                    date = new Date(s);\n                }\n                else if (format && s.match(/^\\d{2}([./-])\\d{2}\\1\\d{4}[ ]\\d{2}:\\d{2}/) && format.startsWith('dd')) {\n                    var mes = s.substring(3, 5);\n                    var dia = s.substring(0, 2);\n                    var anio = s.substring(6, 10);\n                    if (mes > 12) {\n                        var a = dia;\n                        dia = mes;\n                        mes = a;\n                    }\n                    var hora = s.substring(11, 13);\n                    var min = s.substring(14, 16);\n                    date = new Date(mes + \"/\" + dia + \"/\" + anio + \" \" + hora + \":\" + min);\n                }\n                else if (s.match(/^\\d{2}([./-])\\d{2}\\1\\d{4}[ ]\\d{2}:\\d{2}/)) {\n                    var mes = s.substring(3, 5);\n                    var dia = s.substring(0, 2);\n                    var anio = s.substring(6, 10);\n                    if (mes > 12) {\n                        var a = dia;\n                        dia = mes;\n                        mes = a;\n                    }\n                    var hora = s.substring(11, 13);\n                    var min = s.substring(14, 16);\n                    date = new Date(mes + \"/\" + dia + \"/\" + anio + \" \" + hora + \":\" + min);\n                }\n                else {\n                    var tmp = new Date(date);\n                    if (!isNaN(tmp))\n                        date = tmp;\n                }\n                return date;\n            }\n            function convertirAFecha(s) {\n                if (s instanceof Date)\n                    return s;\n                var date = null;\n                if (s.match(/^\\d{4}([./-])\\d{1,2}\\1\\d{1,2}/)) {\n                    date = new Date(s);\n                }\n                else if (s.match(/^\\d{2}([./-])\\d{2}\\1\\d{4}/) && format && (format.startsWith('mm') || format.startsWith('mo'))) {\n                    var dia = s.substring(3, 5);\n                    var mes = s.substring(0, 2);\n                    var anio = s.substring(6, 10);\n                    if (mes > 12) {\n                        var a = dia;\n                        dia = mes;\n                        mes = a;\n                    }\n                    date = new Date(anio, mes, dia);\n                }\n                else if (s.match(/^\\d{2}([./-])\\d{2}\\1\\d{4}/)) {\n                    var mes = s.substring(3, 5);\n                    var dia = s.substring(0, 2);\n                    var anio = s.substring(6, 10);\n                    if (mes > 12) {\n                        var a = dia;\n                        dia = mes;\n                        mes = a;\n                    }\n                    date = new Date(anio, mes, dia);\n                }\n                else {\n                    var tmp = new Date(date);\n                    if (!isNaN(tmp))\n                        date = tmp;\n                }\n                return date;\n            }\n            if (date == null)\n                return null;\n            if (date instanceof Date)\n                return date;\n            if (typeof date === 'string') {\n                date = mz.trim(date);\n                if (date.indexOf(\"/Date(\") == 0 && date.lastIndexOf(\"/\") == (date.length - 1)) {\n                    return parseJsonDate(date);\n                }\n                else if (date.indexOf(\"T\") == 10 && date.lastIndexOf(\"Z\") == (date.length - 1)) {\n                    var a = new Date(date);\n                    if (!isNaN(a))\n                        return a;\n                }\n                else if (date.indexOf(\"UTC\") != -1) {\n                    date = date.replace(/-/, \"/\").replace(/-/, \"/\");\n                    date = date.replace(/T/, \" \").replace(/Z/, \" UTC\");\n                    date = date.replace(/([\\+-]\\d\\d)\\:?(\\d\\d)/, \" $1$2\"); // -04:00 -> -0400\n                    return new Date(date);\n                }\n                else if (date.indexOf(\"/\") != -1) {\n                    if (date.indexOf(\":\") != -1) {\n                        return convertirAFechaHora(date);\n                    }\n                    return convertirAFecha(date);\n                }\n                else {\n                    return new Date(date);\n                }\n            }\n            else if (typeof date == \"number\") {\n                return new Date(date);\n            }\n            return date;\n        }\n        date_1.parse = parse;\n        function add(date, intervalo, numero) {\n            return this.parse(date).add(intervalo, numero);\n        }\n        date_1.add = add;\n        function fmt_date(obj_date) {\n            if (obj_date === null)\n                return '';\n            if (!(obj_date instanceof Date)) {\n                obj_date = this.parse(obj_date);\n            }\n            if (!(obj_date instanceof Date)) {\n                return '';\n            }\n            if ('asString' in obj_date)\n                return obj_date.asString();\n            var d = obj_date.getDate();\n            var m = obj_date.getMonth() + 1;\n            var a = obj_date.getFullYear();\n            if (m < 10)\n                m = \"0\" + m.toString();\n            if (d < 10)\n                d = \"0\" + d.toString();\n            return a.toString() + '/' + m.toString() + '/' + d.toString();\n        }\n        date_1.fmt_date = fmt_date;\n        function fmt_time(obj_date, segundos) {\n            if (obj_date === null)\n                return '';\n            if (!(obj_date instanceof Date)) {\n                obj_date = this.parse(obj_date);\n            }\n            if (!(obj_date instanceof Date)) {\n                return '';\n            }\n            var hr = obj_date.getHours();\n            var min = obj_date.getMinutes();\n            var seg = obj_date.getSeconds();\n            if (min < 10)\n                min = \"0\" + min.toString();\n            if (hr < 10)\n                hr = \"0\" + hr.toString();\n            if (seg < 10)\n                seg = \"0\" + seg.toString();\n            segundos = segundos || false;\n            return hr.toString() + ':' + min.toString() + (segundos != false ? \":\" + seg.toString() : '');\n        }\n        date_1.fmt_time = fmt_time;\n        function fmt_date_time(obj_date, segundos) {\n            if (obj_date === null)\n                return '';\n            segundos = segundos || false;\n            return this.fmt_date(obj_date) + ' ' + this.fmt_time(obj_date, segundos);\n        }\n        date_1.fmt_date_time = fmt_date_time;\n        function toString(date, fmt) {\n            if (date && date instanceof Date) {\n                return (fmt || 'yyyy/mo/dd hh:mm').replace(/(\\w{4}|\\w{2}|\\w{1})/g, function (a) {\n                    return date.part(a);\n                });\n            }\n            else {\n                return '';\n            }\n        }\n        date_1.toString = toString;\n        function fmt_duracion(segundos, segs) {\n            segundos = Number(segundos || 0);\n            var negativo = segundos < 0;\n            if (negativo)\n                segundos = -segundos;\n            var h = Math.floor(segundos / 3600);\n            var m = Math.floor(segundos / 60 - h * 60);\n            var s = Math.floor(segundos % 60);\n            if (m < 10)\n                m = \"0\" + m.toString();\n            if (s < 10)\n                s = \"0\" + s.toString();\n            if (h < 10)\n                h = \"0\" + h.toString();\n            return (negativo ? '-' : '') + (segs ? \"{0}:{1}:{2}\" : \"{0}:{1}\").format(h, m, s);\n        }\n        date_1.fmt_duracion = fmt_duracion;\n        function parseDuracion(val) {\n            if (val == null || val instanceof Number)\n                return val;\n            if (typeof val == 'string' && val.indexOf(':') != -1) {\n                var s = val.split(':');\n                var hr = mz.intval(s[0]);\n                return (hr < 0 ? -1 : 1) * Math.abs(hr) * 3600 + mz.intval(s[1]) * 60 + (s.length == 3 ? mz.intval(s[2]) : 0);\n            }\n            return mz.intval(val);\n        }\n        date_1.parseDuracion = parseDuracion;\n    })(date = mz.date || (mz.date = {}));\n})(mz || (mz = {}));\n;\n/// <reference path=\"../mz.ts\" />\n/// <reference path=\"Date.ts\" />\nvar mz;\n(function (mz) {\n    var promise;\n    (function (promise) {\n        function wait(time) {\n            return function (data) {\n                return new Promise(function (ok) { return setTimeout(function () { return ok(data); }, time); });\n            };\n        }\n        promise.wait = wait;\n        ;\n        function yield(data) {\n            return new Promise(function (ok) { return setImmediate(function () { return ok(data); }); });\n        }\n        promise.yield = yield;\n        ;\n        function nextFrame(data) {\n            return new Promise(function (ok) { return requestAnimationFrame(function () { return ok(data); }); });\n        }\n        promise.nextFrame = nextFrame;\n        ;\n        function parseStringDates(data) {\n            var tipo = typeof data;\n            if (!(tipo == \"boolean\" || tipo == \"number\" || tipo == \"string\"))\n                return Promise.resolve(mz.date.parseObject(data));\n            return Promise.resolve(data);\n        }\n        promise.parseStringDates = parseStringDates;\n        ;\n        if ('Response' in mz.globalContext && 'fetch' in mz.globalContext) {\n            promise.parseJSON = function (data) {\n                return (new mz.globalContext.Response(data)).json();\n            };\n        }\n        else {\n            promise.parseJSON = function (data) {\n                var result;\n                try {\n                    result = JSON.parse(data);\n                }\n                catch (error) {\n                    return Promise.reject(error);\n                }\n                return Promise.resolve(result);\n            };\n        }\n    })(promise = mz.promise || (mz.promise = {}));\n})(mz || (mz = {}));\n/// <reference path=\"../mz.ts\" />\n/// <reference path=\"Promise.ts\" />\n/// <reference path=\"../AUTH/OAuth2.ts\" />\nvar mz;\n(function (mz) {\n    var res = function res(xhr) {\n        return {\n            status: xhr.status,\n            response: xhr.response,\n            xhr: xhr,\n            url: '',\n            data: null\n        };\n    };\n    var getParams = function getParams(data, url) {\n        var ret = [];\n        for (var k in data) {\n            ret.push('' + encodeURIComponent(k) + '=' + encodeURIComponent(data[k]));\n        }\n        if (url && url.split('?').length > 1)\n            ret.push(url.split('?')[1]);\n        return ret.join('&');\n    };\n    var promise = function promise(args, fn) {\n        return (args && args.promise ? args.promise : xr.defaults.promise)(fn);\n    };\n    /**\n      * xr (c) James Cleveland 2015\n      * URL: https://github.com/radiosilence/xr\n      * License: BSD\n      */\n    function xr(args) {\n        if (!args.skipAuthorization && !args.promise) {\n            mz.oauth2.applyAuthorizationHeaders(args);\n        }\n        return promise(args, function (resolve, reject) {\n            var opts = mz.copy({}, xr.defaults);\n            // avoid copying headers to default's headers object\n            opts.headers = mz.copy(opts.headers);\n            mz.copy(opts, args);\n            var xhr = opts.xmlHttpRequest();\n            var originalURL = opts.url;\n            var fileProtocol = false;\n            if (opts.url) {\n                opts.url = mz.getPath(opts.url);\n                fileProtocol = xr.urlResolve(opts.url).protocol == \"file\";\n            }\n            var data = typeof opts.data === 'object' && !opts.raw ? opts.dump.call(opts, opts.data) : opts.data;\n            if (opts.url && opts.url.contains(\"//\") && opts.withCredentials == null) {\n                xhr.withCredentials = true;\n            }\n            else if (opts.withCredentials) {\n                xhr.withCredentials = opts.withCredentials;\n            }\n            xhr.open(opts.method, opts.params ? '' + opts.url.split('?')[0] + '?' + getParams(opts.params) : opts.url, true);\n            xhr.addEventListener(xr.Events.READY_STATE_CHANGE, function (e) {\n                if (xhr.readyState == 4) {\n                    try {\n                        if (xhr.status >= 500 && xhr.getResponseHeader(\"jsonerror\") == \"true\") {\n                            var json = JSON.parse(xhr.responseText);\n                            console.error ? console.error('JsonError: ' + json.Message, json) : console.log('JsonError: ' + json.Message, json);\n                        }\n                    }\n                    catch (e) {\n                    }\n                    var resultado = mz.copy(res(xhr), {\n                        data: xhr.response ? !opts.raw ? opts.load(xhr.response, xhr) : xhr.response : null,\n                        url: originalURL\n                    });\n                    if (resultado.data && resultado.data instanceof Promise) {\n                        resultado.data.then(function (ok) {\n                            resultado.data = ok;\n                            return (xhr.status == 0 && fileProtocol || xhr.status >= 200 && xhr.status < 300) ? resolve(resultado, false) : reject(resultado);\n                        }, function (err) {\n                            resultado.data = err;\n                            return (xhr.status == 0 && fileProtocol || xhr.status >= 200 && xhr.status < 300) ? resolve(resultado, false) : reject(resultado);\n                        });\n                    }\n                    else {\n                        return (xhr.status == 0 && fileProtocol || xhr.status >= 200 && xhr.status < 300) ? resolve(resultado, false) : reject(resultado);\n                    }\n                }\n            });\n            xhr.addEventListener(xr.Events.ABORT, function () {\n                return reject(res(xhr));\n            });\n            xhr.addEventListener(xr.Events.ERROR, function () {\n                var resultado = res(xhr);\n                if (xhr.response) {\n                    try {\n                        mz.copy(resultado, {\n                            data: xhr.response ? !opts.raw ? opts.load(xhr.response, xhr) : xhr.response : null,\n                            url: originalURL\n                        });\n                    }\n                    catch (e) { }\n                }\n                return reject(resultado);\n            });\n            xhr.addEventListener(xr.Events.TIMEOUT, function () {\n                return reject(res(xhr));\n            });\n            for (var header in opts.headers) {\n                xhr.setRequestHeader(header, opts.headers[header]);\n            }\n            for (var _event in opts.events) {\n                xhr.addEventListener(_event, opts.events[_event].bind(null, xhr), false);\n            }\n            data !== undefined ? xhr.send(data) : xhr.send();\n        });\n    }\n    mz.xr = xr;\n    ;\n})(mz || (mz = {}));\nvar mz;\n(function (mz) {\n    var xr;\n    (function (xr) {\n        xr.Methods = {\n            GET: 'GET',\n            POST: 'POST',\n            PUT: 'PUT',\n            DELETE: 'DELETE',\n            PATCH: 'PATCH',\n            OPTIONS: 'OPTIONS'\n        };\n        xr.Events = {\n            READY_STATE_CHANGE: 'readystatechange',\n            LOAD_START: 'loadstart',\n            PROGRESS: 'progress',\n            ABORT: 'abort',\n            ERROR: 'error',\n            LOAD: 'load',\n            TIMEOUT: 'timeout',\n            LOAD_END: 'loadend'\n        };\n        var readJSONFromString = function (x, xhr) {\n            if (typeof x == \"string\") {\n                return mz.promise.parseJSON(x).then(function (x) {\n                    if ('d' in x)\n                        return x.d;\n                    return x;\n                }).then(mz.promise.parseStringDates);\n            }\n            return x;\n        };\n        var formatters;\n        (function (formatters) {\n            formatters.json = function (x) {\n                if (x instanceof FormData) {\n                    if ('Content-Type' in this.headers)\n                        delete this.headers['Content-Type'];\n                    return x;\n                }\n                this.headers['Content-Type'] = 'application/json';\n                return JSON.stringify(x);\n            };\n            formatters.raw = function (x) { return x.toString(); };\n            formatters.urlEncoded = function (obj) {\n                this.headers['Content-Type'] = 'application/x-www-form-urlencoded';\n                var t = [];\n                for (var i in obj) {\n                    if (obj.hasOwnProperty(i) && typeof obj[i] != 'undefined') {\n                        if (typeof obj[i] == \"object\" && obj[i] instanceof Date && !isNaN(obj[i]))\n                            t.push(encodeURIComponent(i) + '=' + encodeURIComponent(obj[i].toISOString()));\n                        else\n                            t.push(encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]));\n                    }\n                }\n                return t.join(\"&\");\n            };\n            formatters.multipart = function (obj) {\n                if ('Content-Type' in this.headers)\n                    delete this.headers['Content-Type'];\n                var t = new FormData();\n                for (var i in obj)\n                    if (obj.hasOwnProperty(i))\n                        t.append(i, obj[obj]);\n                return t;\n            };\n        })(formatters = xr.formatters || (xr.formatters = {}));\n        xr.defaults = {\n            method: xr.Methods.GET,\n            data: undefined,\n            headers: {\n                'Accept': 'application/json'\n            },\n            dump: formatters.json,\n            load: readJSONFromString,\n            xmlHttpRequest: function xmlHttpRequest() {\n                return new XMLHttpRequest();\n            },\n            promise: function promise(fn) {\n                return new Promise(fn);\n            },\n            params: {},\n            url: null,\n            raw: false,\n            events: {},\n            withCredentials: null\n        };\n        var urlParsingNode = document.createElement(\"a\");\n        var originUrl = urlResolve(location.href);\n        /**\n         *\n         * Implementation Notes for non-IE browsers\n         * ----------------------------------------\n         * Assigning a URL to the href property of an anchor DOM node, even one attached to the DOM,\n         * results both in the normalizing and parsing of the URL.  Normalizing means that a relative\n         * URL will be resolved into an absolute URL in the context of the application document.\n         * Parsing means that the anchor node's host, hostname, protocol, port, pathname and related\n         * properties are all populated to reflect the normalized URL.  This approach has wide\n         * compatibility - Safari 1+, Mozilla 1+, Opera 7+,e etc.  See\n         * http://www.aptana.com/reference/html/api/HTMLAnchorElement.html\n         *\n         * Implementation Notes for IE\n         * ---------------------------\n         * IE <= 10 normalizes the URL when assigned to the anchor node similar to the other\n         * browsers.  However, the parsed components will not be set if the URL assigned did not specify\n         * them.  (e.g. if you assign a.href = \"foo\", then a.protocol, a.host, etc. will be empty.)  We\n         * work around that by performing the parsing in a 2nd step by taking a previously normalized\n         * URL (e.g. by assigning to a.href) and assigning it a.href again.  This correctly populates the\n         * properties such as protocol, hostname, port, etc.\n         *\n         * References:\n         *   http://developer.mozilla.org/en-US/docs/Web/API/HTMLAnchorElement\n         *   http://www.aptana.com/reference/html/api/HTMLAnchorElement.html\n         *   http://url.spec.whatwg.org/#urlutils\n         *   https://github.com/angular/angular.js/pull/2902\n         *   http://james.padolsey.com/javascript/parsing-urls-with-the-dom/\n         *\n         * @kind function\n         * @param {string} url The URL to be parsed.\n         * @description Normalizes and parses a URL.\n         * @returns {object} Returns the normalized URL as a dictionary.\n         *\n         *   | member name   | Description    |\n         *   |---------------|----------------|\n         *   | href          | A normalized version of the provided URL if it was not an absolute URL |\n         *   | protocol      | The protocol including the trailing colon                              |\n         *   | host          | The host and port (if the port is non-default) of the normalizedUrl    |\n         *   | search        | The search params, minus the question mark                             |\n         *   | hash          | The hash string, minus the hash symbol\n         *   | hostname      | The hostname\n         *   | port          | The port, without \":\"\n         *   | pathname      | The pathname, beginning with \"/\"\n         *\n         */\n        function urlResolve(url) {\n            var href = url;\n            //if (msie) {\n            // Normalize before parse.  Refer Implementation Notes on why this is\n            // done in two steps on IE.\n            urlParsingNode.setAttribute(\"href\", href);\n            href = urlParsingNode.href;\n            //}\n            urlParsingNode.setAttribute('href', href);\n            // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n            return {\n                href: urlParsingNode.href,\n                protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n                host: urlParsingNode.host,\n                search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n                hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n                hostname: urlParsingNode.hostname,\n                port: urlParsingNode.port,\n                pathname: (urlParsingNode.pathname.charAt(0) === '/')\n                    ? urlParsingNode.pathname\n                    : '/' + urlParsingNode.pathname\n            };\n        }\n        xr.urlResolve = urlResolve;\n        /**\n         * Parse a request URL and determine whether this is a same-origin request as the application document.\n         *\n         * @param {string|object} requestUrl The url of the request as a string that will be resolved\n         * or a parsed URL object.\n         * @returns {boolean} Whether the request is for the same origin as the application document.\n         */\n        function urlIsSameOrigin(requestUrl) {\n            var parsed = (typeof requestUrl == \"string\") ? urlResolve(requestUrl) : requestUrl;\n            return (parsed.protocol === originUrl.protocol &&\n                parsed.host === originUrl.host);\n        }\n        xr.urlIsSameOrigin = urlIsSameOrigin;\n        /**\n         * var moviles = 'Los Moviles/Autos'\n         * mz.xr.urlEncode `@api/v1/${moviles}/1` -> '@api/v1/Los%20Moviles%2FAutos/1'\n         */\n        function urlEncode(literalSections) {\n            var substs = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                substs[_i - 1] = arguments[_i];\n            }\n            var raw = literalSections.raw;\n            var result = '';\n            substs.forEach(function (subst, i) {\n                var lit = raw[i];\n                if (Array.isArray(subst)) {\n                    subst = subst.join('');\n                }\n                if (!lit.endsWith('$')) {\n                    subst = encodeURIComponent(subst);\n                }\n                else {\n                    lit = lit.slice(0, -1);\n                }\n                result += lit;\n                result += subst;\n            });\n            result += raw[raw.length - 1]; // (A)\n            return result;\n        }\n        xr.urlEncode = urlEncode;\n        xr.getAbsoluteUrl = (function () {\n            var a;\n            return function (url) {\n                if (!a)\n                    a = document.createElement('a');\n                a.href = mz.getPath(url);\n                return a.href;\n            };\n        })();\n        function get(url, params, args) {\n            return xr(mz.copy({ url: url, method: xr.Methods.GET, params: params }, args));\n        }\n        xr.get = get;\n        ;\n        function put(url, data, args) {\n            return xr(mz.copy({ url: url, method: xr.Methods.PUT, data: data || {} }, args));\n        }\n        xr.put = put;\n        ;\n        function post(url, data, args) {\n            return xr(mz.copy({ url: url, method: xr.Methods.POST, data: data || {} }, args));\n        }\n        xr.post = post;\n        ;\n        function patch(url, data, args) {\n            return xr(mz.copy({ url: url, method: xr.Methods.PATCH, data: data || {} }, args));\n        }\n        xr.patch = patch;\n        ;\n        function del(url, args) {\n            return xr(mz.copy({ url: url, method: xr.Methods.DELETE }, args));\n        }\n        xr.del = del;\n        ;\n        function options(url, args) {\n            return xr(mz.copy({ url: url, method: xr.Methods.OPTIONS }, args));\n        }\n        xr.options = options;\n        ;\n    })(xr = mz.xr || (mz.xr = {}));\n})(mz || (mz = {}));\nvar sp = String.prototype;\nif (!('capitalize' in sp)) {\n    sp.capitalize = function () {\n        return this.replace(/\\w\\S*/g, function (txt) { return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase(); });\n    };\n}\nif (!('setAt' in sp)) {\n    sp.setAt = function (index, character) {\n        return this.substr(0, index) + character + this.substr(index + character.length);\n    };\n}\nif (!('endsWith' in sp)) {\n    sp.endsWith = function (suffix) {\n        suffix = suffix.toString();\n        return this.indexOf(suffix, this.length - suffix.length) !== -1;\n    };\n}\nif (!('startsWith' in sp)) {\n    sp.startsWith = function (prefix) {\n        prefix = prefix.toString();\n        return this.indexOf(prefix) === 0;\n    };\n}\nif (!('contains' in sp)) {\n    sp.contains = function (prefix) {\n        prefix = prefix.toString();\n        return this.indexOf(prefix) !== -1;\n    };\n}\nsp.toCamelCase = function () {\n    return this.toLowerCase().replace(/-([a-z])/g, function (match, group1) {\n        return group1.toUpperCase();\n    });\n};\nsp.format = function () {\n    var formatted = this;\n    for (var i = 0; i < arguments.length; i++) {\n        var regexp = new RegExp('\\\\{' + i + '\\\\}', 'gi');\n        formatted = formatted.replace(regexp, arguments[i]);\n    }\n    return formatted;\n};\nvar re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\nsp.isValidMail = function () {\n    return this.length > 5 && re.test(this);\n};\nvar mz;\n(function (mz) {\n    var eventSplitter = /\\s+/g;\n    var EventDispatcherBinding = (function () {\n        function EventDispatcherBinding() {\n            this.cb = null;\n            this.evento = null;\n            this.sharedList = null;\n            this.object = null;\n        }\n        EventDispatcherBinding.prototype.off = function () {\n            if (this.object) {\n                this.cb && this.object.off(this);\n                this.cb = null;\n                this.object = null;\n            }\n        };\n        return EventDispatcherBinding;\n    })();\n    mz.EventDispatcherBinding = EventDispatcherBinding;\n    var EventDispatcher = (function () {\n        function EventDispatcher() {\n            this.ed_bindeos = {};\n            this.ed_bindeosTotales = [];\n            this.ed_bindCount = 0;\n            this.trigger = this.emit;\n        }\n        EventDispatcher.prototype.on = function (event, callback, once) {\n            var _this = this;\n            this.ed_bindCount++;\n            var events = event.split(eventSplitter);\n            var tmp;\n            var listaBindeos = [];\n            events.forEach(function (evt) {\n                tmp = new EventDispatcherBinding();\n                tmp.id = _this.ed_bindCount;\n                tmp.cb = null;\n                tmp.evento = evt;\n                tmp.sharedList = listaBindeos;\n                tmp.object = _this;\n                listaBindeos.push(tmp);\n                if (once) {\n                    tmp.cb = function () {\n                        callback.apply(this, arguments);\n                        tmp.cb = null;\n                    };\n                }\n                else {\n                    tmp.cb = callback;\n                }\n                _this.ed_bindeosTotales[tmp.id] = tmp;\n                _this.ed_bindeos[evt] = _this.ed_bindeos[evt] || [];\n                _this.ed_bindeos[evt].push(tmp);\n            });\n            return tmp;\n        };\n        EventDispatcher.prototype.once = function (event, callback) {\n            return this.on(event, callback, true);\n        };\n        EventDispatcher.prototype.off = function (bindeo, callback) {\n            if (bindeo instanceof EventDispatcherBinding) {\n                bindeo.cb = null;\n                bindeo.sharedList && bindeo.sharedList.length && bindeo.sharedList.forEach(function (f) { f.cb = null; });\n            }\n            else if (typeof bindeo == 'string') {\n                if (typeof callback == 'function') {\n                    for (var i in this.ed_bindeos) {\n                        if (this.ed_bindeos[i].cb === callback) {\n                            this.ed_bindeos[i].cb = null;\n                        }\n                    }\n                }\n                else if (typeof bindeo == 'string') {\n                    this.ed_bindeos[bindeo] = [];\n                }\n            }\n            else if (typeof bindeo === 'function') {\n                for (var i in this.ed_bindeos) {\n                    if (this.ed_bindeos[i].cb === bindeo) {\n                        this.ed_bindeos[i].cb = null;\n                    }\n                }\n            }\n            else if (bindeo === undefined && callback === undefined) {\n                for (var i in this.ed_bindeos) {\n                    delete this.ed_bindeos[i].cb;\n                }\n            }\n        };\n        EventDispatcher.prototype.emit = function (event) {\n            var params = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                params[_i - 1] = arguments[_i];\n            }\n            if (event in this.ed_bindeos) {\n                if (arguments.length == 1) {\n                    var ValorReturn = [];\n                    for (var i in this.ed_bindeos[event]) {\n                        if (this.ed_bindeos[event][i].cb) {\n                            var res = this.ed_bindeos[event][i].cb.call(this);\n                            res !== undefined && ValorReturn.push(res);\n                        }\n                    }\n                    return ValorReturn;\n                }\n                else if (arguments.length == 2) {\n                    var ValorReturn = [];\n                    for (var i in this.ed_bindeos[event]) {\n                        if (this.ed_bindeos[event][i].cb) {\n                            var res = this.ed_bindeos[event][i].cb.call(this, arguments[1]);\n                            res !== undefined && ValorReturn.push(res);\n                        }\n                    }\n                    return ValorReturn;\n                }\n                else if (arguments.length > 2) {\n                    var args = Array.prototype.slice.call(arguments, 1);\n                    var ValorReturn = [];\n                    for (var i in this.ed_bindeos[event]) {\n                        if (this.ed_bindeos[event][i].cb) {\n                            var res = this.ed_bindeos[event][i].cb.apply(this, args);\n                            res !== undefined && ValorReturn.push(res);\n                        }\n                    }\n                    return ValorReturn;\n                }\n            }\n        };\n        EventDispatcher.EVENTS = {};\n        return EventDispatcher;\n    })();\n    mz.EventDispatcher = EventDispatcher;\n})(mz || (mz = {}));\n/// <reference path=\"../CORE/Xr.ts\" />\n/// <reference path=\"../CORE/Strings.ts\" />\n/// <reference path=\"JWT.ts\" />\n/// <reference path=\"../CORE/EventDispatcher.ts\" />\nvar mz;\n(function (mz) {\n    var oauth2;\n    (function (oauth2) {\n        oauth2.roleList = [];\n        var loginUrl = null;\n        var refreshTokenUrl = null;\n        var logoutUrl = null;\n        var clientSecret = null;\n        var xhrWithCredentials = null;\n        var scopes = [];\n        oauth2.currentDomain = extractDomain(location.href), oauth2.currentClientID = 'mz-core';\n        function extractDomain(url) {\n            var domain;\n            var partes = url.split('/');\n            //find & remove protocol (http, ftp, etc.) and get domain\n            if (url.indexOf(\"://\") > -1) {\n                domain = partes[2];\n            }\n            else {\n                if (partes[0].contains('.'))\n                    domain = partes[0];\n                else\n                    return oauth2.currentDomain;\n            }\n            //find & remove port number\n            domain = domain.split(':')[0];\n            return domain.toLowerCase();\n        }\n        function tokenGetter(domain) {\n            return {\n                token: localStorage.getItem('JWT_' + domain) || localStorage.getItem('JWT_' + oauth2.currentDomain) || null,\n                type: localStorage.getItem('JWTtype_' + domain) || 'bearer'\n            };\n        }\n        oauth2.tokenGetter = tokenGetter;\n        function setupToken(token) {\n            if (mz.auth.jwt.isTokenExpired(token, 0))\n                throw new Error(\"The provided token is expired\");\n            var decodedToken = mz.auth.jwt.decodeToken(token);\n            if (decodedToken.role && decodedToken.role.length) {\n                if (typeof decodedToken.role == \"string\")\n                    decodedToken.role = [decodedToken.role];\n                pushRoles(decodedToken.role);\n            }\n        }\n        function setToken(domain, token, refreshToken, tokenType) {\n            domain = domain.toLowerCase();\n            if (token) {\n                if (mz.auth.jwt.isTokenExpired(token, 0))\n                    throw new Error(\"The provided token is expired\");\n                if (domain == oauth2.currentDomain) {\n                    setupToken(token);\n                }\n                localStorage.setItem('JWT_' + domain, token);\n                localStorage.setItem('JWTr_' + domain, refreshToken);\n                localStorage.setItem('JWTtype_' + domain, (tokenType || 'bearer'));\n            }\n            else {\n                localStorage.removeItem('JWT_' + domain);\n                localStorage.removeItem('JWTr_' + domain);\n                localStorage.removeItem('JWTtype_' + domain);\n            }\n        }\n        oauth2.setToken = setToken;\n        function checkRole(role) {\n            return oauth2.roleList.indexOf(role) != -1;\n        }\n        oauth2.checkRole = checkRole;\n        function pushRoles(roles) {\n            var roleArray = roles;\n            if (oauth2.roleList instanceof String)\n                roleArray = oauth2.roleList.split(/[\\|,]/g);\n            roleArray.forEach(function (role) { return oauth2.roleList.indexOf(role) == -1 && oauth2.roleList.push(role); });\n        }\n        oauth2.pushRoles = pushRoles;\n        /// <reference path=\"../CORE/Xr.ts\" />\n        /// <reference path=\"../CORE/Strings.ts\" />\n        /// <reference path=\"JWT.ts\" />\n        var ERROR_RESPONSES = {\n            'invalid_request': [\n                'The request is missing a required parameter, includes an',\n                'invalid parameter value, includes a parameter more than',\n                'once, or is otherwise malformed.'\n            ].join(' '),\n            'invalid_client': [\n                'Client authentication failed (e.g., unknown client, no',\n                'client authentication included, or unsupported',\n                'authentication method).'\n            ].join(' '),\n            'invalid_grant': [\n                'The provided authorization grant (e.g., authorization',\n                'code, resource owner credentials) or refresh token is',\n                'invalid, expired, revoked, does not match the redirection',\n                'URI used in the authorization request, or was issued to',\n                'another client.'\n            ].join(' '),\n            'unauthorized_client': [\n                'The client is not authorized to request an authorization',\n                'code using this method.'\n            ].join(' '),\n            'unsupported_grant_type': [\n                'The authorization grant type is not supported by the',\n                'authorization server.'\n            ].join(' '),\n            'access_denied': [\n                'The resource owner or authorization server denied the request.'\n            ].join(' '),\n            'unsupported_response_type': [\n                'The authorization server does not support obtaining',\n                'an authorization code using this method.'\n            ].join(' '),\n            'invalid_scope': [\n                'The requested scope is invalid, unknown, or malformed.'\n            ].join(' '),\n            'server_error': [\n                'The authorization server encountered an unexpected',\n                'condition that prevented it from fulfilling the request.',\n                '(This error code is needed because a 500 Internal Server',\n                'Error HTTP status code cannot be returned to the client',\n                'via an HTTP redirect.)'\n            ].join(' '),\n            'temporarily_unavailable': [\n                'The authorization server is currently unable to handle',\n                'the request due to a temporary overloading or maintenance',\n                'of the server.'\n            ].join(' ')\n        };\n        var unauthorizedRetry = function (fn) {\n            return (new Promise(fn)).catch(function (err) {\n                if (err.status == 401) {\n                    return oauth2.refreshToken().then(function (x) { return new Promise(fn); }, function (x) {\n                        if (x && x.status == 401) {\n                            oauth2.emit('unauthorized');\n                        }\n                        return Promise.reject(x);\n                    });\n                }\n                return Promise.reject(err);\n            });\n        };\n        var handleError = function (x) {\n            var err = x;\n            if (x && x.data && x.data.error) {\n                var message = ERROR_RESPONSES[x.data.error] || x.data.error_message || x.data.error;\n                oauth2.emit('error', 'refreshToken', x.data, message);\n                if (x.data.error == \"invalid_grant\") {\n                    localStorage.removeItem('JWTr_' + oauth2.currentDomain);\n                    // must login\n                    oauth2.emit('unauthorized');\n                }\n                err = new Error(message);\n                err.name = x.data.error;\n            }\n            if (x.status == 401) {\n                oauth2.emit('unauthorized');\n            }\n            return Promise.reject(err);\n        };\n        function applyAuthorizationHeaders(xr) {\n            var domain = extractDomain(xr.url);\n            var token = tokenGetter(domain);\n            if (token.token) {\n                xr.headers = xr.headers || {};\n                if (token.type == \"bearer\") {\n                    xr.headers['Authorization'] = \"Bearer \" + token.token;\n                }\n                else {\n                    (xr.params = xr.params || {})[\"access_token\"] = token.token;\n                    xr.headers['Pragma'] = 'no-store';\n                    xr.headers['Cache-Control'] = 'no-store';\n                }\n                xr.promise = unauthorizedRetry;\n            }\n        }\n        oauth2.applyAuthorizationHeaders = applyAuthorizationHeaders;\n        function configure(opts) {\n            loginUrl = opts.loginUrl || null;\n            refreshTokenUrl = opts.refreshTokenUrl || null;\n            logoutUrl = opts.logoutUrl || null;\n            oauth2.currentClientID = opts.clientId || null;\n            clientSecret = opts.clientSecret || null;\n            scopes = opts.scopes || [];\n            xhrWithCredentials = opts.xhrWithCredentials;\n            if (localStorage.getItem('JWT_' + oauth2.currentDomain)) {\n                try {\n                    setupToken(localStorage.getItem('JWT_' + oauth2.currentDomain));\n                }\n                catch (e) {\n                    console.error(e);\n                }\n            }\n            if (localStorage.getItem('JWTr_' + oauth2.currentDomain)) {\n                refreshTokenUrl && refreshToken();\n            }\n        }\n        oauth2.configure = configure;\n        function refreshToken() {\n            if (refreshTokenUrl) {\n                var authString;\n                if (oauth2.currentClientID) {\n                    authString = oauth2.currentClientID + ':';\n                    if (clientSecret)\n                        authString += clientSecret;\n                    authString = 'Basic ' + btoa(authString);\n                }\n                return mz.xr.post(refreshTokenUrl, {\n                    grant_type: \"refresh_token\",\n                    refresh_token: localStorage.getItem('JWTr_' + oauth2.currentDomain) || null\n                }, {\n                    skipAuthorization: true,\n                    dump: mz.xr.formatters.urlEncoded,\n                    headers: {\n                        Authorization: authString\n                    },\n                    withCredentials: xhrWithCredentials\n                }).then(function (x) {\n                    if (x.data.access_token) {\n                        oauth2.emit(\"gotToken\", x.data.token, x.data, oauth2.currentDomain);\n                        setToken(oauth2.currentDomain, x.data.access_token, x.data.refresh_token || null);\n                    }\n                    if (x.data.error) {\n                        var message = ERROR_RESPONSES[x.data.error] || x.data.error_message || x.data.error;\n                        oauth2.emit('error', 'refreshToken', x.data, message);\n                        if (x.data.error == \"invalid_grant\") {\n                            localStorage.removeItem('JWTr_' + oauth2.currentDomain);\n                        }\n                        var err = new Error(message);\n                        err.name = x.data.error;\n                        return Promise.reject(err);\n                    }\n                    return x;\n                }, handleError);\n            }\n            return Promise.reject(null);\n        }\n        oauth2.refreshToken = refreshToken;\n        function logout() {\n            setToken(oauth2.currentDomain, null);\n            oauth2.emit('logout');\n            if (logoutUrl) {\n                return mz.xr.get(logoutUrl, {}, {\n                    skipAuthorization: true,\n                    withCredentials: xhrWithCredentials\n                }).then(function (x) {\n                    return x;\n                });\n            }\n            return Promise.resolve(null);\n        }\n        oauth2.logout = logout;\n        function login(username, password) {\n            if (loginUrl) {\n                var authString;\n                if (oauth2.currentClientID) {\n                    authString = oauth2.currentClientID + ':';\n                    if (clientSecret)\n                        authString += clientSecret;\n                    authString = 'Basic ' + btoa(authString);\n                }\n                var theScopes = void 0;\n                if (scopes.length) {\n                    theScopes = scopes.join(' ');\n                }\n                return mz.xr.post(loginUrl, {\n                    grant_type: 'password',\n                    username: username,\n                    password: password,\n                    scope: theScopes\n                }, {\n                    skipAuthorization: true,\n                    dump: mz.xr.formatters.urlEncoded,\n                    headers: {\n                        Authorization: authString\n                    },\n                    withCredentials: xhrWithCredentials\n                }).then(function (x) {\n                    if (x.data.access_token) {\n                        setToken(oauth2.currentDomain, x.data.access_token, x.data.refresh_token || null, (x.data.token_type || '').toLowerCase());\n                    }\n                    else if (x.data.error) {\n                        var message = ERROR_RESPONSES[x.data.error] || x.data.error_message || x.data.error;\n                        var err = new Error(message);\n                        err.name = x.data.error;\n                        return Promise.reject(err);\n                    }\n                    oauth2.emit('login', x.data);\n                    return x;\n                }, handleError);\n            }\n            return Promise.reject(null);\n        }\n        oauth2.login = login;\n        function loggedIn() {\n            var token = tokenGetter(oauth2.currentDomain);\n            if (!token || !token.token)\n                return false;\n            try {\n                return !mz.auth.jwt.isTokenExpired(token.token);\n            }\n            catch (e) {\n                console.error(e);\n            }\n            return false;\n        }\n        oauth2.loggedIn = loggedIn;\n        oauth2.on = mz.EventDispatcher.prototype.on;\n        oauth2.emit = mz.EventDispatcher.prototype.emit;\n        oauth2.off = mz.EventDispatcher.prototype.off;\n        mz.EventDispatcher.apply(oauth2);\n    })(oauth2 = mz.oauth2 || (mz.oauth2 = {}));\n})(mz || (mz = {}));\n/// <reference path=\"../strings.ts\" />\n/// <reference path=\"../Xr.ts\" />\n/// <reference path=\"define.ts\" />\nvar mz;\n(function (mz) {\n    function require(a, callback) {\n        var esFn = typeof callback == 'function';\n        if (typeof a == 'object' && a instanceof Array && callback) {\n            var count = a.length;\n            var args = [];\n            var elems = a;\n            for (var i in elems) {\n                (function (i, elem) {\n                    mz.require(elem, function (ret) {\n                        args[i] = ret;\n                        if ((--count) == 0)\n                            callback.apply(this, args);\n                    });\n                })(i, elems[i]);\n            }\n        }\n        else {\n            var elem = a.toString();\n            if (elem == \"exports\") {\n                if (esFn) {\n                    callback({});\n                }\n                else {\n                    console.error(\"require('exports') en lugar ilegal. s坦lo se puede utilizar en una llamada a define(['exports'], function(exports)..\");\n                    return {};\n                }\n            }\n            else if (elem == \"require\") {\n                if (esFn) {\n                    callback(mz.require);\n                }\n                else {\n                    return mz.require;\n                }\n            }\n            else if (elem in mz.modules) {\n                if (esFn) {\n                    if (mz.modules[elem].loaded) {\n                        callback(mz.modules[elem].exports);\n                    }\n                    else {\n                        mz.modules[elem].callbacks.push({\n                            cb: callback,\n                            reqs: elems\n                        });\n                    }\n                }\n                else {\n                    if (mz.modules[elem].loaded) {\n                        return mz.modules[elem].exports;\n                    }\n                }\n            }\n            else {\n                var promise = mz.require.route(elem).then(function (archivo) {\n                    if (!archivo) {\n                        if (!/\\.js$/.test(elem))\n                            archivo = elem + '.js';\n                        else\n                            archivo = elem;\n                    }\n                    if (archivo.endsWith('.ts')) {\n                        archivo = archivo.replace(/\\.ts$/, '.js');\n                    }\n                    if (archivo) {\n                        mz.include(archivo, elem, esFn);\n                    }\n                    if (!esFn) {\n                        if (mz.modules[elem]) {\n                            if (mz.modules[elem].loaded)\n                                return mz.modules[elem].exports;\n                        }\n                        else {\n                            throw 'M坦dulo desconocido [[' + elem + ']]';\n                        }\n                    }\n                    else {\n                        if (mz.modules[elem]) {\n                            if (mz.modules[elem].loaded)\n                                callback(mz.modules[elem].exports);\n                            else\n                                mz.modules[elem].callbacks.push({\n                                    cb: callback,\n                                    reqs: elem\n                                });\n                            return mz.modules[elem];\n                        }\n                        else {\n                            return null;\n                        }\n                    }\n                });\n            }\n        }\n    }\n    mz.require = require;\n    var modulosCargados = {};\n    function include(url, nombreModulo, async) {\n        var urlBuscada = mz.getPath(url);\n        var path = urlBuscada.split('/');\n        path.pop();\n        var module = mz.modules[nombreModulo] = new mz.Module(nombreModulo);\n        module.async = !!async;\n        module.filename = urlBuscada.toString();\n        module.path = path.join('/') + '/';\n        //if (module.path == '/') module.path = mz.getAbsoluteUrl();\n        modulosCargados[url] = loadModule(urlBuscada, module);\n        if (async == false && modulosCargados[url] == false) {\n            throw 'Include: No se pudo cargar el m坦dulo [[' + nombreModulo + ']] en ' + url;\n        }\n        return true;\n    }\n    mz.include = include;\n    function loadModule(url, module, async) {\n        var successflag = false;\n        if ('scriptBase' in mz) {\n            var baseURL = mz.xr.getAbsoluteUrl(mz.scriptBase.toLowerCase()).toLowerCase();\n            url = mz.xr.getAbsoluteUrl(url);\n            if (url.toLowerCase().startsWith(baseURL)) {\n                url = url.toLowerCase().replace(baseURL, '');\n            }\n        }\n        var processResponse = function (result) {\n            //try {\n            var bkCM = mz.define.currentModule || null;\n            mz.define.currentModule = module;\n            var bkRequire = mz.globalContext.require;\n            var bkExports = mz.globalContext.exports;\n            var bkModulo = mz.globalContext.module;\n            var bkDefine = mz.globalContext.define;\n            var bk単 = mz.globalContext.単;\n            try {\n                mz.globalContext.define = module.define.bind(module);\n                mz.globalContext.exports = module.exports;\n                mz.globalContext.require = module.require.bind(module);\n                mz.globalContext.module = module;\n                mz.globalContext.単 = module.単.bind(module);\n                mz.globalContext.define.amd = bkDefine.amd;\n                (function (str) {\n                    return eval(str);\n                }).call(module.exports, result + '\\n//@ sourceURL=' + url);\n            }\n            finally {\n                mz.globalContext.define = bkDefine;\n                mz.globalContext.exports = bkExports;\n                mz.globalContext.require = bkRequire;\n                mz.globalContext.module = bkModulo;\n                mz.globalContext.単 = bk単;\n            }\n            /*\n            jQuery.globalEval(\n                'var a = mz.proxy(mzcore.define.currentModule, \"define\");a.amd = mzcore.define.amd;(function(require, exports, module, define, 単){ ' +\n                result +\n                '\\n})(mz.proxy(mzcore.define.currentModule, \"require\"), mzcore.define.currentModule.exports, mzcore.define.currentModule, a, mz.proxy(mzcore.define.currentModule, \"単\"));\\n' +\n                '//@ sourceURL=' + (module.id || url)\n            );\n            */\n            if (mz.define.currentModule) {\n                mz.define.currentModule.loaded = true;\n                if (mz.define.currentModule.defined == false) {\n                    mz.define.currentModule.ModuleExports.set(mz.define.currentModule.exports, []);\n                }\n            }\n            mz.define.currentModule = bkCM;\n            successflag = true;\n            /*} catch (e) {\n            console.error('Include: Parser: No se pudo cargar el m坦dulo [[' + (module.id || url) + ']] en ' + url, e, e.stack);\n\n            if ('error' in e && 'message' in e) {\n            console.error(e.error, e.message, e.stack);\n            }\n            }*/\n        };\n        if (mz.hardCodedFiles && url in mz.hardCodedFiles) {\n            processResponse(mz.hardCodedFiles[url]);\n        }\n        else {\n            jQuery.ajax({\n                async: module.async,\n                type: \"GET\",\n                url: url,\n                data: null,\n                success: function (result) {\n                    processResponse(result);\n                },\n                fail: function () {\n                    console.error('Include: No se pudo cargar el m坦dulo [[' + (module.id || url) + ']] en ' + url);\n                },\n                dataType: 'text'\n            });\n        }\n        return successflag;\n    }\n})(mz || (mz = {}));\nvar mz;\n(function (mz) {\n    var require;\n    (function (require) {\n        var escapeRegExp = function (str) {\n            return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\");\n        };\n        require.routes = [];\n        function route(source, dest) {\n            if (arguments.length == 1 && typeof source === 'string') {\n                for (var i in require.routes) {\n                    var rt = require.routes[i];\n                    if (typeof rt.source === \"string\" && rt.source == source) {\n                        return Promise.resolve(rt.destination);\n                    }\n                    else if (typeof require.routes[i].destination === \"function\") {\n                        return require.routes[i].destination(source);\n                    }\n                    else if (rt.source.test(source)) {\n                        return Promise.resolve(source.replace(require.routes[i].source, require.routes[i].destination));\n                    }\n                }\n            }\n            else if (arguments.length == 2) {\n                var routeIndex = -1, key = source.toString();\n                for (var i in require.routes)\n                    if (require.routes[i].key == key) {\n                        routeIndex = i;\n                        break;\n                    }\n                var newRoute = {\n                    key: key,\n                    source: source instanceof RegExp ? source : new RegExp('^' + escapeRegExp(source).replace(/\\\\\\*/g, '([\\\\w-]+)') + '$'),\n                    destination: dest\n                };\n                if (routeIndex == -1)\n                    require.routes.push(newRoute);\n                else\n                    require.routes[routeIndex] = newRoute;\n            }\n            return Promise.resolve(null);\n        }\n        require.route = route;\n        route('http://*', 'http://$1');\n        route('https://*', 'https://$1');\n        route('/*.js', '/$1.js');\n        function defineFiles(files) {\n            for (var i in files) {\n                mz.hardCodedFiles[i.toLowerCase()] = files[i];\n            }\n        }\n        require.defineFiles = defineFiles;\n    })(require = mz.require || (mz.require = {}));\n})(mz || (mz = {}));\nmz.require.route(\"jquery\", \"@mz/jquery.js\");\nwindow.require = mz.require;\n/// <reference path=\"Require.ts\" />\n/// <reference path=\"..\\..\\mz.ts\" />\nvar mz;\n(function (mz) {\n    var testRequires = /require\\(\\w*(('|\")([^\\)\\2]+)\\2)\\w*\\)/g;\n    mz.modules = {};\n    var Module = (function () {\n        function Module(name) {\n            this.exports = null;\n            this.loaded = false;\n            this.parent = null;\n            this.children = [];\n            this.filename = null;\n            this.path = null;\n            this.defined = false;\n            this.async = false;\n            this.callbacks = [];\n            this.dependencias = {};\n            this.id = name || null;\n            this.define.amd = mz.define.amd || {};\n            this.ModuleExports = new ModuleExports(this);\n        }\n        Module.prototype.getPath = function (x) {\n            return mz.getPath(x, this.path);\n        };\n        Module.prototype.require = function (Module, b) {\n            if (Module instanceof Array) {\n                var r = [];\n                for (var i in Module) {\n                    var original = r[i];\n                    r[i] = this.getPath(Module[i]);\n                    if (original != r[i]) {\n                        if (r[i].startsWith('http') && !r[i].endsWith('.js'))\n                            r[i] += '.js';\n                    }\n                }\n                return mz.require(r, b);\n            }\n            else\n                return mz.require(this.getPath(Module), b);\n        };\n        Module.prototype.define = function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i - 0] = arguments[_i];\n            }\n            var ret = mz.define.apply(null, arguments);\n            mz.define.lastModule.parent = this;\n            this.children.push(mz.define.lastModule);\n            return ret;\n        };\n        Module.prototype.単 = function (a, b) {\n            return mz.単(a, b, this.id);\n        };\n        return Module;\n    })();\n    mz.Module = Module;\n    var ModuleExports = (function () {\n        function ModuleExports(theModule) {\n            this.module = theModule;\n            this.module.exports = {};\n            this.seteado = false;\n        }\n        ModuleExports.prototype.set = function (factory, params) {\n            if (mz._debug && typeof factory == 'function') {\n                if (testRequires.test(factory)) {\n                    var that = this;\n                    var deps = null;\n                    var depsCargadas = null;\n                    String(factory).replace(testRequires, function (all, d1, d2, key) {\n                        if (!(key in that.module.dependencias)) {\n                            if (key in mz.modules) {\n                                depsCargadas = depsCargadas || {};\n                                depsCargadas[key] = (depsCargadas[key] || 0) + 1;\n                            }\n                            else {\n                                deps = deps || {};\n                                deps[key] = (deps[key] || 0) + 1;\n                            }\n                        }\n                    });\n                    if (deps) {\n                        console.group(this.module.id + \" - Dependencias sincr坦nicas NO definidas NI cargadas\");\n                        for (var i in deps) {\n                            if (!(i in mz.modules))\n                                console.error(i, deps[i]);\n                        }\n                        console.groupEnd();\n                    }\n                }\n            }\n            var result;\n            if (typeof factory === 'function') {\n                var bkRequire = mz.globalContext.require;\n                var bkExports = mz.globalContext.exports;\n                var bkModulo = mz.globalContext.module;\n                var bkDefine = mz.globalContext.define;\n                var bk単 = mz.globalContext.単;\n                try {\n                    mz.globalContext.define = this.module.define.bind(this.module);\n                    mz.globalContext.exports = this.module.exports;\n                    mz.globalContext.require = this.module.require.bind(this.module);\n                    mz.globalContext.module = this.module;\n                    mz.globalContext.単 = this.module.単.bind(this.module);\n                    mz.globalContext.define.amd = bkDefine.amd;\n                    result = factory.apply(this.module.exports, params);\n                }\n                finally {\n                    mz.globalContext.define = bkDefine;\n                    mz.globalContext.exports = bkExports;\n                    mz.globalContext.require = bkRequire;\n                    mz.globalContext.module = bkModulo;\n                    mz.globalContext.単 = bk単;\n                }\n            }\n            else\n                result = factory;\n            this.seteado = true;\n            if (result !== this.module.exports) {\n                if (isDef(result) && typeof result != \"string\" && typeof result != \"number\" && typeof result != \"boolean\") {\n                    this.module.exports = mz.copy(result, this.module.exports);\n                }\n            }\n            this.module.defined = true;\n            this.module.loaded = true;\n            var cb = null;\n            while (this.module.callbacks.length && (cb = this.module.callbacks.shift())) {\n                if (cb.cb)\n                    cb.cb(this.module.exports);\n            }\n        };\n        return ModuleExports;\n    })();\n    mz.ModuleExports = ModuleExports;\n})(mz || (mz = {}));\n/// <reference path=\"module.ts\" />\nvar mz;\n(function (mz) {\n    function undefine(mod) {\n        if (mod in mz.modules) {\n            mz.modules[mod] = null;\n            delete mz.modules[mod];\n        }\n    }\n    mz.undefine = undefine;\n    function define() {\n        var name = mz.buscarArgumentoTipo('string', arguments) || (mz.define.currentModule ? mz.define.currentModule.id : null) || null;\n        var fn = mz.buscarArgumentoTipo('function', arguments) || null;\n        var reqs = mz.buscarArgumentoTipo(Array, arguments) || null;\n        var obj = !fn && arguments.length && typeof arguments[arguments.length - 1] == \"object\" && arguments[arguments.length - 1] || null;\n        if (!fn && obj) {\n            fn = obj;\n        }\n        var module = null;\n        if (mz.define.currentModule && mz.define.currentModule.id == name) {\n            module = mz.define.currentModule;\n            mz.define.currentModule = null;\n        }\n        else {\n            module = new mz.Module(name);\n            if (obj)\n                module.exports = obj;\n        }\n        mz.define.lastModule = module;\n        if (name !== null) {\n            if (name in mz.modules && mz.modules[name] !== module) {\n                if (mz._debug)\n                    debugger;\n                throw \"Ya est叩 definido \" + name;\n            }\n            mz.modules[name] = module;\n            if (reqs && reqs.length) {\n                var args = [];\n                if (module.async) {\n                    module.require(reqs, function (args) {\n                        for (var i in reqs) {\n                            if (reqs[i] == \"exports\")\n                                arguments[i] = module.exports;\n                            else if (reqs[i] == \"require\")\n                                arguments[i] = module.require;\n                        }\n                        module.ModuleExports.set(fn, arguments);\n                    });\n                }\n                else {\n                    for (var i in reqs) {\n                        if (reqs[i] == \"exports\") {\n                            module.dependencias[reqs[i]] = args[i] = module.exports;\n                        }\n                        else if (reqs[i] == \"require\")\n                            module.dependencias[reqs[i]] = args[i] = module.require;\n                        else\n                            module.dependencias[reqs[i]] = args[i] = module.require(reqs[i]);\n                    }\n                    module.ModuleExports.set(fn, args);\n                }\n            }\n            else {\n                module.ModuleExports.set(fn, []);\n            }\n        }\n        else {\n            module.ModuleExports.set(fn, []);\n        }\n        return module.exports;\n    }\n    mz.define = define;\n    define.amd = {};\n})(mz || (mz = {}));\nvar mz;\n(function (mz) {\n    var define;\n    (function (define) {\n    })(define = mz.define || (mz.define = {}));\n})(mz || (mz = {}));\nmz.globalContext.define = mz.define;\n/// <reference path=\"Define.ts\" />\n/// <reference path=\"Require.ts\" />\nmz.define(\"jquery\", function () { return jQuery; });\n/// <reference path=\"../mz.ts\" />\n/// <reference path=\"EventDispatcher.ts\" />\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar mz;\n(function (mz) {\n    var MVCObject = (function (_super) {\n        __extends(MVCObject, _super);\n        function MVCObject(args) {\n            _super.call(this);\n            this.data = {};\n            args && this.setValues(args);\n        }\n        MVCObject.prototype.getAll = function () { return this.data; };\n        MVCObject.prototype.setValues = function (values, emit) {\n            if (values instanceof MVCObject) {\n                values = values.getAll();\n            }\n            for (var i in values) {\n                this.set(i, values[i], !emit);\n            }\n            this.emit(MVCObject.EVENTS.setValues, this.data, values);\n        };\n        MVCObject.prototype.set = function (field, value, NoTrigerearChanged) {\n            if (!isDef(field))\n                return;\n            var viejo = this.data[field];\n            this.data[field] = value;\n            var ch = field + '_changed';\n            if (ch in this && typeof this[ch] === 'function')\n                this[ch](value, viejo);\n            this.emit(ch, this.data[field], viejo);\n            !NoTrigerearChanged && this.emit(MVCObject.EVENTS.valueChanged, this.data, field, this.data[field], viejo);\n        };\n        MVCObject.prototype.get = function (field) {\n            return this.data[field];\n        };\n        MVCObject.EVENTS = mz.copy({\n            /// Triggered when the method setValues is called\n            setValues: \"setValues\",\n            /// Triggered when a value is setted\n            valueChanged: \"valueChanged\"\n        }, mz.EventDispatcher.EVENTS);\n        return MVCObject;\n    })(mz.EventDispatcher);\n    mz.MVCObject = MVCObject;\n})(mz || (mz = {}));\nvar mz;\n(function (mz) {\n    var MVCObject;\n    (function (MVCObject) {\n        function proxy(target, propertyKey) {\n            if (delete target[propertyKey]) {\n                Object.defineProperty(target, propertyKey.toString(), {\n                    get: function () {\n                        return this.data[propertyKey];\n                    },\n                    set: function (value) {\n                        this.set(propertyKey, value);\n                    },\n                    enumerable: true\n                });\n            }\n        }\n        MVCObject.proxy = proxy;\n    })(MVCObject = mz.MVCObject || (mz.MVCObject = {}));\n})(mz || (mz = {}));\n/// <reference path=\"MVCObject.ts\" />\n/// <reference path=\"../mz.ts\" />\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar mz;\n(function (mz) {\n    var collection = (function (_super) {\n        __extends(collection, _super);\n        function collection(base, opc) {\n            _super.call(this);\n            this.opciones = {};\n            this.__indice__ = {};\n            this.agregandoLote = false;\n            this.insert = this.push;\n            this.opciones = opc || {};\n            this.array = (this.opciones.initialSize ? new Array(this.opciones.initialSize) : new Array());\n            base && this.addRange(base);\n        }\n        collection.prototype.first = function () {\n            return this.array[0];\n        };\n        collection.prototype.last = function () {\n            if (this.array.length)\n                return this.array[this.array.length - 1];\n        };\n        /**\n        Limpia la coleccion\n        @method clear\n        @param {Boolean} noTriggerear si es \"true\" entonces no se desencadena ningun evento del tipo \"changed\"\n        */\n        collection.prototype.clear = function (noTriggerear) {\n            this.trigger(collection.EVENTS.BeforeClearCollection, !!noTriggerear);\n            this.array.length = 0;\n            this.__indice__ = {};\n            this.trigger(collection.EVENTS.AfterClearCollection, !!noTriggerear);\n            !noTriggerear && this.emit(collection.EVENTS.Changed, 'clear', !!noTriggerear);\n        };\n        Object.defineProperty(collection.prototype, \"length\", {\n            /**\n            Tama単o de la coleccion (getter)\n            @property length\n            */\n            get: function () {\n                return this.array.length;\n            },\n            /**\n            Tama単o de la coleccion (setter)\n            @property length\n            */\n            set: function (value) {\n                if (isNaN(value) || value < 0)\n                    throw new TypeError();\n                this.setLength(value);\n            },\n            enumerable: true,\n            configurable: true\n        });\n        collection.prototype.getLength = function () {\n            return this.array.length;\n        };\n        collection.prototype.setLength = function (nuevoTamanio) {\n            if (nuevoTamanio < 0)\n                throw \"Tamanio invalido\";\n            if (this.getLength() > nuevoTamanio) {\n                while (this.getLength() > nuevoTamanio) {\n                    this.pop();\n                }\n            }\n            else {\n                this.array.length = nuevoTamanio;\n            }\n            this.emit(collection.EVENTS.Changed, 'length', this.array.length);\n            return this;\n        };\n        /**\n        The map() method creates a new array with the results of calling a provided function on every element in this array.\n        El contexto \"this\" es el segundo argumento si se especifica, sino es la coleccion\n        @method map\n        @param {Function} callback funci坦n que se va a ejecutar, a esta function se le pasa 1 argumento, el elemento de la coleccion que se esta iterando\n        */\n        collection.prototype.map = function (func, thisp) {\n            var thisp = arguments[1] || this;\n            var coll = new mz.collection();\n            for (var i = 0; i < this.array.length; i++)\n                (i in this.array) && coll.push(func.call(thisp, this.array[i]));\n            return coll;\n        };\n        ;\n        /**\n        The forEach() method executes a provided function once per array element.\n        El contexto \"this\" es el segundo argumento si se especifica, sino es la coleccion\n        @method forEach\n        @param {Function|MzDelegate} callback funci坦n que se va a ejecutar, a esta function se le pasan 2 argumentos, el elemento de la coleccion que se esta iterando y el indice (zero based) dentro de la coleccion.\n        */\n        collection.prototype.forEach = function (func, thisp) {\n            var thisp = arguments[1] || this;\n            if ('forEach' in this.array) {\n                this.array.forEach(func, thisp);\n            }\n            else {\n                for (var i = 0; i < this.array.length; i++)\n                    (i in this.array) && typeof this.array[i] != 'undefined' && func.call(thisp, this.array[i], i);\n            }\n        };\n        /**\n         * Basicamente lo que hace esta funcion es ejecutar lotes asincronicos que diren X tiempo cada uno, es util para procesar grandes cantidades de informacion y darle un feedback al usuario sin bloquear la pantalla.\n         * Si iterationDurationMs es 0, entonces utiliza setImmediate y el tiempo de cada iteracion se setea en 32ms\n         */\n        collection.prototype.asyncForEach = function (func, iterationDurationMs) {\n            if (this.array.length) {\n                var items = this.array.concat();\n                var that = this;\n                var timerFn = iterationDurationMs <= 0 ? setImmediate : setTimeout;\n                if (iterationDurationMs <= 0)\n                    iterationDurationMs = 32;\n                iterationDurationMs = Math.abs(iterationDurationMs || 32);\n                var i = 0;\n                function sch() {\n                    timerFn(function () {\n                        var start = mz.now();\n                        while (mz.now() - start < iterationDurationMs && items.length) {\n                            func.call(that, items.shift(), i);\n                            i++;\n                        }\n                        if (items.length)\n                            sch();\n                    }, iterationDurationMs);\n                }\n                sch();\n            }\n        };\n        collection.prototype._indizar = function (elem, index) {\n            if (this.opciones.key) {\n                if (!(this.opciones.key in elem))\n                    throw \"No tiene la clave primaria\";\n                if (typeof elem[this.opciones.key] != 'undefined') {\n                    this.__indice__[elem[this.opciones.key]] = index;\n                }\n            }\n        };\n        collection.prototype._deindizar = function (elem) {\n            if (this.opciones.key) {\n                if (typeof elem[this.opciones.key] != 'undefined') {\n                    if (elem[this.opciones.key] in this.__indice__) {\n                        delete this.__indice__[elem[this.opciones.key]];\n                    }\n                }\n            }\n        };\n        collection.prototype._reindizar = function () {\n            if (this.opciones.key) {\n                this.__indice__ = {};\n                var that = this;\n                this.forEach(function (e, i) {\n                    if (e && typeof e[that.opciones.key] != 'undefined') {\n                        that.__indice__[e[that.opciones.key]] = i;\n                    }\n                });\n            }\n        };\n        /**\n        Obtiene el elemento en la posicion \"index\" de la coleccion\n        @method getAt\n        @param {Number} index\n        */\n        collection.prototype.getAt = function (index) {\n            return this.array[index];\n        };\n        collection.prototype.reduce = function (fn, initialValue) {\n            return this.array.reduce(fn, initialValue);\n        };\n        /**\n        Agrupa los elementos de la colecci坦n.\n        Si \"what\" es tipo String, entonces va a asumir que es un campo y va a agrupar por ese campo.\n        Si \"what\" es tipo Function, va a evaluar la funci坦n por cada elemento de la colecci坦n y agrupa por el resultado.\n\n        Este m辿todo devuelve un objeto tipo Diccionario con el criterio de evaluaci坦n como clave y una coleccion de elementos como value\n        @method groupBy\n        @param {Mixed} what\n        */\n        collection.prototype.groupBy = function (what) {\n            var fn;\n            if (typeof what != 'function') {\n                throw new TypeError();\n            }\n            else {\n                fn = what;\n            }\n            if (!fn)\n                return {};\n            var output = {};\n            this.forEach(function (e) {\n                var g = fn(e);\n                if (g) {\n                    if (g in output) {\n                        output[g].push(e);\n                    }\n                    else {\n                        output[g] = new mz.collection([e], this.opciones);\n                    }\n                }\n            });\n            return output;\n        };\n        Object.defineProperty(collection.prototype, \"key\", {\n            /**\n            Obtiene la key de la coleccion\n            @property key\n            */\n            get: function () {\n                return this.opciones && this.opciones.key;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        /**\n        Inserta un elemento en cualquier posicion de la coleccion. Dispara evento \"changed\" con los mismos argumentos que el evento \"insert_at\"\n        @method insertAt\n        @param {Number} indice\n        @param {Mixed} elemento\n        */\n        collection.prototype.insertAt = function (indice, elemento) {\n            if (this.opciones.key) {\n                if (!(this.opciones.key in elemento)) {\n                    console.error('El elemento insertado no tiene el campo ' + this.opciones.key);\n                    return;\n                }\n                if (elemento[this.opciones.key] in this.__indice__) {\n                    console.error('El elemento insertado ya existe en la coleccion ' + this.opciones.key + \"=\" + elemento[this.opciones.key]);\n                    return;\n                }\n            }\n            if (indice == this.array.length) {\n                this.array.push(elemento);\n                this._indizar(elemento, indice);\n            }\n            else {\n                var fin = this.array.splice(indice);\n                this.array.push(elemento);\n                this.array = this.array.concat(fin);\n                this._reindizar();\n                this.emit(collection.EVENTS.CollectionSorted);\n                this.emit(collection.EVENTS.Changed, collection.EVENTS.CollectionSorted);\n            }\n            this.emit(collection.EVENTS.ElementInserted, indice, elemento);\n            this.emit(collection.EVENTS.Changed, collection.EVENTS.ElementInserted, indice, elemento);\n        };\n        /**\n        Remueve un elemento en cualquier posicion de la coleccion. Dispara evento \"changed\" con los mismos argumentos que el evento \"remove_at\"\n        @method removeAt\n        @param {Number} indice\n        @param {Mixed} elemento\n        */\n        collection.prototype.removeAt = function (indice) {\n            var backup = this.array[indice];\n            this.array.splice(indice, 1);\n            this._reindizar();\n            this.emit(collection.EVENTS.ElementRemoved, indice, backup);\n            this.emit(collection.EVENTS.Changed, collection.EVENTS.ElementRemoved, indice, backup);\n            return backup;\n        };\n        /**\n        Cambia un elemento en cualquier posicion de la coleccion. Dispara evento \"changed\" con los mismos argumentos que el evento \"set_at\"\n        @method set_at\n        @param {Number} indice\n        @param {Mixed} elemento\n        */\n        collection.prototype.setAt = function (indice, elemento) {\n            var backup = this.array[indice];\n            this._deindizar(backup);\n            this.array[indice] = elemento;\n            this._indizar(elemento, indice);\n            this.emit(collection.EVENTS.ElementChanged, indice, elemento, backup);\n            this.emit(collection.EVENTS.Changed, collection.EVENTS.ElementChanged, indice, elemento, backup);\n        };\n        /**\n        Inserta un elemento al final de la colecci坦n. Dispara evento \"insert_at\" y \"changed\" con los mismos argumentos\n        @method push\n        @param {Mixed} elemento\n        @param {Bool} noTriggerear si == 'true' entonces no se dispara ning炭n evento.\n        */\n        collection.prototype.push = function (elemento, noTriggerear) {\n            var indice = -1;\n            if (this.opciones.key) {\n                if (!(this.opciones.key in elemento)) {\n                    console.error('El elemento insertado no tiene el campo ' + this.opciones.key);\n                    return indice;\n                }\n                if (elemento[this.opciones.key] in this.__indice__) {\n                    console.error('El elemento insertado ya existe en la coleccion ' + this.opciones.key + \"=\" + elemento[this.opciones.key]);\n                    return indice;\n                }\n            }\n            indice = this.array.push(elemento) - 1;\n            try {\n                this._indizar(elemento, indice);\n            }\n            catch (e) {\n                this.array.pop();\n                console.error('El elemento insertado no tiene el campo ' + this.opciones.key);\n                return -1;\n            }\n            if (!noTriggerear) {\n                this.emit(collection.EVENTS.ElementInserted, indice, elemento);\n                this.emit(collection.EVENTS.Changed, collection.EVENTS.ElementInserted, indice, elemento);\n            }\n            return indice;\n        };\n        /**\n        Quita el elemento al final de la colecci坦n. Dispara evento \"remove_at\" y \"changed\" con los mismos argumentos\n        @method pop\n        @param {Bool} noTriggerear si == 'true' entonces no se dispara ning炭n evento.\n        */\n        collection.prototype.pop = function (noTriggerear) {\n            if (this.array.length > 0) {\n                var ret = this.array.pop();\n                this._deindizar(ret);\n                if (!noTriggerear) {\n                    this.emit(collection.EVENTS.ElementRemoved, this.array.length, ret);\n                    this.emit(collection.EVENTS.Changed, collection.EVENTS.ElementRemoved, this.array.length, ret);\n                }\n                return ret;\n            }\n            return null;\n        };\n        collection.prototype.addRange = function (array, noTriggerearCadaUno, noTriggerear) {\n            if (!array)\n                return this;\n            var inicio = this.array.length - 1;\n            this.agregandoLote = true;\n            if (Object.prototype.toString.call(array).toLowerCase() === \"[object array]\" || array instanceof mz.collection) {\n                if ('forEach' in array && typeof array.forEach == 'function') {\n                    var that = this;\n                    array.forEach(function (elem) {\n                        that.push(elem, noTriggerearCadaUno);\n                    });\n                }\n                else {\n                    for (var i = 0; i < array.length; i++)\n                        this.push(array[i], noTriggerearCadaUno);\n                }\n            }\n            else {\n                for (var i_1 in array)\n                    this.push(array[i_1], noTriggerearCadaUno);\n            }\n            if (!noTriggerear) {\n                this.emit(collection.EVENTS.ElementRangeInserted, inicio, this.array.length - 1, !noTriggerearCadaUno);\n                this.emit(collection.EVENTS.Changed, collection.EVENTS.ElementRangeInserted, inicio, this.array.length - 1, !noTriggerearCadaUno);\n            }\n            this.agregandoLote = false;\n            return this;\n        };\n        /**\n        Cuando se actualiza un valor en la colecci坦n y se quiere informar, se invoca a un m辿todo \"update\", \"updateByKey\" o \"updateIndex\".\n        Estos desencadenan los eventos \"set_at\" y \"changed\".\n\n        Si la coleccion tiene Key entonces busca en el indice. no importa que no sea el mismo elemento. De otro modo busca la referencia a ese elemento.\n\n        @method update\n        @param {Mixed} elemento El elemento a ser actualizado\n        */\n        collection.prototype.update = function (elemento) {\n            var indice = -1;\n            if (this.opciones.key && this.opciones.key in elemento && elemento[this.opciones.key] in this.__indice__ && this.array[indice = this.__indice__[elemento[this.opciones.key]]] === elemento) {\n                return this.updateIndex(indice);\n            }\n            return this.updateIndex(this.indexOf(elemento));\n        };\n        /**\n        Cuando se actualiza un valor en la colecci坦n y se quiere informar, se invoca a un m辿todo \"update\", \"updateByKey\" o \"updateIndex\".\n        Estos desencadenan los eventos \"set_at\" y \"changed\".\n\n        @method updateByKey\n        @param {String} key clave a ser buscada en el 鱈ndice interno\n        */\n        collection.prototype.updateByKey = function (key) {\n            if (this.opciones.key && key in this.__indice__) {\n                return this.updateIndex(this.__indice__[key]);\n            }\n        };\n        /**\n        Cuando se actualiza un valor en la colecci坦n y se quiere informar, se invoca a un m辿todo \"update\", \"updateByKey\" o \"updateIndex\".\n        Estos desencadenan los eventos \"set_at\" y \"changed\".\n\n        @method updateIndex\n        @param {Nuber} indice 誰ndice del elemento a ser actualizado\n        */\n        collection.prototype.updateIndex = function (index) {\n            if (index != -1) {\n                var elemento = this.getAt(index);\n                this.emit(collection.EVENTS.ElementChanged, index, elemento, elemento);\n                this.emit(collection.EVENTS.Changed, collection.EVENTS.ElementChanged, index, elemento, elemento);\n            }\n            return this;\n        };\n        collection.prototype.join = function (delimitador) {\n            return this.array.join(delimitador);\n        };\n        /**\n        Suma elementos\n        @method sum\n        @param {Mixed} opciones\n        @param {Mixed} opciones.groupBy Si se van a agrupar los elementos\n        @param {Array de strings} opciones.exclude Si no se quiere sumarizar algunos campos\n        @param {Array de strings} opciones.filtroCampos Si se quiere especificar en cuales campos se va a sumarizar\n        */\n        collection.prototype.sum = function (options) {\n            var result = [];\n            var groupByField = options.groupBy || null;\n            var sumarizarSubSet = function (col) {\n                var out = null;\n                var cant = 0;\n                col.forEach(function (elem) {\n                    if (out) {\n                        for (var i in elem) {\n                            if (groupByField != i && typeof elem[i] == 'number' && (typeof out[i] == 'number' || typeof out[i] == 'undefined') && (!options || ((!options.filtroCampos || options.filtroCampos.indexOf(i) != -1) && (!options.exclude || options.exclude.indexOf(i) == -1)))) {\n                                out[i] = (out[i] || 0) + elem[i];\n                            }\n                        }\n                        out['[[cantidad]]']++;\n                    }\n                    else {\n                        out = {};\n                        Object.defineProperty(out, '[[cantidad]]', {\n                            enumerable: false,\n                            get: function () { return cant; },\n                            set: function (value) { cant = value; }\n                        });\n                        groupByField && (out[groupByField] = elem[groupByField]);\n                        for (var i in elem) {\n                            if (groupByField != i && typeof elem[i] == 'number' && (!options || ((!options.filtroCampos || options.filtroCampos.indexOf(i) != -1) && (!options.exclude || options.exclude.indexOf(i) == -1)))) {\n                                out[i] = elem[i];\n                            }\n                        }\n                        out['[[cantidad]]'] = 1;\n                    }\n                });\n                return out;\n            };\n            if (groupByField == null)\n                return sumarizarSubSet(this);\n            var subsets = this.groupBy(groupByField);\n            for (var i in subsets) {\n                result.push(sumarizarSubSet(subsets[i]));\n            }\n            return result;\n        };\n        /**\n         *\tSimplemente ordena la colecci坦n. \"what\" puede tener cualquiera de estos formatos\n         *\t\t'Campo ASC, CampoB DESC'\n         *\t\tfunction(a, b) { return (a.Campo > b.Campo ? 1 : - 1) }\n         *\t\t'Campo'\n         *\n         *\n         *\t@method orderBy\n         *\t@param {Mixed} what\n         */\n        collection.prototype.orderBy = function (what) {\n            var orderBy = what ? mz.data.order.build(what) : undefined;\n            this.array.sort(orderBy);\n            this._reindizar();\n            this.emit(collection.EVENTS.CollectionSorted, what, 'ASC');\n            this.emit(collection.EVENTS.Changed, collection.EVENTS.CollectionSorted, what);\n            return this;\n        };\n        collection.prototype.orderByDesc = function (what) {\n            var fn = what ? mz.data.order.build(what) : null;\n            if (fn) {\n                this.array.sort(function (a, b) {\n                    return -fn(a, b);\n                });\n            }\n            else {\n                this.array.sort();\n                this.array.reverse();\n            }\n            this._reindizar();\n            this.emit(collection.EVENTS.CollectionSorted, what, 'DESC');\n            this.emit(collection.EVENTS.Changed, collection.EVENTS.CollectionSorted, what);\n            return this;\n        };\n        /**\n        Devuelve true si hay algun elemento que cumpla con la condici坦n\n        @method some\n        @param {Function} condicion\n        */\n        collection.prototype.some = function (condition) {\n            if ('some' in this.array)\n                return this.array.some(condition);\n            for (var i = 0; i < this.array.length; i++)\n                if (i in this && condition.call(arguments[1], this[i], i, this))\n                    return true;\n            return false;\n        };\n        /**\n         *\tDevuelve una coleccion de elementos que cumplan con la condici坦n. Tambi辿n se puede llamar usando dos argumentos\n         *\t\t\t.where('Campo', 3)\n         *\tY va a devolver una colecci坦n con totos los elementos de la primera que tengan Campo == 3\n         *\t@method where\n         *\t@param {Function|MzDelegate} condicion\n         */\n        collection.prototype.where = function (campoOCondicion, valorCampo) {\n            if (typeof campoOCondicion === \"string\") {\n                var arr = new collection();\n                for (var i = 0; i < this.array.length; i++)\n                    if ((i in this.array) && this.array[i][campoOCondicion] == arguments[1])\n                        arr.push(this.array[i]);\n                return arr;\n            }\n            else {\n                if (this.array.length >= 10000) {\n                    var fn = mz.compileFilter(campoOCondicion);\n                    return new mz.collection(fn(this.array));\n                }\n                if (this.array.filter)\n                    return new collection(this.array.filter(campoOCondicion));\n                var arr = new collection();\n                for (var i = 0; i < this.array.length; i++)\n                    if ((i in this.array) && campoOCondicion(this.array[i]))\n                        arr.push(this.array[i]);\n                return arr;\n            }\n        };\n        /**\n        Remueve un elemento buscandolo por clave\n        @method removeByKey\n        @param {String} key\n        */\n        collection.prototype.removeByKey = function (key) {\n            var indice = this.indexedGetIndex(key);\n            if (indice != -1)\n                return this.removeAt(indice);\n        };\n        /**\n        Remueve el elemento pasado, o varios elementos en base a una condici坦n.\n\n        - Si se pasa el elemento para remover && la colecci坦n tiene clave primaria se va a remover por clave y no por referencia del objeto.\n        - Si se pasa uno solo y hay varios elementos que matchean o esta repetido en la colecci坦n se va a remover el ultimo.\n        - De esta forma se desencadena el evento \"remove_at\" y \"changed\" con los mismos argumentos\n\n        Si se pasa una c坦ndici坦n, el m辿todo devuelve una colecci坦n con los elementos quitados.\n\n        - De esta forma se desencadena el evento \"removed\" y \"changed\" con los mismos argumentos\n\n        @method remove\n        @param {Mixed} condicion/elemento\n        */\n        collection.prototype.remove = function (condicion) {\n            var fn = condicion;\n            var tipo = typeof fn;\n            if (arguments.length == 1) {\n                var cual = -1;\n                if (this.opciones.key && this.opciones.key in fn) {\n                    cual = this.indexedGetIndex(fn[this.opciones.key]);\n                    if (cual !== -1 && fn !== this.getAt(cual)) {\n                        cual = -1;\n                    }\n                }\n                if (cual == -1)\n                    cual = this.lastIndexOf(fn);\n                if (cual != -1) {\n                    return [this.removeAt(cual)];\n                }\n                if (tipo == 'object' || tipo == 'number' || tipo == 'boolean')\n                    return null;\n            }\n            if (tipo === 'function') {\n                var sacadas = [];\n                for (var i = 0; i < this.array.length; i++) {\n                    if (i in this.array) {\n                        if (condicion(this.array[i])) {\n                            sacadas.push({\n                                i: i,\n                                e: this.array[i]\n                            });\n                        }\n                    }\n                }\n                var that = this;\n                var salida = [];\n                if (sacadas.length) {\n                    sacadas.forEach(function (e) {\n                        that.remove(e.e);\n                        salida.push(e.e);\n                    });\n                    this.emit(collection.EVENTS.ElementRangeRemoved, salida);\n                    this.emit(collection.EVENTS.Changed, collection.EVENTS.ElementRangeRemoved, salida);\n                }\n                return salida;\n            }\n        };\n        collection.prototype.single = function (field, value) {\n            if (arguments.length == 2 && typeof field == \"string\") {\n                //Busco por el indice\n                if (this.opciones.key) {\n                    if (field === this.opciones.key) {\n                        if (arguments[1] in this.__indice__) {\n                            var tmp = this.array[this.__indice__[arguments[1]]];\n                            if (tmp && tmp[field] == arguments[1])\n                                return tmp;\n                        }\n                    }\n                }\n                for (var i = 0; i < this.array.length; i++)\n                    if (this.array[i] && this.array[i][field] == arguments[1])\n                        return this.array[i];\n            }\n            else {\n                for (var i = 0; i < this.array.length; i++)\n                    if (this.array[i] && field(this.array[i]))\n                        return this.array[i];\n            }\n            return null;\n        };\n        /**\n        Devuelve true si la coleccion contiene el elemento (busca por referencia, tiene que ser EL MISMO)\n        @method contains\n        @param {Object} elemento\n        */\n        collection.prototype.contains = function (elem) {\n            return this.array.indexOf(elem) != -1;\n        };\n        /**\n        Devuelve true si la coleccion contiene la clave\n        @method containsKey\n        @param {String} key\n        */\n        collection.prototype.containsKey = function (key) {\n            if (this.opciones.key) {\n                return (key in this.__indice__);\n            }\n            else {\n                throw \"La coleccion no tiene key\";\n            }\n        };\n        /**\n        Devuelve el indice de la primer ocurrencia del elemento. Si no lo encuentra devuelve -1\n        @method indexOf\n        @param {Object} elemento\n        */\n        collection.prototype.indexOf = function (elem) { return this.array.indexOf(elem); };\n        /**\n        Devuelve el indice de la 炭ltima ocurrencia del elemento. Si no lo encuentra devuelve -1\n        @method lastIndexOf\n        @param {Object} elemento\n        */\n        collection.prototype.lastIndexOf = function (elem) { return this.array.lastIndexOf(elem); };\n        /**\n        Crea un array y lo llena con el contenido de la colecci坦n\n        @method toArray\n        */\n        collection.prototype.toArray = function () {\n            var t = [];\n            for (var i = 0; i < this.array.length; i++)\n                (i in this.array) && t.push(this.array[i]);\n            return t;\n        };\n        /**\n        Clona la colecci坦n. Las referencias a los objetos van a ser las mismas.\n        @method clone\n        */\n        collection.prototype.clone = function () {\n            var coll = new collection(null, mz.copy(this.opciones));\n            for (var i = 0; i < this.array.length; i++)\n                (i in this.array) && coll.push(this.array[i]);\n            return coll;\n        };\n        /**\n        Obtiene un elemento buscando en el indice interno por clave primaria\n        @method indexedGet\n        @param {String} key\n        */\n        collection.prototype.indexedGet = function (key) {\n            if (this.opciones.key) {\n                if (key in this.__indice__)\n                    return this.array[this.__indice__[key]];\n            }\n            return null;\n        };\n        /**\n        Obtiene el 鱈ndice un elemento buscando en el indice interno por clave primaria\n        @method indexedGetIndex\n        @param {String} key\n        */\n        collection.prototype.indexedGetIndex = function (key) {\n            if (this.opciones.key) {\n                if (key in this.__indice__)\n                    return this.__indice__[key];\n            }\n            return -1;\n        };\n        /**\n        Hace un merge de un elemento dentro de la colecci坦n. Busca el elemento por clave primaria y actualiza sus prupiedades copiandole los nuevos campos. Si no lo encuentra lo inserta.\n        @method mergeElem\n        @param {Object} elem\n        */\n        collection.prototype.mergeElem = function (elem) {\n            if (this.opciones.key) {\n                if (!(this.opciones.key in elem)) {\n                    throw new Error(\"El elemento no contiene la clave primaria\");\n                }\n                var indice = this.indexedGetIndex(elem[this.opciones.key]);\n                if (indice != -1) {\n                    mz.copy(this.array[indice], elem);\n                    this.updateIndex(indice);\n                    return this.array[indice];\n                }\n                else {\n                    this.push(elem);\n                    return elem;\n                }\n            }\n        };\n        /**\n            Buscar el o los elementos mas grandes\n            @method max\n            @param {Mixed} opciones\n            @param {Mixed} opciones.groupBy Si se van a agrupar los elementos\n            @param {Array de strings} opciones.exclude Si no se quiere sumarizar algunos campos\n            @param {Array de strings} opciones.filtroCampos Si se quiere especificar en cuales campos se va a sumarizar\n            */\n        collection.prototype.max = function (opc) {\n            var result = [];\n            var groupByField = opc.groupBy || null;\n            var sumarizarSubSet = function (col) {\n                var out = null;\n                col.forEach(function (elem) {\n                    if (out) {\n                        for (var i in elem) {\n                            if (groupByField != i && typeof elem[i] == 'number' && (typeof out[i] == 'number' || typeof out[i] == 'undefined') && (!opc || ((!opc.filtroCampos || opc.filtroCampos.indexOf(i) != -1) && (!opc.exclude || opc.exclude.indexOf(i) == -1)))) {\n                                if (elem[i] != null && (!(i in out) || out[i] < elem[i]))\n                                    out[i] = elem[i];\n                            }\n                        }\n                    }\n                    else {\n                        out = {};\n                        groupByField && (out[groupByField] = elem[groupByField]);\n                        for (var i in elem) {\n                            if (groupByField != i && typeof elem[i] == 'number' && (!opc || ((!opc.filtroCampos || opc.filtroCampos.indexOf(i) != -1) && (!opc.exclude || opc.exclude.indexOf(i) == -1)))) {\n                                out[i] = elem[i];\n                            }\n                        }\n                    }\n                });\n                return out;\n            };\n            if (groupByField == null)\n                return sumarizarSubSet(this);\n            var subsets = this.groupBy(groupByField);\n            for (var i in subsets) {\n                result.push(sumarizarSubSet(subsets[i]));\n            }\n            return result;\n        };\n        /**\n            Buscar el o los elementos mas chicos\n            @method min\n            @param {Mixed} opciones\n            @param {Mixed} opciones.groupBy Si se van a agrupar los elementos\n            @param {Array de strings} opciones.exclude Si no se quiere sumarizar algunos campos\n            @param {Array de strings} opciones.filtroCampos Si se quiere especificar en cuales campos se va a sumarizar\n            */\n        collection.prototype.min = function (opc) {\n            var result = [];\n            var groupByField = opc.groupBy || null;\n            var sumarizarSubSet = function (col) {\n                var out = null;\n                col.forEach(function (elem) {\n                    if (out) {\n                        for (var i in elem) {\n                            if (groupByField != i && typeof elem[i] == 'number' && (typeof out[i] == 'number' || typeof out[i] == 'undefined') && (!opc || ((!opc.filtroCampos || opc.filtroCampos.indexOf(i) != -1) && (!opc.exclude || opc.exclude.indexOf(i) == -1)))) {\n                                if (elem[i] != null && (!(i in out) || out[i] > elem[i]))\n                                    out[i] = elem[i];\n                            }\n                        }\n                    }\n                    else {\n                        out = {};\n                        groupByField && (out[groupByField] = elem[groupByField]);\n                        for (var i in elem) {\n                            if (groupByField != i && typeof elem[i] == 'number' && (!opc || ((!opc.filtroCampos || opc.filtroCampos.indexOf(i) != -1) && (!opc.exclude || opc.exclude.indexOf(i) == -1)))) {\n                                out[i] = elem[i];\n                            }\n                        }\n                    }\n                });\n                return out;\n            };\n            if (groupByField == null)\n                return sumarizarSubSet(this);\n            var subsets = this.groupBy(groupByField);\n            for (var i in subsets) {\n                result.push(sumarizarSubSet(subsets[i]));\n            }\n            return result;\n        };\n        /**\n        Promedio de los elementos.\n    \n        Cada elemento de el array de retorno tiene adem叩s la propiedad '[[cantidad]]' que indica la cantidad de elementos de ese subconjunto.\n        @method avg\n        @param {Mixed} opciones\n        @param {Mixed} opciones.groupBy Si se van a agrupar los elementos\n        @param {Array de strings} opciones.exclude Si no se quiere sumarizar algunos campos\n        @param {Array de strings} opciones.filtroCampos Si se quiere especificar en cuales campos se va a sumarizar\n        */\n        collection.prototype.avg = function (opc) {\n            var that = this;\n            var suma = this.sum(opc);\n            for (var fila in suma) {\n                for (var campo in suma[fila]) {\n                    if (campo == '[[cantidad]]' || campo == opc.groupBy)\n                        continue;\n                    suma[fila][campo] /= suma[fila]['[[cantidad]]'];\n                }\n            }\n            return suma;\n        };\n        collection.prototype.take = function (cantidad, from) {\n            if (from === void 0) { from = 0; }\n            var ret = [];\n            this.takeInto(ret, cantidad, from);\n            return ret;\n        };\n        collection.prototype.takeInto = function (destino, cantidad, from) {\n            if (from === void 0) { from = 0; }\n            var hasta = Math.min(this.array.length + cantidad, this.array.length);\n            from = mz.intval(from);\n            var outer_i = 0;\n            for (var i = from; i < hasta; i++)\n                destino.push(this.array[i]);\n            return this;\n        };\n        collection.prototype.swapItems = function (primero, segundo) {\n            var viejo = this.array[segundo];\n            this.array[segundo] = this.array[primero];\n            this.array[primero] = viejo;\n            this._reindizar();\n            this.emit(collection.EVENTS.Changed, collection.EVENTS.CollectionSorted);\n            this.emit(collection.EVENTS.Changed, 'swap', primero, segundo);\n            return this;\n        };\n        collection.prototype.count = function (groupBy) {\n            var fn;\n            if (typeof groupBy == 'function') {\n                fn = groupBy;\n            }\n            var result = [];\n            var that = this;\n            if (fn) {\n                var grupos = {};\n                this.forEach(function (elem) {\n                    var gb = fn(elem);\n                    if (!(gb in grupos)) {\n                        var obj = {\n                            'Count': 0\n                        };\n                        obj['[[cantidad]]'] = 0;\n                        grupos[gb] = obj;\n                    }\n                    grupos[gb]['[[cantidad]]']++;\n                });\n                for (var i in grupos) {\n                    grupos[i].Count = grupos[i]['[[cantidad]]'];\n                    grupos[i][groupBy.toString()] = i;\n                    result.push(grupos[i]);\n                }\n            }\n            else {\n                var out = {\n                    Count: 0\n                };\n                out['[[cantidad]]'] = this.array.length;\n                out.Count = out['[[cantidad]]'];\n                result.push(out);\n            }\n            return result;\n        };\n        /** Reverses the actual collections order */\n        collection.prototype.reverse = function () {\n            this.array.reverse();\n            this.emit(collection.EVENTS.CollectionSorted);\n            this.emit(collection.EVENTS.Changed, collection.EVENTS.CollectionSorted);\n        };\n        /**\n         * Mergea una colecci坦n contra un array o colecci坦n. cuando eliminarNoMatcheados == true, Hace una intersecci坦n\n         * - Merged = (Original  New) + (New  Original)\n         * En todos los casos se va a llamar un evento changed del tipo insert_at, set_at o remove_at dependiendo de la operaci坦n.\n         */\n        collection.prototype.mergeArray = function (array, eliminarNoMatcheados) {\n            var ret = {\n                added: [],\n                removed: []\n            };\n            if (this.opciones.key) {\n                var keys = {};\n                var that = this;\n                array.forEach(function (elem, index) {\n                    if (!(that.opciones.key in elem)) {\n                        throw new TypeError(\"El elemento no contiene la clave primaria\");\n                    }\n                    var indice = that.indexedGetIndex(elem[that.opciones.key]);\n                    keys[elem[that.opciones.key]] = true;\n                    if (indice != -1) {\n                        mz.copy(that.array[indice], elem);\n                        that.updateIndex(indice);\n                    }\n                    else {\n                        that.push(elem);\n                        ret.added.push(elem);\n                    }\n                });\n                if (eliminarNoMatcheados) {\n                    ret.removed = that.remove(function (elem) {\n                        return !(elem[that.opciones.key] in keys);\n                    });\n                }\n            }\n            else\n                console.error(\"You cannot mergeArray if the collection does not have 'key'\");\n            return ret;\n        };\n        collection.prototype.createView = function () {\n            return new collectionView(this, mz.copy(this.opciones));\n        };\n        /**\n         * Usar con cuidado.\n         */\n        collection.prototype.getPrivateArray = function () { return this.array; };\n        collection.EVENTS = mz.copy({\n            BeforeClearCollection: 'pre_clear',\n            AfterClearCollection: 'clear',\n            Changed: 'changed',\n            ElementInserted: 'insert_at',\n            ElementChanged: 'set_at',\n            ElementRemoved: 'remove_at',\n            ElementRangeInserted: 'addRange',\n            CollectionSorted: 'sorted',\n            ElementRangeRemoved: 'removed'\n        }, mz.MVCObject.EVENTS);\n        __decorate([\n            mz.MVCObject.proxy, \n            __metadata('design:type', Boolean)\n        ], collection.prototype, \"agregandoLote\", void 0);\n        return collection;\n    })(mz.MVCObject);\n    mz.collection = collection;\n    var collectionView = (function (_super) {\n        __extends(collectionView, _super);\n        function collectionView(base, opc) {\n            var _this = this;\n            _super.call(this, null, opc);\n            this.set('filter', null);\n            this.set('order', null);\n            this.on('filter_changed', function (nuevo, viejo) {\n                _this._handleChanged('filter', nuevo, viejo);\n            });\n            this.on('order_changed', function (nuevo, viejo) {\n                _this._handleChanged('order', nuevo, viejo);\n            });\n            this.attachTo(base);\n        }\n        collectionView.prototype._handleChanged = function (tipo, nuevo, viejo) {\n            var necesitoReOrdenar = tipo == 'order' || tipo == collection.EVENTS.CollectionSorted || tipo == 'insert_at' || tipo == 'set_at' || tipo == 'addRange';\n            if (tipo == 'clear') {\n                this.clear();\n                necesitoReOrdenar = false;\n            }\n            if (tipo == 'addRange' || tipo == 'filter') {\n                this._remake();\n                necesitoReOrdenar = true;\n            }\n            if (necesitoReOrdenar) {\n                this.resort();\n            }\n        };\n        collectionView.prototype._remake = function (noTriggerear) {\n            this.clear(noTriggerear);\n            if (this.get('parent')) {\n                var arr = this.get('parent').getPrivateArray();\n                var filtro = this.get('filter');\n                if (filtro) {\n                    for (var i in arr)\n                        if (filtro.call(this, arr[i]))\n                            this.push(arr[i], noTriggerear);\n                }\n                else\n                    for (var i in arr)\n                        this.push(arr[i], noTriggerear);\n            }\n            this.resort();\n        };\n        collectionView.prototype.resort = function () {\n            var orden = this.get('order');\n            if (orden) {\n                var vieja = [];\n                for (var i in this.array)\n                    vieja[i] = this.array[i];\n                var fn = orden.q ? mz.data.order.build(orden.q) : null;\n                if (fn) {\n                    if (orden.desc)\n                        this.array.sort(function (a, b) {\n                            return -fn(a, b);\n                        });\n                    else\n                        this.array.sort(fn);\n                }\n                else {\n                    this.array.sort();\n                    orden.desc && this.array.reverse();\n                }\n                for (var i in this.array) {\n                    if (this.array[i] !== vieja[i]) {\n                        this._reindizar();\n                        this.emit(collection.EVENTS.CollectionSorted, orden.q, orden.desc ? 'DESC' : 'ASC');\n                        this.emit(collection.EVENTS.Changed, collection.EVENTS.CollectionSorted, orden.q);\n                        break;\n                    }\n                }\n            }\n        };\n        collectionView.prototype.refresh = function () {\n            this._remake();\n        };\n        collectionView.prototype.filter = function (filter) {\n            this.set('filter', filter);\n            return this;\n        };\n        collectionView.prototype.orderBy = function (q) {\n            this.set('order', {\n                q: q,\n                desc: false\n            });\n            return this;\n        };\n        collectionView.prototype.orderByDesc = function (q) {\n            this.set('order', {\n                q: q,\n                desc: true\n            });\n            return this;\n        };\n        collectionView.prototype.attachTo = function (obj) {\n            this.detach();\n            this.set('bindeosParent', []);\n            this.set('parent', obj);\n            if (obj) {\n                var that = this;\n                this.get('bindeosParent').push(obj.on('clear', function (noPropagado) {\n                    if (noPropagado) {\n                        that.clear(noPropagado);\n                    }\n                }));\n                this.get('bindeosParent').push(obj.on('pre_clear', function (noPropagado) {\n                    that.trigger('pre_clear', noPropagado);\n                }));\n                this.get('bindeosParent').push(obj.on('changed', function (tipo, a1, a2) {\n                    if ((tipo == 'insert_at' || tipo == 'set_at') && obj.get('agregandoLote'))\n                        return;\n                    var filter = that.get('filter');\n                    if (tipo == 'insert_at' || tipo == 'set_at' || tipo == 'remove_at') {\n                        var indice = that.indexOf(a2);\n                        if (!filter || filter(a2)) {\n                            switch (tipo) {\n                                case 'insert_at':\n                                    if (indice == -1) {\n                                        that.push(a2);\n                                        that.resort();\n                                    }\n                                    return;\n                                case 'set_at':\n                                    if (indice != -1) {\n                                        that.updateIndex(indice);\n                                    }\n                                    else {\n                                        that.push(a2);\n                                    }\n                                    that.resort();\n                                    return;\n                                case 'remove_at':\n                                    if (indice != -1) {\n                                        that.removeAt(indice);\n                                        return;\n                                    }\n                            }\n                        }\n                        else {\n                            if (indice != -1) {\n                                that.removeAt(indice);\n                                return;\n                            }\n                        }\n                    }\n                    if (tipo == 'refresh') {\n                        that._remake();\n                        return;\n                    }\n                    that._handleChanged.apply(that, arguments);\n                }));\n                this._remake();\n            }\n        };\n        collectionView.prototype.detach = function () {\n            if (this.get('bindeosParent') && this.get('parent')) {\n                this.clear();\n                var bindeos = this.get('bindeosParent');\n                for (var i in bindeos)\n                    bindeos[i].off();\n                bindeos.length = 0;\n                this.set('bindeosParent', null);\n                this.set('parent', null);\n            }\n        };\n        return collectionView;\n    })(collection);\n    mz.collectionView = collectionView;\n})(mz || (mz = {}));\nvar mz;\n(function (mz) {\n    var core;\n    (function (core) {\n        var dom;\n        (function (dom) {\n            function setRootDomAdapter(theAdapter) {\n                if (!dom.adapter) {\n                    mz.scriptBase = theAdapter.getBaseHref() || '';\n                    dom.adapter = theAdapter;\n                }\n            }\n            dom.setRootDomAdapter = setRootDomAdapter;\n        })(dom = core.dom || (core.dom = {}));\n    })(core = mz.core || (mz.core = {}));\n})(mz || (mz = {}));\n/// <reference path=\"../../mz.ts\" />\n/// <reference path=\"../DOM.ts\" />\nvar mz;\n(function (mz) {\n    var core;\n    (function (core) {\n        var dom;\n        (function (dom) {\n            /* tslint:disable:requireParameterType */\n            /**\n             * Provides DOM operations in an environment-agnostic way.\n             */\n            var AbstractDomAdapter = (function () {\n                function AbstractDomAdapter() {\n                }\n                return AbstractDomAdapter;\n            })();\n            dom.AbstractDomAdapter = AbstractDomAdapter;\n        })(dom = core.dom || (core.dom = {}));\n    })(core = mz.core || (mz.core = {}));\n})(mz || (mz = {}));\n/// <reference path=\"DOM.ts\" />\nvar mz;\n(function (mz) {\n    var core;\n    (function (core) {\n        var dom;\n        (function (dom) {\n            var _attrToPropMap = {\n                'class': 'className',\n                'innerHtml': 'innerHTML',\n                'readonly': 'readOnly',\n                'tabindex': 'tabIndex'\n            };\n            var DOM_KEY_LOCATION_NUMPAD = 3;\n            // Map to convert some key or keyIdentifier values to what will be returned by getEventKey\n            var _keyMap = {\n                // The following values are here for cross-browser compatibility and to match the W3C standard\n                // cf http://www.w3.org/TR/DOM-Level-3-Events-key/\n                '\\b': 'Backspace',\n                '\\t': 'Tab',\n                '\\x7F': 'Delete',\n                '\\x1B': 'Escape',\n                'Del': 'Delete',\n                'Esc': 'Escape',\n                'Left': 'ArrowLeft',\n                'Right': 'ArrowRight',\n                'Up': 'ArrowUp',\n                'Down': 'ArrowDown',\n                'Menu': 'ContextMenu',\n                'Scroll': 'ScrollLock',\n                'Win': 'OS'\n            };\n            // There is a bug in Chrome for numeric keypad keys:\n            // https://code.google.com/p/chromium/issues/detail?id=155654\n            // 1, 2, 3 ... are reported as A, B, C ...\n            var _chromeNumKeyPadMap = {\n                'A': '1',\n                'B': '2',\n                'C': '3',\n                'D': '4',\n                'E': '5',\n                'F': '6',\n                'G': '7',\n                'H': '8',\n                'I': '9',\n                'J': '*',\n                'K': '+',\n                'M': '-',\n                'N': '.',\n                'O': '/',\n                '\\x60': '0',\n                '\\x90': 'NumLock'\n            };\n            /**\n             * Provides DOM operations in any browser environment.\n             */\n            var GenericBrowserDomAdapter = (function (_super) {\n                __extends(GenericBrowserDomAdapter, _super);\n                function GenericBrowserDomAdapter() {\n                    _super.call(this);\n                    this._animationPrefix = null;\n                    this._transitionEnd = null;\n                    try {\n                        var element = this.createElement('div', this.defaultDoc());\n                        if ((this.getStyle(element, 'animationName'))) {\n                            this._animationPrefix = '';\n                        }\n                        else {\n                            var domPrefixes = ['Webkit', 'Moz', 'O', 'ms'];\n                            for (var i = 0; i < domPrefixes.length; i++) {\n                                if ((this.getStyle(element, domPrefixes[i] + 'AnimationName'))) {\n                                    this._animationPrefix = '-' + (domPrefixes[i].toLowerCase()) + '-';\n                                    break;\n                                }\n                            }\n                        }\n                        var transEndEventNames = {\n                            WebkitTransition: 'webkitTransitionEnd',\n                            MozTransition: 'transitionend',\n                            OTransition: 'oTransitionEnd otransitionend',\n                            transition: 'transitionend'\n                        };\n                        for (var key in transEndEventNames) {\n                            if (this.getStyle(element, key)) {\n                                this._transitionEnd = transEndEventNames[key];\n                            }\n                        }\n                        ;\n                    }\n                    catch (e) {\n                        this._animationPrefix = null;\n                        this._transitionEnd = null;\n                    }\n                }\n                GenericBrowserDomAdapter.prototype.getDistributedNodes = function (el) { return el.getDistributedNodes(); };\n                GenericBrowserDomAdapter.prototype.resolveAndSetHref = function (el, baseUrl, href) {\n                    el.href = href == null ? baseUrl : baseUrl + '/../' + href;\n                };\n                GenericBrowserDomAdapter.prototype.supportsDOMEvents = function () { return true; };\n                GenericBrowserDomAdapter.prototype.supportsNativeShadowDOM = function () {\n                    return typeof (this.defaultDoc().body.createShadowRoot) == \"function\";\n                };\n                GenericBrowserDomAdapter.prototype.getAnimationPrefix = function () {\n                    return (!!this._animationPrefix) ? this._animationPrefix : \"\";\n                };\n                GenericBrowserDomAdapter.prototype.getTransitionEnd = function () { return (!!this._transitionEnd) ? this._transitionEnd : \"\"; };\n                GenericBrowserDomAdapter.prototype.supportsAnimation = function () {\n                    return (!!this._animationPrefix) && (!!this._transitionEnd);\n                };\n                GenericBrowserDomAdapter.prototype.getXHR = function () { return new XMLHttpRequest; };\n                return GenericBrowserDomAdapter;\n            })(dom.AbstractDomAdapter);\n            dom.GenericBrowserDomAdapter = GenericBrowserDomAdapter;\n            /* tslint:disable:requireParameterType */\n            var BrowserDomAdapter = (function (_super) {\n                __extends(BrowserDomAdapter, _super);\n                function BrowserDomAdapter() {\n                    _super.apply(this, arguments);\n                }\n                BrowserDomAdapter.prototype.parse = function (templateHtml) { throw new Error(\"parse not implemented\"); };\n                BrowserDomAdapter.makeCurrent = function () { dom.setRootDomAdapter(new BrowserDomAdapter()); };\n                BrowserDomAdapter.prototype.hasProperty = function (element, name) { return name in element; };\n                BrowserDomAdapter.prototype.setProperty = function (el, name, value) { el[name] = value; };\n                BrowserDomAdapter.prototype.getProperty = function (el, name) { return el[name]; };\n                BrowserDomAdapter.prototype.invoke = function (el, methodName, args) {\n                    el[methodName].apply(el, args);\n                };\n                // TODO(tbosch): move this into a separate environment class once we have it\n                BrowserDomAdapter.prototype.logError = function (error) {\n                    if (console.error) {\n                        console.error(error);\n                    }\n                    else {\n                        console.log(error);\n                    }\n                };\n                BrowserDomAdapter.prototype.log = function (error) { console.log(error); };\n                BrowserDomAdapter.prototype.logGroup = function (error) {\n                    if (console.group) {\n                        console.group(error);\n                        this.logError(error);\n                    }\n                    else {\n                        console.log(error);\n                    }\n                };\n                BrowserDomAdapter.prototype.logGroupEnd = function () {\n                    if (console.groupEnd) {\n                        console.groupEnd();\n                    }\n                };\n                Object.defineProperty(BrowserDomAdapter.prototype, \"attrToPropMap\", {\n                    get: function () { return _attrToPropMap; },\n                    enumerable: true,\n                    configurable: true\n                });\n                BrowserDomAdapter.prototype.query = function (selector) { return document.querySelector(selector); };\n                BrowserDomAdapter.prototype.querySelector = function (el, selector) { return el.querySelector(selector); };\n                BrowserDomAdapter.prototype.querySelectorAll = function (el, selector) { return el.querySelectorAll(selector); };\n                BrowserDomAdapter.prototype.on = function (el, evt, listener) { el.addEventListener(evt, listener, false); };\n                BrowserDomAdapter.prototype.onAndCancel = function (el, evt, listener) {\n                    el.addEventListener(evt, listener, false);\n                    // Needed to follow Dart's subscription semantic, until fix of\n                    // https://code.google.com/p/dart/issues/detail?id=17406\n                    return function () { el.removeEventListener(evt, listener, false); };\n                };\n                BrowserDomAdapter.prototype.dispatchEvent = function (el, evt) { el.dispatchEvent(evt); };\n                BrowserDomAdapter.prototype.createMouseEvent = function (eventType) {\n                    var evt = document.createEvent('MouseEvent');\n                    evt.initEvent(eventType, true, true);\n                    return evt;\n                };\n                BrowserDomAdapter.prototype.createEvent = function (eventType) {\n                    var evt = document.createEvent('Event');\n                    evt.initEvent(eventType, true, true);\n                    return evt;\n                };\n                BrowserDomAdapter.prototype.preventDefault = function (evt) {\n                    evt.preventDefault();\n                    evt.returnValue = false;\n                };\n                BrowserDomAdapter.prototype.isPrevented = function (evt) {\n                    return evt.defaultPrevented || !!(evt.returnValue) && !evt.returnValue;\n                };\n                BrowserDomAdapter.prototype.getInnerHTML = function (el) { return el.innerHTML; };\n                BrowserDomAdapter.prototype.getOuterHTML = function (el) { return el.outerHTML; };\n                BrowserDomAdapter.prototype.nodeName = function (node) { return node.nodeName; };\n                BrowserDomAdapter.prototype.nodeValue = function (node) { return node.nodeValue; };\n                BrowserDomAdapter.prototype.type = function (node) { return node.type; };\n                BrowserDomAdapter.prototype.content = function (node) {\n                    if (this.hasProperty(node, \"content\")) {\n                        return node.content;\n                    }\n                    else {\n                        return node;\n                    }\n                };\n                BrowserDomAdapter.prototype.firstChild = function (el) { return el.firstChild; };\n                BrowserDomAdapter.prototype.nextSibling = function (el) { return el.nextSibling; };\n                BrowserDomAdapter.prototype.parentElement = function (el) { return el.parentNode; };\n                BrowserDomAdapter.prototype.childNodes = function (el) { return el.childNodes; };\n                BrowserDomAdapter.prototype.childNodesAsList = function (el) {\n                    var childNodes = el.childNodes;\n                    var res = [];\n                    res.length = childNodes.length;\n                    for (var i = 0; i < childNodes.length; i++) {\n                        res[i] = childNodes[i];\n                    }\n                    return res;\n                };\n                BrowserDomAdapter.prototype.clearNodes = function (el) {\n                    while (el.firstChild) {\n                        el.removeChild(el.firstChild);\n                    }\n                };\n                BrowserDomAdapter.prototype.appendChild = function (el, node) { el.appendChild(node); };\n                BrowserDomAdapter.prototype.removeChild = function (el, node) { el.removeChild(node); };\n                BrowserDomAdapter.prototype.replaceChild = function (el, newChild, oldChild) { el.replaceChild(newChild, oldChild); };\n                BrowserDomAdapter.prototype.remove = function (node) {\n                    if (node.parentNode) {\n                        node.parentNode.removeChild(node);\n                    }\n                    return node;\n                };\n                BrowserDomAdapter.prototype.insertBefore = function (el, node) { el.parentNode.insertBefore(node, el); };\n                BrowserDomAdapter.prototype.insertAllBefore = function (el, nodes) { nodes.forEach(function (n) { return el.parentNode.insertBefore(n, el); }); };\n                BrowserDomAdapter.prototype.insertAfter = function (el, node) { el.parentNode.insertBefore(node, el.nextSibling); };\n                BrowserDomAdapter.prototype.setInnerHTML = function (el, value) { el.innerHTML = value; };\n                BrowserDomAdapter.prototype.getText = function (el) { return el.textContent; };\n                // TODO(vicb): removed Element type because it does not support StyleElement\n                BrowserDomAdapter.prototype.setText = function (el, value) { el.textContent = value; };\n                BrowserDomAdapter.prototype.getValue = function (el) { return el.value; };\n                BrowserDomAdapter.prototype.setValue = function (el, value) { el.value = value; };\n                BrowserDomAdapter.prototype.getChecked = function (el) { return el.checked; };\n                BrowserDomAdapter.prototype.setChecked = function (el, value) { el.checked = value; };\n                BrowserDomAdapter.prototype.createComment = function (text) { return document.createComment(text); };\n                BrowserDomAdapter.prototype.createTemplate = function (html) {\n                    var t = document.createElement('template');\n                    t.innerHTML = html;\n                    return t;\n                };\n                BrowserDomAdapter.prototype.createElement = function (tagName, doc) {\n                    if (doc === void 0) { doc = document; }\n                    return doc.createElement(tagName);\n                };\n                BrowserDomAdapter.prototype.createElementNS = function (ns, tagName, doc) {\n                    if (doc === void 0) { doc = document; }\n                    return doc.createElementNS(ns, tagName);\n                };\n                BrowserDomAdapter.prototype.createTextNode = function (text, doc) {\n                    if (doc === void 0) { doc = document; }\n                    return doc.createTextNode(text);\n                };\n                BrowserDomAdapter.prototype.createScriptTag = function (attrName, attrValue, doc) {\n                    if (doc === void 0) { doc = document; }\n                    var el = doc.createElement('SCRIPT');\n                    el.setAttribute(attrName, attrValue);\n                    return el;\n                };\n                BrowserDomAdapter.prototype.createStyleElement = function (css, doc) {\n                    if (doc === void 0) { doc = document; }\n                    var style = doc.createElement('style');\n                    this.appendChild(style, this.createTextNode(css));\n                    return style;\n                };\n                BrowserDomAdapter.prototype.createShadowRoot = function (el) { return el.createShadowRoot(); };\n                BrowserDomAdapter.prototype.getShadowRoot = function (el) { return el.shadowRoot; };\n                BrowserDomAdapter.prototype.getHost = function (el) { return el.host; };\n                BrowserDomAdapter.prototype.clone = function (node) { return node.cloneNode(true); };\n                BrowserDomAdapter.prototype.getElementsByClassName = function (element, name) {\n                    return element.getElementsByClassName(name);\n                };\n                BrowserDomAdapter.prototype.getElementsByTagName = function (element, name) {\n                    return element.getElementsByTagName(name);\n                };\n                BrowserDomAdapter.prototype.classList = function (element) { return Array.prototype.slice.call(element.classList, 0); };\n                BrowserDomAdapter.prototype.addClass = function (element, classname) { element.classList.add(classname); };\n                BrowserDomAdapter.prototype.removeClass = function (element, classname) { element.classList.remove(classname); };\n                BrowserDomAdapter.prototype.hasClass = function (element, classname) { return element.classList.contains(classname); };\n                BrowserDomAdapter.prototype.setStyle = function (element, stylename, stylevalue) {\n                    element.style[stylename] = stylevalue;\n                };\n                BrowserDomAdapter.prototype.removeStyle = function (element, stylename) { element.style[stylename] = null; };\n                BrowserDomAdapter.prototype.getStyle = function (element, stylename) { return element.style[stylename]; };\n                BrowserDomAdapter.prototype.tagName = function (element) { return element.tagName; };\n                BrowserDomAdapter.prototype.attributeMap = function (element) {\n                    var res = {};\n                    var elAttrs = element.attributes;\n                    for (var i = 0; i < elAttrs.length; i++) {\n                        var attrib = elAttrs[i];\n                        res[attrib.name] = attrib.value;\n                    }\n                    return res;\n                };\n                BrowserDomAdapter.prototype.hasAttribute = function (element, attribute) { return element.hasAttribute(attribute); };\n                BrowserDomAdapter.prototype.getAttribute = function (element, attribute) { return element.getAttribute(attribute); };\n                BrowserDomAdapter.prototype.setAttribute = function (element, name, value) { element.setAttribute(name, value); };\n                BrowserDomAdapter.prototype.setAttributeNS = function (element, ns, name, value) {\n                    element.setAttributeNS(ns, name, value);\n                };\n                BrowserDomAdapter.prototype.removeAttribute = function (element, attribute) { element.removeAttribute(attribute); };\n                BrowserDomAdapter.prototype.templateAwareRoot = function (el) { return this.isTemplateElement(el) ? this.content(el) : el; };\n                BrowserDomAdapter.prototype.createHtmlDocument = function () {\n                    return document.implementation.createHTMLDocument('fakeTitle');\n                };\n                BrowserDomAdapter.prototype.defaultDoc = function () { return document; };\n                BrowserDomAdapter.prototype.getBoundingClientRect = function (el) {\n                    try {\n                        return el.getBoundingClientRect();\n                    }\n                    catch (e) {\n                        return { top: 0, bottom: 0, left: 0, right: 0, width: 0, height: 0 };\n                    }\n                };\n                BrowserDomAdapter.prototype.getTitle = function () { return document.title; };\n                BrowserDomAdapter.prototype.setTitle = function (newTitle) { document.title = newTitle || ''; };\n                BrowserDomAdapter.prototype.elementMatches = function (n, selector) {\n                    var matches = false;\n                    if (n instanceof HTMLElement) {\n                        if (n.matches) {\n                            matches = n.matches(selector);\n                        }\n                        else if (n.msMatchesSelector) {\n                            matches = n.msMatchesSelector(selector);\n                        }\n                        else if (n.webkitMatchesSelector) {\n                            matches = n.webkitMatchesSelector(selector);\n                        }\n                    }\n                    return matches;\n                };\n                BrowserDomAdapter.prototype.isTemplateElement = function (el) {\n                    return el instanceof HTMLElement && el.nodeName == \"TEMPLATE\";\n                };\n                BrowserDomAdapter.prototype.isTextNode = function (node) { return node.nodeType === Node.TEXT_NODE; };\n                BrowserDomAdapter.prototype.isCommentNode = function (node) { return node.nodeType === Node.COMMENT_NODE; };\n                BrowserDomAdapter.prototype.isElementNode = function (node) { return node.nodeType === Node.ELEMENT_NODE; };\n                BrowserDomAdapter.prototype.hasShadowRoot = function (node) { return node instanceof HTMLElement && node.shadowRoot; };\n                BrowserDomAdapter.prototype.isShadowRoot = function (node) { return node instanceof DocumentFragment; };\n                BrowserDomAdapter.prototype.importIntoDoc = function (node) {\n                    var toImport = node;\n                    if (this.isTemplateElement(node)) {\n                        toImport = this.content(node);\n                    }\n                    return document.importNode(toImport, true);\n                };\n                BrowserDomAdapter.prototype.adoptNode = function (node) { return document.adoptNode(node); };\n                BrowserDomAdapter.prototype.getHref = function (el) { return el.href; };\n                BrowserDomAdapter.prototype.getEventKey = function (event) {\n                    var key = event.key;\n                    if (!key) {\n                        key = event.keyIdentifier;\n                        // keyIdentifier is defined in the old draft of DOM Level 3 Events implemented by Chrome and\n                        // Safari\n                        // cf\n                        // http://www.w3.org/TR/2007/WD-DOM-Level-3-Events-20071221/events.html#Events-KeyboardEvents-Interfaces\n                        if (!key) {\n                            return 'Unidentified';\n                        }\n                        if (key.startsWith('U+')) {\n                            key = String.fromCharCode(parseInt(key.substring(2), 16));\n                            if (event.location === DOM_KEY_LOCATION_NUMPAD && _chromeNumKeyPadMap.hasOwnProperty(key)) {\n                                // There is a bug in Chrome for numeric keypad keys:\n                                // https://code.google.com/p/chromium/issues/detail?id=155654\n                                // 1, 2, 3 ... are reported as A, B, C ...\n                                key = _chromeNumKeyPadMap[key];\n                            }\n                        }\n                    }\n                    if (_keyMap.hasOwnProperty(key)) {\n                        key = _keyMap[key];\n                    }\n                    return key;\n                };\n                BrowserDomAdapter.prototype.getGlobalEventTarget = function (target) {\n                    if (target == \"window\") {\n                        return mz.globalContext.window;\n                    }\n                    else if (target == \"document\") {\n                        return document;\n                    }\n                    else if (target == \"body\") {\n                        return document.body;\n                    }\n                };\n                BrowserDomAdapter.prototype.getHistory = function () { return history; };\n                BrowserDomAdapter.prototype.getLocation = function () { return location; };\n                BrowserDomAdapter.prototype.getBaseHref = function () {\n                    var href = getBaseElementHref();\n                    if (!(href)) {\n                        return null;\n                    }\n                    return relativePath(href);\n                };\n                BrowserDomAdapter.prototype.resetBaseElement = function () { baseElement = null; };\n                BrowserDomAdapter.prototype.getUserAgent = function () { return navigator.userAgent; };\n                BrowserDomAdapter.prototype.setData = function (element, name, value) {\n                    this.setAttribute(element, 'data-' + name, value);\n                };\n                BrowserDomAdapter.prototype.getData = function (element, name) { return this.getAttribute(element, 'data-' + name); };\n                BrowserDomAdapter.prototype.getComputedStyle = function (element) { return getComputedStyle(element); };\n                BrowserDomAdapter.prototype.requestAnimationFrame = function (callback) { return requestAnimationFrame(callback); };\n                BrowserDomAdapter.prototype.cancelAnimationFrame = function (id) { cancelAnimationFrame(id); };\n                BrowserDomAdapter.prototype.performanceNow = function () {\n                    // performance.now() is not available in all browsers, see\n                    // http://caniuse.com/#search=performance.now\n                    if (typeof performance != 'undefined' && performance.now) {\n                        return performance.now();\n                    }\n                    else {\n                        return (new Date).getTime() * 1000;\n                    }\n                };\n                return BrowserDomAdapter;\n            })(GenericBrowserDomAdapter);\n            dom.BrowserDomAdapter = BrowserDomAdapter;\n            var baseElement = null;\n            function getBaseElementHref() {\n                if (!(baseElement)) {\n                    baseElement = document.querySelector('base');\n                    if (!(baseElement)) {\n                        return null;\n                    }\n                }\n                return baseElement.getAttribute('href');\n            }\n            // based on urlUtils.js in AngularJS 1\n            var urlParsingNode = null;\n            function relativePath(url) {\n                if (!(urlParsingNode)) {\n                    urlParsingNode = document.createElement(\"a\");\n                }\n                urlParsingNode.setAttribute('href', url);\n                return (urlParsingNode.pathname.charAt(0) === '/') ? urlParsingNode.pathname :\n                    '/' + urlParsingNode.pathname;\n            }\n            BrowserDomAdapter.makeCurrent();\n        })(dom = core.dom || (core.dom = {}));\n    })(core = mz.core || (mz.core = {}));\n})(mz || (mz = {}));\n/// <reference path=\"../mz.ts\" />\nvar mz;\n(function (mz) {\n    var core;\n    (function (core) {\n        var decorators;\n        (function (decorators) {\n            function LogResult(target, key, value) {\n                return {\n                    value: function () {\n                        var args = [];\n                        for (var _i = 0; _i < arguments.length; _i++) {\n                            args[_i - 0] = arguments[_i];\n                        }\n                        var a = args.map(function (a) { return JSON.stringify(a); }).join();\n                        var result = value.value.apply(this, args);\n                        var r = JSON.stringify(result);\n                        console.log(\"LogResult: \" + key + \"(\" + a + \") => \" + r);\n                        return result;\n                    }\n                };\n            }\n            decorators.LogResult = LogResult;\n            function noEnumerable(target, propertyKey, descriptor) {\n                descriptor.enumerable = false;\n                return descriptor;\n            }\n            decorators.noEnumerable = noEnumerable;\n            var delayerCount = 0;\n            function delayer(timeout) {\n                return function (target, propertyKey, descriptor) {\n                    /*let theDelayer = mz.delayer(descriptor.value, timeout);\n                    \n                    descriptor.value = function(){\n                        theDelayer.apply(this, arguments);\n                    };\n                    */\n                    console.error(propertyKey + \": !!ALERTA, LOS DECORADORES mz.core.decorators.delayer & screenDelayer NO FUNCIONAN AUN\");\n                    return descriptor;\n                };\n            }\n            decorators.delayer = delayer;\n            function screenDelayer(target, propertyKey, descriptor) {\n                /*let theDelayer = mz.screenDelayer(descriptor.value);\n                    \n                    descriptor.value = <any>function(){\n                        return (<any>theDelayer).apply(this, arguments);\n                    };\n                  */\n                var originalValue = descriptor.value;\n                var delayerID = \"[[delayer-\" + delayerCount++ + \"]]\";\n                console.error(propertyKey + \": !!ALERTA, LOS DECORADORES mz.core.decorators.delayer & screenDelayer NO FUNCIONAN AUN\");\n                descriptor.value = function () {\n                    var theDelayer = this[delayerID] = this[delayerID] || mz.screenDelayer(originalValue, this);\n                    return theDelayer.apply(this, arguments);\n                };\n                return descriptor;\n            }\n            decorators.screenDelayer = screenDelayer;\n        })(decorators = core.decorators || (core.decorators = {}));\n    })(core = mz.core || (mz.core = {}));\n})(mz || (mz = {}));\n/// <reference path=\"../mz.ts\" />\nvar Reflect;\n(function (Reflect) {\n    var originalMetadata = Reflect.metadata;\n    Reflect.MetadataInfo = Symbol(\"mz.metadata.typings\");\n    var valueSetter = {\n        enumerable: false,\n        writable: false,\n        configurable: false,\n        value: null\n    };\n    function metadata(metadataKey, metadataValue) {\n        if ('design:type' == metadataKey) {\n            if (typeof Reflect.MetadataInfo == \"string\") {\n                return function decorator(target, targetKey) {\n                    var typings = target[Reflect.MetadataInfo];\n                    if (!typings) {\n                        typings = setObjectSymbol(target, Reflect.MetadataInfo, {});\n                    }\n                    typings[targetKey] = metadataValue;\n                    originalMetadata && originalMetadata(metadataKey, metadataValue).apply(this, arguments);\n                };\n            }\n            else {\n                return function decorator(target, targetKey) {\n                    var typings = (target[Reflect.MetadataInfo] = target[Reflect.MetadataInfo] || {});\n                    typings[targetKey] = metadataValue;\n                    originalMetadata && originalMetadata(metadataKey, metadataValue).apply(this, arguments);\n                };\n            }\n        }\n        else\n            return originalMetadata && originalMetadata(metadataKey, metadataValue) || undefined;\n    }\n    Reflect.metadata = metadata;\n    function setObjectSymbol(target, symbol, value) {\n        if (typeof symbol == \"symbol\") {\n            target[symbol] = value;\n        }\n        else {\n            valueSetter.value = value;\n            Object.defineProperty(target, symbol.toString(), valueSetter);\n        }\n        return value;\n    }\n    Reflect.setObjectSymbol = setObjectSymbol;\n})(Reflect || (Reflect = {}));\n/// <reference path=\"AMD/Require.ts\" />\nvar mz;\n(function (mz) {\n    mz.route = {\n        start: function (options, cb) {\n            var b = mz.require(\"backbone\");\n            mz.route = mz.route = new (b.Router.extend(options))();\n            b.history.start();\n            mz.route.start = function (a, b) {\n                b && b(mz.route);\n            };\n            console.log(\"Backbone loaded! Route started!\", mz.route);\n            cb && cb(mz.route);\n        }\n    };\n})(mz || (mz = {}));\n/// <reference path=\"../mz.ts\" />\nvar mz;\n(function (mz) {\n    var css;\n    (function (css) {\n        var _estilos_guardados = {};\n        var _hoja_estilo = $('<link rel=\"stylesheet\" type=\"text/css\">');\n        $(function () {\n            _hoja_estilo.appendTo(\"body\");\n        });\n        var _acum_estilos = (Math.random() * 32565) | 0;\n        var _reescribir_css = mz.delayer(function () {\n            var buffer = '';\n            for (var i in _estilos_guardados) {\n                buffer += i + ' {';\n                for (var e in _estilos_guardados[i]) {\n                    var value = _estilos_guardados[i][e];\n                    if (typeof value === \"number\" && !jQuery.cssNumber[e]) {\n                        value += \"px\";\n                    }\n                    buffer += e + ': ' + value + ';';\n                }\n                buffer += '}';\n            }\n            _hoja_estilo.attr('href', 'data:text/css;base64,' + btoa(buffer));\n        }, 16);\n        function set(selectorOrValues, selectorValues) {\n            var nueva = false;\n            var nombre_clase = '';\n            if (!isDef(selectorValues)) {\n                if (mz.isIterable(selectorOrValues)) {\n                    var array_clases = [];\n                    for (var i in selectorOrValues) {\n                        if (typeof selectorOrValues[i] != \"object\") {\n                            nueva = true;\n                            break;\n                        }\n                        mz.copy(_estilos_guardados[i] = (_estilos_guardados[i] || {}), selectorOrValues[i]);\n                        array_clases.push(i);\n                    }\n                    nombre_clase = array_clases.join(\" \");\n                }\n                if (nueva === true) {\n                    nombre_clase = '.-mzcss-' + (_acum_estilos++).toString(32);\n                    set(nombre_clase, selectorOrValues);\n                }\n            }\n            else {\n                nombre_clase = selectorOrValues;\n                mz.copy(_estilos_guardados[selectorOrValues] = (_estilos_guardados[selectorOrValues] || {}), selectorValues);\n            }\n            _reescribir_css();\n            if (nombre_clase.indexOf(\".\") != -1) {\n                return nombre_clase.replace(\".\", \"\");\n            }\n            else {\n                return null;\n            }\n        }\n        css.set = set;\n        var Stylesheet = (function () {\n            function Stylesheet(prefix) {\n                var _this = this;\n                this.prefix = null;\n                this.elem = $('<link rel=\"stylesheet\" type=\"text/css\">');\n                this.estilo = {};\n                this.remake = null;\n                this.destino = 'body';\n                if (prefix instanceof jQuery) {\n                    this.destino = prefix;\n                    prefix = ':host';\n                }\n                this.prefix = prefix;\n                $(function () {\n                    _this.enable();\n                });\n            }\n            Stylesheet.prototype.enable = function () {\n                this.elem.appendTo(this.destino);\n            };\n            Stylesheet.prototype.disable = function () {\n                this.elem.remove();\n            };\n            Stylesheet.prototype.refresh = function () {\n                if (!this.remake) {\n                    var that = this;\n                    this.remake = mz.delayer(function () {\n                        var buffer = '';\n                        for (var i in that.estilo) {\n                            buffer += (that.prefix ? that.prefix + ' ' : '') + i + ' {';\n                            for (var e in that.estilo[i]) {\n                                var value = that.estilo[i][e];\n                                if (typeof value === \"number\" && !jQuery.cssNumber[e]) {\n                                    value += \"px\";\n                                }\n                                buffer += e + ': ' + value + ';';\n                            }\n                            buffer += '}';\n                        }\n                        that.elem.attr('href', 'data:text/css;base64,' + btoa(buffer));\n                    }, 9);\n                }\n                this.remake();\n            };\n            Stylesheet.prototype.set = function (property, val) {\n                this.estilo[property] = this.estilo[property] || {};\n                mz.copy(this.estilo[property], val);\n                this.refresh();\n            };\n            return Stylesheet;\n        })();\n        css.Stylesheet = Stylesheet;\n    })(css = mz.css || (mz.css = {}));\n})(mz || (mz = {}));\nvar mz;\n(function (mz) {\n    var view;\n    (function (view) {\n        // riot!.js\n        var brackets = (function (orig) {\n            var cachedBrackets, r, b, re = /[{}]/g;\n            return function (x) {\n                // make sure we use the current setting\n                var s = orig;\n                // recreate cached vars if needed\n                if (cachedBrackets !== s) {\n                    cachedBrackets = s;\n                    b = s.split(' ');\n                    r = b.map(function (e) { return e.replace(/(?=.)/g, '\\\\'); });\n                }\n                // if regexp given, rewrite it with current brackets (only if differ from default)\n                return x instanceof RegExp ? (s === orig ? x :\n                    new RegExp(x.source.replace(re, function (b) { return r[~~(b === '}')]; }), x.global ? 'g' : '')) :\n                    // else, get specific bracket\n                    b[x];\n            };\n        })('{ }');\n        var cache = {}, reVars = /(['\"\\/]).*?[^\\\\]\\1|\\.\\w*|\\w*:|\\b(?:(?:new|typeof|in|instanceof) |(?:this|true|false|null|undefined)\\b|function *\\()|([a-z_$]\\w*)/gi;\n        //           [ 1               ][ 2  ][ 3 ][ 4                                                                                  ][ 5       ]\n        // find variable names:\n        // 1. skip quoted strings and regexps: \"a b\", 'a b', 'a \\'b\\'', /a b/\n        // 2. skip object properties: .name\n        // 3. skip object literals: name:\n        // 4. skip javascript keywords\n        // 5. match var name\n        // build a template (or get it from cache), render with data\n        function tmpl(str, context, scope) {\n            return str && (cache[str] = cache[str] || tmpl.internalTmpl(str)).call(context, scope || context);\n        }\n        view.tmpl = tmpl;\n        var tmpl;\n        (function (tmpl) {\n            tmpl.debug = false;\n            // create a template instance\n            function internalTmpl(s, p) {\n                if (tmpl.debug) {\n                    console.groupCollapsed(s);\n                }\n                var orig = s;\n                // default template string to {}\n                s = (s || (brackets(0) + brackets(1)))\n                    .replace(brackets(/\\\\{/g), '\\uFFF0')\n                    .replace(brackets(/\\\\}/g), '\\uFFF1');\n                // split string to expression and non-expresion parts\n                p = split(s, extract(s, brackets(/{/), brackets(/}/)));\n                var body = (\n                // is it a single expression or a template? i.e. {x} or <b>{x}</b>\n                !p[0] && !p[2] && !p[3]\n                    ? expr(p[1])\n                    : '[' + p.map(function (s, i) {\n                        // is it an expression or a string (every second part is an expression)\n                        return i % 2\n                            ? expr(s, true)\n                            : '\"' + s\n                                .replace(/\\r\\n/g, '\\\\n')\n                                .replace(/\\r/g, '\\\\n')\n                                .replace(/\\n/g, '\\\\n')\n                                .replace(/\"/g, '\\\\\"')\n                                + '\"';\n                    }).join(',') + '].join(\"\")')\n                    .replace(/\\uFFF0/g, brackets(0))\n                    .replace(/\\uFFF1/g, brackets(1));\n                if (body.trim().length == 0)\n                    body = 'void 0';\n                if (tmpl.debug) {\n                    console.log(body);\n                    console.groupEnd();\n                }\n                var a = new Function('scope', 'return (' + body + ')');\n                a.mzt = orig;\n                return a;\n            }\n            tmpl.internalTmpl = internalTmpl;\n            // parse { ... } expression\n            function expr(s, n) {\n                if (tmpl.debug)\n                    console.log('expr:', s);\n                s = s\n                    .replace(/\\n/g, ' ')\n                    .replace(brackets(/^[{ ]+|[ }]+$|\\/\\*.+?\\*\\//g), '');\n                // is it an object literal? i.e. { key : value }\n                return /^\\s*[\\w-#\\. \"']+ *:/.test(s)\n                    ? '[' +\n                        // extract key:val pairs, ignoring any nested objects\n                        extract(s, \n                        // name part: name:, \"name\":, 'name':, name :\n                        /[\"' ]*[\\w-#\\. ]+[\"' ]*:/, \n                        // expression part: everything upto a comma followed by a name (see above) or end of line\n                        /,(?=[\"' ]*[\\w-#\\. ]+[\"' ]*:)|}|$/).map(function (pair) {\n                            // get key, val parts\n                            return pair.replace(/^[ \"']*(.+?)[ \"']*: *(.+?),? *$/, function (_, k, v) {\n                                // wrap all conditional parts to ignore errors\n                                return v.replace(/[^&|=!><]+/g, wrap) + '?\"' + k + '\":\"\",';\n                            });\n                        }).join('')\n                        + '].join(\" \").trim()'\n                    : wrap(s, n);\n            }\n            tmpl.expr = expr;\n            ;\n            // execute js w/o breaking on errors or undefined vars\n            function wrap(s, nonull) {\n                s = s.trim();\n                return !s ? '' : \"\\n                (function(){ \\n                    var v; \\n                    try { \\n                        v = \"\n                    + (s.replace(reVars, function (s, _, v) {\n                        return v ?\n                            \"\\n                            (typeof \" + v + \" === \\\"undefined\\\" ? typeof this.\" + v + \" === \\\"undefined\\\" ? this.get && this.get(\\\"\" + v + \"\\\") : this.\" + v + \" : \" + v + \")\"\n                            :\n                                s;\n                    }) || '[][0]')\n                    + (\"\\n                    } catch(e) { }\\n                    return \" + (nonull === true ? ' !v && v !== 0 ? \"\" : v' : 'v') + \";\\n                }).call(this)\");\n            }\n            tmpl.wrap = wrap;\n            // split string by an array of substrings\n            function split(str, substrings) {\n                var parts = [];\n                substrings.map(function (sub, i) {\n                    // push matched expression and part before it\n                    i = str.indexOf(sub);\n                    parts.push(str.slice(0, i), sub);\n                    str = str.slice(i + sub.length);\n                });\n                // push the remaining part\n                return parts.concat(str);\n            }\n            tmpl.split = split;\n            // match strings between opening and closing regexp, skipping any inner/nested matches\n            function extract(str, open, close) {\n                var start, level = 0, matches = [], re = new RegExp('(' + open.source + ')|(' + close.source + ')', 'g');\n                str.replace(re, function (_, open, close, pos) {\n                    // if outer inner bracket, mark position\n                    if (!level && open)\n                        start = pos;\n                    // in(de)crease bracket level\n                    level += open ? 1 : -1;\n                    // if outer closing bracket, grab the match\n                    if (!level && close != null)\n                        matches.push(str.slice(start, pos + close.length));\n                });\n                return matches;\n            }\n            tmpl.extract = extract;\n        })(tmpl = view.tmpl || (view.tmpl = {}));\n    })(view = mz.view || (mz.view = {}));\n})(mz || (mz = {}));\nvar mz;\n(function (mz) {\n    mz.HIDDEN_PROP = (function getHiddenProp() {\n        var prefixes = ['webkit', 'moz', 'ms', 'o', 'Webkit'];\n        if (typeof document == \"undefined\")\n            return null;\n        // if 'hidden' is natively supported just return it\n        if ('hidden' in document)\n            return 'hidden';\n        // otherwise loop over all the known prefixes until we find one\n        for (var i = 0; i < prefixes.length; i++) {\n            if ((prefixes[i] + 'Hidden') in document)\n                return prefixes[i] + 'Hidden';\n        }\n        // otherwise it's not supported\n        return null;\n    })();\n    mz.hiddenProp = mz.HIDDEN_PROP;\n    var tmp;\n    if (typeof document != \"undefined\")\n        tmp = document.createElement(\"div\");\n    mz.TRANSFORM_STYLE = (function getTransformTag() {\n        var prefixes = ['webkit', 'moz', 'ms', 'o', 'Webkit'];\n        if (!tmp)\n            return null;\n        if ('transform' in tmp.style)\n            return 'transform';\n        for (var i = 0; i < prefixes.length; i++) {\n            if ((prefixes[i] + 'Transform') in tmp.style)\n                return prefixes[i] + 'Transform';\n        }\n        return null;\n    })();\n    mz.TRANSFORM_CSS = (function getTransformTag() {\n        var prefixes = ['webkit', 'moz', 'ms', 'o', 'Webkit'];\n        if (!tmp)\n            return null;\n        if ('transform' in tmp.style)\n            return 'transform';\n        for (var i = 0; i < prefixes.length; i++) {\n            if ((prefixes[i] + 'Transform') in tmp.style)\n                return '-' + prefixes[i] + '-transform';\n        }\n        return null;\n    })();\n})(mz || (mz = {}));\n/// <reference path=\"../mz.ts\" />\n/// <reference path=\"../VIEW/Tmpl.ts\" />\n/// <reference path=\"../VIEW/Helpers.ts\" />\n/// <reference path=\"../CORE/MVCObject.ts\" />\n/// <reference path=\"Widget.ts\" />\nvar mz;\n(function (mz) {\n    var widgets;\n    (function (widgets) {\n        var TextNode = (function () {\n            function TextNode(value, component, scope) {\n                this.value = value;\n                this.component = component;\n                this.scope = scope;\n                this.listening = [];\n                var t = mz.view.tmpl(value, component, scope);\n                if (typeof t === \"undefined\")\n                    t = '';\n                this.node = document.createTextNode(t);\n                this.node.$tmpl = value;\n                this.node.$component = component;\n                this.node.$scope = scope;\n                this.node.$widget = this;\n            }\n            TextNode.prototype.setup = function (value, component, scope) {\n                this.value = value;\n                this.component = component;\n                this.scope = scope;\n                var t = mz.view.tmpl(value, component, scope);\n                if (typeof t === \"undefined\" || t === null)\n                    t = '';\n                this.node.textContent = t;\n                this.node.$tmpl = value;\n                this.node.$component = component;\n                this.node.$scope = scope;\n                this.node.$widget = this;\n            };\n            TextNode.prototype.unmount = function () {\n                this.node.remove();\n                this.node.$tmpl = null;\n                this.node.$component = null;\n                this.node.$scope = null;\n                this.node.$widget = null;\n                for (var _i = 0, _a = this.listening; _i < _a.length; _i++) {\n                    var i = _a[_i];\n                    i && i.off && i.off();\n                }\n                this.listening.length = 0;\n                this.value = this.component = this.scope = null;\n                TextNode.returnToPoll(this);\n            };\n            TextNode.prototype.refreshScope = function () {\n                var t = mz.view.tmpl(this.value, this.component, this.scope);\n                if (typeof t === \"undefined\" || t === null)\n                    t = '';\n                if (this.node.textContent != t) {\n                    this.node.textContent = t;\n                }\n            };\n            TextNode.returnToPoll = function (val) {\n                if (val)\n                    this.pollObjects.push(val);\n            };\n            TextNode.getFromPoll = function (value, component, scope) {\n                var elem = null;\n                if (this.pollObjects.length) {\n                    elem = this.pollObjects.pop();\n                    elem.setup(value, component, scope);\n                    return elem;\n                }\n                else {\n                    return new TextNode(value, component, scope);\n                }\n            };\n            TextNode.pollObjects = [];\n            return TextNode;\n        })();\n        widgets.TextNode = TextNode;\n    })(widgets = mz.widgets || (mz.widgets = {}));\n})(mz || (mz = {}));\n/// <reference path=\"../mz.ts\" />\n/// <reference path=\"Tmpl.ts\" />\n/// <reference path=\"Helpers.ts\" />\n/// <reference path=\"../CORE/MVCObject.ts\" />\n/// <reference path=\"../CORE/Decorators.ts\" />\n/// <reference path=\"TextNode.ts\" />\nvar mz;\n(function (mz) {\n    var AttributeDirective = (function () {\n        function AttributeDirective(widget, component, value) {\n            this.widget = widget;\n            this.component = component;\n            this.value = value;\n            this.mount();\n        }\n        AttributeDirective.prototype.mount = function () {\n        };\n        AttributeDirective.prototype.unmount = function () {\n            delete this.widget;\n            delete this._value;\n        };\n        AttributeDirective.prototype.changed = function (value, prevValue) {\n        };\n        Object.defineProperty(AttributeDirective.prototype, \"value\", {\n            get: function () {\n                return this._value;\n            },\n            set: function (value) {\n                if (value !== this._value) {\n                    var prevValue = this._value;\n                    this._value = value;\n                    this.changed(value);\n                }\n            },\n            enumerable: true,\n            configurable: true\n        });\n        return AttributeDirective;\n    })();\n    mz.AttributeDirective = AttributeDirective;\n    var AttributeDirective;\n    (function (AttributeDirective) {\n        function Register(attrName) {\n            return function (target) {\n                var lowerCaseName = attrName.toLowerCase();\n                if (lowerCaseName in AttributeDirective.directives) {\n                    console.warn(\"There is alredy a directive for '\" + lowerCaseName + \"'. It would be replaced.\");\n                }\n                AttributeDirective.directives[lowerCaseName] = target;\n            };\n        }\n        AttributeDirective.Register = Register;\n        AttributeDirective.directives = {};\n    })(AttributeDirective = mz.AttributeDirective || (mz.AttributeDirective = {}));\n    function delegateRefreshScope(e) {\n        if (e && typeof e == \"object\") {\n            'refreshScope' in e && e.refreshScope();\n        }\n    }\n    var templateCache = {};\n    var paramRegex = /^__(\\d)+$/;\n    var tieneLlaves = /\\{|\\}/;\n    var testScope = /^{scope\\./;\n    var containsScope = /[\\{|\\s|\\(|\\[]scope[\\.|\\s|\\[|\\(]/;\n    var parser = new DOMParser();\n    var errorDoc, errorNs;\n    try {\n        errorDoc = parser.parseFromString('INVALID', 'text/xml');\n        errorNs = errorDoc.getElementsByTagName(\"parsererror\")[0].namespaceURI;\n    }\n    catch (e) { }\n    // turns the array of string parts into a DOM\n    // throws if the result is an invalid XML document.\n    function quasiToDom(parts) {\n        // turn [\"<div class='\", \"'>Hi</div>\"]\n        // into \"<div class='__0'>Hi</div>\"\n        var xmlstr = parts.reduce(function (xmlstr, part, i) {\n            xmlstr += part;\n            if (i != parts.length - 1) {\n                xmlstr += \"__\" + i;\n            }\n            return xmlstr;\n        }, \"\");\n        // parse into DOM, check for a parse error\n        // browser's DOMParser is neat, but error handling is awful\n        var doc = parser.parseFromString(xmlstr, 'text/xml');\n        var errors = doc.getElementsByTagNameNS(errorNs, 'parsererror');\n        var error = '';\n        if (errors.length > 0) {\n            error = errors[0].textContent.split('\\n')[0];\n            throw \"invalid jsx: \" + error + \"\\n\" + xmlstr;\n        }\n        return doc;\n    }\n    var lonelyProperty = /^\\{([A-Za-z0-9_$\\-]+)\\}$/;\n    /**\n    * Esta funci坦n es usada para bindear un atributo a los cambios de MVCObject que pueden llegar a modificar el valor del atributo\n    */\n    function bindWidgetAttr(attrName, attrValue, observable, widget, scope) {\n        var match;\n        // attr=\"{hola}\" \n        // mando directamente Val(hola) a el atributo\n        if (match = lonelyProperty.exec(attrValue)) {\n            return observable.on(match[1] + '_changed', function (a, b) {\n                if (a !== b) {\n                    if (widget.attr(attrName) != a)\n                        widget.attr(attrName, a);\n                }\n            });\n        }\n        else {\n            return observable.on('valueChanged', function (data, elem, a, b) {\n                if (a !== b && attrValue.indexOf(elem) != -1) {\n                    var t = mz.view.tmpl(attrValue, observable, scope);\n                    if (widget.attr(attrName) != t)\n                        widget.attr(attrName, t);\n                }\n            });\n        }\n    }\n    var boolAttrs = ('allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,' +\n        'defaultchecked,defaultmuted,defaultselected,defer,disabled,draggable,enabled,formnovalidate,hidden,' +\n        'indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,' +\n        'pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,spellcheck,translate,truespeed,' +\n        'typemustmatch,visible').split(',');\n    boolAttrs.forEach(function (a) { return boolAttrs[a] = true; });\n    /**\n    * Cacheo en memoria de los templates descargados\n    */\n    mz.widgetTemplateSource = {};\n    function domToWidgets(node, params, component, scope) {\n        var match;\n        // text node, comment, etc\n        if (node.nodeValue) {\n            var value = node.nodeValue;\n            if (value.trim().length === 0) {\n                return;\n            }\n            match = value.match(paramRegex);\n            if (match)\n                return params[parseInt(match[1])];\n            if (tieneLlaves.test(value)) {\n                var childWidget = widgets.TextNode.getFromPoll(value, component, scope);\n                // Si el valor del text se no mete en el scope directamente \"{scope.hola}\"\n                if (component && !(testScope.test(value))) {\n                    if (match = lonelyProperty.exec(value)) {\n                        childWidget.listening.push(component.on(match[1] + '_changed', function (a, b) {\n                            if (a != b) {\n                                if (typeof a === \"undefined\" || a === null)\n                                    a = '';\n                                if (childWidget.node.textContent != a)\n                                    childWidget.node.textContent = a;\n                            }\n                        }));\n                    }\n                    else {\n                        childWidget.listening.push(component.on('valueChanged', function (data, elem, a, b) {\n                            if (a != b && value.indexOf(elem) != -1) {\n                                var t = mz.view.tmpl(value, component, scope);\n                                if (typeof t === \"undefined\" || t === null)\n                                    t = '';\n                                if (childWidget.node.textContent != t) {\n                                    childWidget.node.textContent = t;\n                                }\n                            }\n                        }));\n                    }\n                }\n                return childWidget;\n            }\n            if (typeof value == \"string\")\n                return document.createTextNode(value);\n            return value;\n        }\n        var widgetCtor;\n        match = node.localName.match(paramRegex);\n        widgetCtor = match ? params[parseInt(match[1])] : mz.widgets[node.localName.toLowerCase()];\n        var name = null;\n        // attributes of the node\n        var attrs = {};\n        /**\n         * Guardo en este diccionario los atributos del widget que puedo llegar a bindear al objeto (los que tienne llaves)\n         * */\n        var bindeableAttrs = {};\n        for (var i = node.attributes.length - 1; i >= 0; i--) {\n            var attr = node.attributes[i];\n            attrs[attr.name] = attr.value;\n            match = attr.value.match(paramRegex);\n            // __0, __1\n            if (match) {\n                attrs[attr.name] = params[parseInt(match[1])];\n            }\n            else {\n                if (typeof attr.value === \"string\") {\n                    attrs[attr.name] = mz.view.tmpl(attr.value, component, scope);\n                    if (typeof attrs[attr.name] === \"function\") {\n                        attrs[attr.name] = attrs[attr.name].bind(component); //testScope.test(attr.value) ? scope : component);\n                    }\n                    else if (tieneLlaves.test(attr.value)) {\n                        bindeableAttrs[attr.name] = attr.value;\n                        attrs[':' + attr.name + '_upd'] = (function (value, component, scope) {\n                            return function () {\n                                return mz.view.tmpl(value, component, scope);\n                            };\n                        })(attr.value, component, scope);\n                    }\n                }\n            }\n            if (attr.name == 'name') {\n                name = attrs[attr.name];\n            }\n            if (attr.name == 'scope') {\n                scope = attrs[attr.name];\n            }\n        }\n        widgetCtor = widgetCtor || widgets.BaseElement;\n        var hijos = widgetCtor.EMPTY_TAG ? [] : getChildNodes(node, params, component, scope);\n        var ret = new widgetCtor(node, attrs, hijos, params, component, scope);\n        for (var at in bindeableAttrs) {\n            if (typeof bindeableAttrs[at] == \"string\" && component)\n                ret.listening.push(bindWidgetAttr(at, bindeableAttrs[at], component, ret, scope));\n        }\n        if (node.nodeName == \"content\" && (!component._contentSelector || component._contentSelector == \"content\")) {\n            component.contentNode = ret.rootNode;\n        }\n        if (name && component) {\n            component[name] = ret;\n        }\n        return ret;\n    }\n    function getChildNodes(node, params, component, scope) {\n        // recursively turn children into components\n        var childNodes = [];\n        for (var i = 0; i < node.childNodes.length; i++) {\n            var childWidget = domToWidgets(node.childNodes[i], params, component, scope);\n            if (childWidget) {\n                childNodes.push(childWidget);\n            }\n        }\n        return childNodes;\n    }\n    function getJQueryEventWrapper(originalCallback, widget) {\n        return function (event) {\n            var eventObject = {\n                event: event.originalEvent,\n                data: widget.scope,\n                element: widget.rootNode,\n                $element: widget.DOM,\n                jQueryEvent: event\n            };\n            return originalCallback.call(widget, eventObject);\n        };\n    }\n    function errorLoadingTemplate(ev) {\n        console.error(\"Error loading template. \", this, ev);\n    }\n    var regexpOn = /^on[_]{0,1}(.*)$/;\n    var regexpAttrBinded = /^:(.*)_upd$/;\n    var ignoredAttrs = { tag: 1 };\n    var Widget = (function (_super) {\n        __extends(Widget, _super);\n        function Widget(rootNode, attr, children, _params, _parentComponent, scope) {\n            if (_params === void 0) { _params = null; }\n            if (_parentComponent === void 0) { _parentComponent = null; }\n            if (scope === void 0) { scope = null; }\n            _super.call(this);\n            this._params = _params;\n            this._parentComponent = _parentComponent;\n            this.attrs = {};\n            this.listening = [];\n            this.innerWidget = null;\n            this.contentFragment = document.createDocumentFragment();\n            this.contentNode = this.rootNode = document.createElement(attr && attr[\"tag\"] || rootNode && rootNode.nodeName || this[\"constructor\"].nodeName || this[\"constructor\"].name || 'div');\n            this.rootNode.$widget = this;\n            this.rootNode.$component = _parentComponent || this;\n            this.node = rootNode || this.rootNode;\n            this.DOM = $(this.rootNode);\n            this.scope = scope || null;\n            this.children = children;\n            this.attrs = attr || {};\n            if (this.defaultTemplate) {\n                this.startComponent([this.defaultTemplate]);\n            }\n            if (attr) {\n                this.initAttr(attr);\n            }\n            if (this.defaultTemplate) {\n                this.appendChildrens();\n            }\n        }\n        Widget.prototype.scope_changed = function (scope) {\n            this.rootNode.$scope = scope;\n        };\n        Widget.prototype.setUnwrapedComponent = function (value) {\n            if (this._unwrapedComponent != undefined) {\n                throw new Error(\"unwrapedComponent can be setted only once\");\n            }\n            this._unwrapedComponent = value;\n            if (value) {\n                var originalNode = this.rootNode;\n                if (this.innerDOM) {\n                    this.DOM = this.innerDOM;\n                    this.rootNode = this.DOM[0];\n                }\n                if (originalNode && originalNode.parentElement && this.rootNode != originalNode) {\n                    originalNode.parentElement.replaceChild(this.rootNode, originalNode);\n                }\n            }\n        };\n        Widget.prototype.generateScopedContent = function (scope) {\n            return getChildNodes(this.node, this._params, this._parentComponent, scope || this);\n        };\n        Widget.prototype.attr = function (attrName, value) {\n            var attrNameLower = attrName.toLowerCase();\n            if (value === undefined) {\n                return this.get(attrName) || this.DOM.attr(attrName);\n            }\n            else {\n                var boolAttr = attrNameLower in boolAttrs;\n                var typeofValue = typeof value;\n                if (boolAttr) {\n                    if (typeofValue === \"function\")\n                        value = value();\n                    value = mz.CBool(value) && value.toString().toLowerCase() !== \"false\" && value !== \"0\";\n                }\n                this.set(attrName, value);\n                this.attrs[attrName] = value;\n                if (attrNameLower in AttributeDirective.directives && AttributeDirective.directives[attrNameLower]) {\n                    if (!this.attrDirectives)\n                        this.attrDirectives = {};\n                    if (attrNameLower in this.attrDirectives)\n                        this.attrDirectives[attrNameLower].value = value;\n                    else\n                        this.attrDirectives[attrNameLower] = new AttributeDirective.directives[attrNameLower](this, this._parentComponent, value);\n                }\n                else if (boolAttr) {\n                    if (value) {\n                        this.DOM.prop(attrName, value);\n                    }\n                    else {\n                        this.DOM.removeProp(attrName);\n                    }\n                }\n                else if (regexpOn.test(attrName) && typeofValue === \"function\") {\n                    var cbName = regexpOn.exec(attrName)[1];\n                    if (/^on_/.test(attrName))\n                        this.listening.push(this.on(cbName, value));\n                    else\n                        this.DOM.on(cbName, getJQueryEventWrapper(value, this));\n                }\n                else {\n                    if (!(/^:/.test(attrName)) && (typeofValue === \"string\" || typeofValue === \"number\" || typeofValue === \"boolean\")) {\n                        if (attrNameLower in ignoredAttrs)\n                            return;\n                        this.DOM.attr(attrName, value);\n                    }\n                }\n            }\n        };\n        Widget.prototype.refreshScope = function () {\n            var data = this.data;\n            // the attrs who has the form \":(attName)_upd\" (regexpAttrBinded) are attr generators for \"attrName\"\n            for (var i in data) {\n                var match = null;\n                if (typeof data[i] == \"function\" && (match = regexpAttrBinded.exec(i))) {\n                    this.attr(match[1], data[i]());\n                }\n            }\n            this.children.forEach(delegateRefreshScope);\n        };\n        // Finds an element within this component\n        Widget.prototype.find = function (selector) {\n            return this.DOM.find(selector);\n        };\n        Widget.prototype.loadTemplate = function (url, forceSync) {\n            var _this = this;\n            if (forceSync === void 0) { forceSync = false; }\n            if (url in mz.widgetTemplateSource) {\n                this.startComponent(mz.widgetTemplateSource[url]);\n                return;\n            }\n            var xhr = new XMLHttpRequest();\n            var transformedUrl = mz.getPath(url);\n            xhr.addEventListener('load', function (ev) {\n                if (xhr.responseXML && xhr.responseXML instanceof Document) {\n                    mz.widgetTemplateSource[url] = xhr.responseXML;\n                    _this.startComponent(xhr.responseXML);\n                    _this.componentInitialized();\n                    requestAnimationFrame(function () { return _this.resize(); });\n                }\n                else if (xhr.responseText && xhr.responseText.length) {\n                    mz.widgetTemplateSource[url] = [xhr.responseText];\n                    _this.startComponent([xhr.responseText], []);\n                    _this.componentInitialized();\n                    requestAnimationFrame(function () { return _this.resize(); });\n                }\n                else {\n                    throw new TypeError(\"Unexpected response for mz.Widget.loadTemplate. Url: \" + transformedUrl + ' (' + url + ')');\n                }\n            });\n            xhr.onerror = errorLoadingTemplate;\n            xhr.open(\"GET\", transformedUrl, !forceSync);\n            xhr.send();\n        };\n        Widget.prototype.componentInitialized = function () {\n        };\n        Widget.prototype.startComponent = function (parts) {\n            var _this = this;\n            var params = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                params[_i - 1] = arguments[_i];\n            }\n            if (parts) {\n                var doc = parts instanceof Array ? quasiToDom(parts) : parts;\n                params = params || [];\n                params.forEach(function (e, i) {\n                    if (typeof e === \"function\")\n                        params[i] = e.bind(_this);\n                });\n                if (doc.childNodes.length > 1)\n                    console.warn(\"Only one child node is allowed per widget.\", doc, this);\n                if (!this._contentSelector) {\n                    if (doc.firstChild && doc.firstChild.childNodes.length == 0)\n                        this._contentSelector = ':root';\n                    else\n                        this._contentSelector = 'content';\n                }\n                this.innerWidget = domToWidgets(doc.firstChild, params, this, this.scope);\n                this.innerDOM = this.innerWidget.DOM;\n            }\n            if (this._unwrapedComponent) {\n                var originalNode = this.rootNode, originalNode$ = this.DOM;\n                if (this.innerDOM) {\n                    this.DOM = this.innerDOM;\n                    this.rootNode = this.DOM[0];\n                    if (this.rootNode != originalNode) {\n                        for (var i = 0; i < originalNode.attributes.length; i++) {\n                            var attrib = originalNode.attributes[i];\n                            if (!('specified' in attrib) || attrib.specified) {\n                                if (attrib.name.toLowerCase() == \"class\")\n                                    this.DOM.addClass(attrib.value);\n                                else\n                                    this.DOM.attr(attrib.name, attrib.value);\n                            }\n                        }\n                        if (originalNode && originalNode.parentElement) {\n                            originalNode.parentElement.replaceChild(this.rootNode, originalNode.parentElement);\n                        }\n                    }\n                }\n            }\n            if (this.innerDOM || !this.contentNode)\n                this.contentNode = this.innerDOM && this.innerDOM[0] || this.rootNode || this.contentNode;\n            if (this.innerDOM && this.innerDOM != this.DOM)\n                this.innerDOM.appendTo(this.DOM);\n            var apendeado = false;\n            if (this._contentSelector)\n                apendeado = this.setContentSelector(this._contentSelector);\n            if (!apendeado)\n                this.appendChildrens();\n            return this.innerWidget;\n        };\n        Widget.prototype.appendChildrens = function () {\n            var _this = this;\n            this.children.forEach(function (element) {\n                if (element && typeof element == \"object\") {\n                    if ('rootNode' in element && element.rootNode instanceof HTMLElement)\n                        _this.contentFragment.appendChild(element.rootNode);\n                    else if ('DOM' in element && element.DOM)\n                        element.DOM.appendTo(_this.contentFragment);\n                    else if ('node' in element && element.node)\n                        _this.contentFragment.appendChild(element.node);\n                    else if (element instanceof Node)\n                        _this.contentFragment.appendChild(element);\n                    else if (mz._debug)\n                        console.warn(\"Trying to add unknown child \", element, \" to Widget!\", _this);\n                }\n                else if (element && typeof element == \"string\" && element.length > 0) {\n                    _this.contentFragment.appendChild(document.createTextNode(element));\n                }\n            });\n            if (this.contentNode) {\n                this.contentNode.appendChild(this.contentFragment);\n            }\n            else if (this.contentFragment.firstChild) {\n                console.error(\"There is child elements on a Widget with wrong or without contentSelector \", this);\n            }\n        };\n        Widget.prototype.setContentSelector = function (selector) {\n            this._contentSelector = selector;\n            if (this.innerDOM) {\n                var prevContent = this.contentNode;\n                this.contentNode = selector == \":root\" ? this.rootNode : this.rootNode.querySelector(selector);\n                if (prevContent !== this.contentNode && this.contentNode) {\n                    this.appendChildrens();\n                    return true;\n                }\n            }\n            return false;\n        };\n        Widget.prototype.append = function (element) {\n            if (element && typeof element == \"object\") {\n                if (element instanceof Node) {\n                    this.contentNode.appendChild(element);\n                }\n                else if (element instanceof Widget) {\n                    this.contentNode.appendChild(element.rootNode);\n                }\n                else if (element instanceof widgets.TextNode) {\n                    this.contentNode.appendChild(element.node);\n                }\n                else if (element instanceof $) {\n                    return element.appendTo($(this.contentNode));\n                }\n                else if ('DOM' in element && element.DOM instanceof $) {\n                    return element.DOM.appendTo($(this.contentNode));\n                }\n                else {\n                    return $(element).appendTo($(this.contentNode));\n                }\n            }\n        };\n        Widget.prototype.appendTo = function (element) {\n            if (element && element instanceof Widget) {\n                return element.append(this);\n            }\n            else if (element && typeof element == \"object\" && 'DOM' in element && element.DOM instanceof $) {\n                return element.DOM.append(this.DOM);\n            }\n            else if (element && element instanceof $) {\n                return element.append(this.DOM);\n            }\n            else {\n                return $(element).append(this.DOM);\n            }\n        };\n        Widget.prototype.initAttr = function (attr) {\n            if (attr) {\n                if (!this.attrs)\n                    this.attr = attr;\n                for (var i in attr) {\n                    this.attr(i, attr[i]);\n                }\n            }\n        };\n        /**\n         * Resizes the current widget, it also sends a signal \"resize\" to all the childrens\n         */\n        Widget.prototype.resize = function () {\n            this.emit('resize');\n            this.innerWidget && this.innerWidget.resize && this.innerWidget.resize();\n            this.children.forEach(function (e) { return e && typeof e == 'object' && e.resize && e.resize(); });\n        };\n        /**\n         *  Destroys the current widget and it's children\n         */\n        Widget.prototype.unmount = function () {\n            if (this.attrDirectives)\n                for (var i in this.attrDirectives)\n                    ('unmount' in this.attrDirectives) && this.attrDirectives[i].unmount();\n            this.DOM.remove();\n            this.innerDOM = null;\n            this.emit('unmount');\n            this.off();\n            for (var _i = 0, _a = this.listening; _i < _a.length; _i++) {\n                var i = _a[_i];\n                i && i.off && i.off();\n            }\n            this.listening.length = 0;\n            delete this.data;\n            for (var _b = 0, _c = this.children; _b < _c.length; _b++) {\n                var e = _c[_b];\n                if ('unmount' in e)\n                    e.unmount();\n            }\n            this.children.length = 0;\n        };\n        Widget.RegisterComponent = function (componentName) {\n            return function (target) {\n                if (componentName.toLowerCase() in mz.widgets)\n                    console.warn(\"Component \", componentName, \" alredy registered\");\n                target.nodeName = componentName;\n                mz.widgets[componentName.toLowerCase()] = target;\n            };\n        };\n        Widget.IsEmptyTag = function (target) {\n            target.EMPTY_TAG = true;\n        };\n        Widget.Template = function (template, contentSelector) {\n            return function (target) {\n                target.prototype.defaultTemplate = template;\n                if (contentSelector && contentSelector.length)\n                    target.prototype._contentSelector = contentSelector;\n            };\n        };\n        Widget.Unwrap = function (target) {\n            target.prototype._unwrapedComponent = true;\n        };\n        Widget.EMPTY_TAG = false;\n        Widget.props = {};\n        __decorate([\n            mz.MVCObject.proxy, \n            __metadata('design:type', Boolean)\n        ], Widget.prototype, \"visible\", void 0);\n        __decorate([\n            mz.MVCObject.proxy, \n            __metadata('design:type', Object)\n        ], Widget.prototype, \"scope\", void 0);\n        return Widget;\n    })(mz.MVCObject);\n    mz.Widget = Widget;\n    var widgets;\n    (function (widgets) {\n        var BaseElement = (function (_super) {\n            __extends(BaseElement, _super);\n            function BaseElement(rootNode, attr, children, _params, _parentComponent, scope) {\n                if (_params === void 0) { _params = null; }\n                if (_parentComponent === void 0) { _parentComponent = null; }\n                if (scope === void 0) { scope = null; }\n                if (rootNode)\n                    attr['tag'] = rootNode.nodeName;\n                _super.call(this, rootNode, attr, children, _params, _parentComponent, scope);\n                this.appendChildrens();\n            }\n            return BaseElement;\n        })(Widget);\n        widgets.BaseElement = BaseElement;\n    })(widgets = mz.widgets || (mz.widgets = {}));\n})(mz || (mz = {}));\nvar mz;\n(function (mz) {\n    var widgets;\n    (function (widgets) {\n        var BasePagelet = (function (_super) {\n            __extends(BasePagelet, _super);\n            function BasePagelet(attr) {\n                _super.call(this, null, attr || {}, [], this, this, {});\n            }\n            return BasePagelet;\n        })(mz.Widget);\n        widgets.BasePagelet = BasePagelet;\n        var InlinePagelet = (function (_super) {\n            __extends(InlinePagelet, _super);\n            function InlinePagelet(template, attr) {\n                _super.call(this, null, attr || {}, [], this, this, {});\n                this.startComponent([template]);\n            }\n            return InlinePagelet;\n        })(mz.Widget);\n        widgets.InlinePagelet = InlinePagelet;\n    })(widgets = mz.widgets || (mz.widgets = {}));\n})(mz || (mz = {}));\n/// <reference path=\"../../mz.ts\" />\n/// <reference path=\"../Widget.ts\" />\nvar MzModelDirective = (function (_super) {\n    __extends(MzModelDirective, _super);\n    function MzModelDirective() {\n        _super.apply(this, arguments);\n        this.delayedBinding = null;\n    }\n    MzModelDirective.prototype.unmount = function () {\n        this.teardown();\n        _super.prototype.unmount.call(this);\n    };\n    MzModelDirective.prototype.teardown = function () {\n        this.delayedBinding && this.widget.DOM.off(MzModelDirective.jqueryBindings, this.delayedBinding);\n        this.componentBinding && this.componentBinding.off();\n        this.componentBinding = null;\n        this.delayedBinding = null;\n    };\n    MzModelDirective.prototype.changed = function (value, prevVal) {\n        var _this = this;\n        this.teardown();\n        if (this.widget instanceof mz.widgets.MzInput) {\n            this.widgetValueBinding = this.widget.on(\"value_changed\", function (newVal) {\n                if (newVal != _this.component[value])\n                    _this.component[value] = newVal;\n            });\n            this.componentBinding = this.component.on(value + \"_changed\", function (newVal) {\n                var actualVal = _this.widget.value;\n                if (actualVal != newVal && (!newVal || newVal.toString() != actualVal))\n                    _this.widget.value = newVal;\n            });\n        }\n        else if (value && (this.widget.rootNode.nodeName.toUpperCase() == 'INPUT' || this.widget.rootNode.nodeName.toUpperCase() == 'SELECT')) {\n            this.delayedBinding = function () {\n                var actualVal = _this.widget.DOM.val();\n                if (actualVal != _this.component[value])\n                    _this.component[value] = actualVal;\n            };\n            // detecto los cambios\n            this.changeBinding = this.widget.DOM.on(MzModelDirective.jqueryBindings, this.delayedBinding);\n            this.componentBinding = this.component.on(value + \"_changed\", function (newVal) {\n                var actualVal = _this.widget.DOM.val();\n                if (actualVal != newVal && (!newVal || newVal.toString() != actualVal))\n                    _this.widget.DOM.val(newVal);\n            });\n        }\n    };\n    MzModelDirective.symbol2wb = Symbol(\"mz-model-binding\");\n    MzModelDirective.jqueryBindings = 'changed keyup paste lostfocus search';\n    MzModelDirective = __decorate([\n        /// <reference path=\"../../mz.ts\" />\n        mz.AttributeDirective.Register(\"mz-model\"), \n        __metadata('design:paramtypes', [])\n    ], MzModelDirective);\n    return MzModelDirective;\n})(mz.AttributeDirective);\nvar mz;\n(function (mz) {\n    var widgets;\n    (function (widgets) {\n        var MzInput = (function (_super) {\n            __extends(MzInput, _super);\n            function MzInput() {\n                _super.apply(this, arguments);\n            }\n            __decorate([\n                mz.MVCObject.proxy, \n                __metadata('design:type', Object)\n            ], MzInput.prototype, \"value\", void 0);\n            return MzInput;\n        })(mz.Widget);\n        widgets.MzInput = MzInput;\n    })(widgets = mz.widgets || (mz.widgets = {}));\n})(mz || (mz = {}));\n/// <reference path=\"../Widget.ts\" />\nvar MzRawDirective = (function (_super) {\n    __extends(MzRawDirective, _super);\n    function MzRawDirective() {\n        _super.apply(this, arguments);\n    }\n    MzRawDirective.prototype.changed = function (val) {\n        this.widget.contentNode.innerHTML = val;\n    };\n    MzRawDirective = __decorate([\n        /// <reference path=\"../Widget.ts\" />\n        mz.AttributeDirective.Register(\"mz-raw\"), \n        __metadata('design:paramtypes', [])\n    ], MzRawDirective);\n    return MzRawDirective;\n})(mz.AttributeDirective);\n/// <reference path=\"../Widget.ts\" />\nvar MzVisibleDirective = (function (_super) {\n    __extends(MzVisibleDirective, _super);\n    function MzVisibleDirective() {\n        _super.apply(this, arguments);\n    }\n    MzVisibleDirective.prototype.mount = function () {\n        var _this = this;\n        this.listener = this.widget.on('class_changed', function () { return _this.changed(_this.value); });\n    };\n    MzVisibleDirective.prototype.unmount = function () {\n        this.listener.off();\n    };\n    MzVisibleDirective.prototype.changed = function (val) {\n        if (CBool(val)) {\n            this.widget.DOM.addClass(MzVisibleDirective.vendorHiddenClass).removeAttr('aria-hidden').removeProp(mz.HIDDEN_PROP);\n        }\n        else {\n            this.widget.DOM.removeClass(MzVisibleDirective.vendorHiddenClass).attr('aria-hidden', \"true\").prop(mz.HIDDEN_PROP, true);\n        }\n    };\n    MzVisibleDirective.vendorHiddenClass = 'mz-hidden';\n    MzVisibleDirective = __decorate([\n        /// <reference path=\"../Widget.ts\" />\n        mz.AttributeDirective.Register(\"visible\"), \n        __metadata('design:paramtypes', [])\n    ], MzVisibleDirective);\n    return MzVisibleDirective;\n})(mz.AttributeDirective);\nvar mz;\n(function (mz) {\n    var view;\n    (function (view) {\n        function html(literalSections) {\n            var substs = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                substs[_i - 1] = arguments[_i];\n            }\n            // Use raw literal sections: we dont want\n            // backslashes (\\n etc.) to be interpreted\n            var raw = literalSections.raw;\n            var result = '';\n            substs.forEach(function (subst, i) {\n                // Retrieve the literal section preceding\n                // the current substitution\n                var lit = raw[i];\n                // In the example, map() returns an array:\n                // If substitution is an array (and not a string),\n                // we turn it into a string\n                if (Array.isArray(subst)) {\n                    subst = subst.join('');\n                }\n                // If the substitution is preceded by a dollar sign,\n                // we dont escape special characters in it\n                if (!lit.endsWith('$')) {\n                    subst = html.escape(subst);\n                }\n                else {\n                    lit = lit.slice(0, -1);\n                }\n                result += lit;\n                result += subst;\n            });\n            // Take care of last literal section\n            // (Never fails, because an empty template string\n            // produces one literal section, an empty string)\n            result += raw[raw.length - 1]; // (A)\n            return result;\n        }\n        view.html = html;\n    })(view = mz.view || (mz.view = {}));\n})(mz || (mz = {}));\nvar mz;\n(function (mz) {\n    var view;\n    (function (view) {\n        var html;\n        (function (html) {\n            function escape(str) {\n                if (str === undefined || str == null)\n                    return '';\n                if (str === false || str === false)\n                    return str ? 'true' : 'false';\n                return str && (str = str.toString()) && str.replace(/&/g, '&amp;') // first!\n                    .replace(/>/g, '&gt;')\n                    .replace(/</g, '&lt;')\n                    .replace(/\"/g, '&quot;')\n                    .replace(/'/g, '&#39;')\n                    .replace(/`/g, '&#96;');\n            }\n            html.escape = escape;\n        })(html = view.html || (view.html = {}));\n    })(view = mz.view || (mz.view = {}));\n})(mz || (mz = {}));\n/// <reference path=\"Widget.ts\" />\nvar mz;\n(function (mz) {\n    var vdom;\n    (function (vdom) {\n        function createElement(type, props) {\n            var children = [];\n            for (var _i = 2; _i < arguments.length; _i++) {\n                children[_i - 2] = arguments[_i];\n            }\n            var ctor = null;\n            if (typeof type === \"string\") {\n                ctor = mz.widgets.BaseElement;\n                var typeStr = type.toLowerCase();\n                if (typeStr in mz.widgets)\n                    ctor = mz.widgets[typeStr];\n                if (props && props instanceof Array && !children)\n                    children = props;\n                props = null;\n            }\n            else\n                ctor = type;\n            return new ctor(null, props || {}, children || []);\n        }\n        vdom.createElement = createElement;\n        vdom.__spread = mz.copy;\n    })(vdom = mz.vdom || (mz.vdom = {}));\n})(mz || (mz = {}));\nvar mz;\n(function (mz) {\n    /**\n     * Hyperscript for JSX or TSX\n     */\n    function h(componentName, attr) {\n        var children = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            children[_i - 2] = arguments[_i];\n        }\n        var clase = mz.widgets.BaseElement;\n        componentName = componentName.toLowerCase();\n        if (componentName in mz.widgets)\n            clase = mz.widgets[componentName];\n        if (attr && attr instanceof Array && !children)\n            attr = children;\n        return new clase(null, attr || {}, children || []);\n    }\n    mz.h = h;\n})(mz || (mz = {}));\n/// <reference path=\"../view/Widget.ts\" />\nvar mz;\n(function (mz) {\n    var widgets;\n    (function (widgets) {\n        function delegateUnmountElement(widget) {\n            if (widget && typeof widget == \"object\") {\n                if ('unmount' in widget)\n                    widget.unmount();\n                else\n                    widget.DOM && widget.DOM.remove();\n            }\n        }\n        function delegateRefreshScope(e) {\n            if (e && typeof e == \"object\") {\n                'scope' in e && (e.scope = e.scope);\n                'refreshScope' in e && e.refreshScope();\n            }\n        }\n        var MzRepeat = (function (_super) {\n            __extends(MzRepeat, _super);\n            function MzRepeat(rootNode, attr, children, b, c, scope) {\n                _super.call(this, rootNode, attr, [], b, c, scope);\n                this.collectionKey = Symbol(\"mz-repeat-\" + mz.genUID());\n                this.ponerElem = this.ponerElem.bind(this);\n                this.delegateUnmountElements = this.delegateUnmountElements.bind(this);\n                // if the list contains elements.\n                if (this.list && this.list.length) {\n                    this.list.forEach(this.ponerElem, this);\n                }\n            }\n            MzRepeat.prototype.list_changed = function (list, prevList) {\n                var _this = this;\n                if (list === prevList)\n                    return;\n                if (this.listenersLista) {\n                    this.listenersLista.forEach(function (x) { return x.off(); });\n                    this.listenersLista.length = 0;\n                }\n                else if (list) {\n                    this.listenersLista = [];\n                }\n                if (prevList) {\n                    // clean current collection elements\n                    prevList.forEach(this.delegateUnmountElements);\n                    this.detachAllNodes();\n                }\n                if (list && !(list instanceof mz.collection)) {\n                    console.error(new Error(\"<mz-repeat> expects attr 'list: mz.collection'\"));\n                    return;\n                }\n                if (this.list) {\n                    this.listenersLista.push(this.list.on('changed', this.redraw.bind(this)));\n                    this.listenersLista.push(this.list.on('pre_clear', function (a) { return _this.redraw('pre_clear', a); }));\n                    if (this.list.length && !!this.collectionKey /* collection initialized */)\n                        this.redraw('refresh');\n                }\n            };\n            MzRepeat.prototype.unmount = function () {\n                this.list = null;\n                _super.prototype.unmount.call(this);\n            };\n            MzRepeat.prototype.ponerElem = function (itemDeLista) {\n                var _this = this;\n                this.item = itemDeLista;\n                var dom = itemDeLista[this.collectionKey];\n                var existia = !!dom;\n                if (!existia) {\n                    dom = this.generateScopedContent(itemDeLista);\n                    itemDeLista[this.collectionKey] = dom;\n                }\n                dom.forEach(function (e) {\n                    // si el elemento ya existia, llamo a refreshScope\n                    if (existia && e && (typeof e == \"object\") && 'refreshScope' in e)\n                        e.refreshScope();\n                    _this.append(e);\n                });\n            };\n            MzRepeat.prototype.generateScopedContent = function (scope) {\n                var t = _super.prototype.generateScopedContent.call(this, scope);\n                this.afterAdd && this.afterAdd(t, scope);\n                return t;\n            };\n            MzRepeat.prototype.detachAllNodes = function () {\n                var child = null;\n                while (child = this.contentNode.firstChild) {\n                    this.contentNode.removeChild(child);\n                }\n            };\n            MzRepeat.prototype.delegateUnmountElements = function (elementoLista) {\n                if (elementoLista[this.collectionKey]) {\n                    elementoLista[this.collectionKey].forEach(delegateUnmountElement);\n                    delete elementoLista[this.collectionKey];\n                }\n            };\n            MzRepeat.prototype.redraw = function (tipo, a, b) {\n                var that = this;\n                var rebuild = !tipo;\n                if (tipo == \"set_at\" && b[this.collectionKey]) {\n                    b[this.collectionKey].forEach(delegateRefreshScope);\n                }\n                else if (tipo == \"insert_at\" || tipo == \"set_at\") {\n                    this.ponerElem(b);\n                }\n                else if (tipo == \"remove_at\" && b && b[this.collectionKey]) {\n                    this.delegateUnmountElements(b);\n                }\n                else if (tipo == \"filter\" || tipo == mz.collection.EVENTS.CollectionSorted) {\n                    rebuild = true;\n                } /*else if (tipo == \"removed\") {\n                    rebuild = true;\n                }*/\n                else if (tipo == \"refresh\") {\n                    this.detachAllNodes();\n                    this.list.forEach(delegateRefreshScope);\n                    rebuild = true;\n                }\n                else if (tipo == mz.collection.EVENTS.BeforeClearCollection) {\n                    this.list.forEach(this.delegateUnmountElements);\n                    return;\n                }\n                if (tipo == \"clear\" || rebuild) {\n                    this.detachAllNodes();\n                }\n                if (rebuild && this.list.length) {\n                    this.list.forEach(this.ponerElem, this);\n                }\n            };\n            __decorate([\n                mz.MVCObject.proxy, \n                __metadata('design:type', mz.collection)\n            ], MzRepeat.prototype, \"list\", void 0);\n            __decorate([\n                mz.MVCObject.proxy, \n                __metadata('design:type', Function)\n            ], MzRepeat.prototype, \"afterAdd\", void 0);\n            MzRepeat = __decorate([\n                mz.Widget.RegisterComponent(\"mz-repeat\"),\n                mz.Widget.IsEmptyTag, \n                __metadata('design:paramtypes', [HTMLElement, Object, Array, Object, Object, Object])\n            ], MzRepeat);\n            return MzRepeat;\n        })(mz.Widget);\n        widgets.MzRepeat = MzRepeat;\n    })(widgets = mz.widgets || (mz.widgets = {}));\n})(mz || (mz = {}));\n/// <reference path=\"../view/Widget.ts\" />\nvar mz;\n(function (mz) {\n    var widgets;\n    (function (widgets) {\n        var MzSwitcher = (function (_super) {\n            __extends(MzSwitcher, _super);\n            function MzSwitcher(rootNode, attr, children, a, b, scope) {\n                var _this = this;\n                _super.call(this, rootNode, attr, [], a, b, scope);\n                this.panels = new mz.collection();\n                var first = null;\n                // Set the parent panel to the children\n                children.forEach(function (child) {\n                    if (child instanceof MzSwitcherPanel) {\n                        first = first || child;\n                        child.parent = _this;\n                    }\n                });\n                if (first)\n                    this.show(first);\n            }\n            MzSwitcher.prototype.show = function (panel) {\n                if (!panel)\n                    return;\n                if (this.panelVisible === panel)\n                    return;\n                if (!this.panels.contains(panel)) {\n                    this.panels.push(panel);\n                    panel.appendTo(this.contentNode);\n                    if (panel instanceof MzSwitcherPanel) {\n                        panel.parent = this;\n                    }\n                }\n                if (this.panelVisible) {\n                    mz.core.dom.adapter.remove(this.panelVisible.rootNode);\n                }\n                this.panelVisible = panel;\n                mz.core.dom.adapter.appendChild(this.contentNode, this.panelVisible.rootNode);\n                this.panelVisible.show();\n                panel.resize();\n            };\n            MzSwitcher.prototype.resize = function () {\n                if (this.panelVisible) {\n                    this.panelVisible.resize();\n                }\n                _super.prototype.resize.call(this);\n            };\n            __decorate([\n                mz.MVCObject.proxy, \n                __metadata('design:type', MzSwitcherPanel)\n            ], MzSwitcher.prototype, \"panelVisible\", void 0);\n            MzSwitcher = __decorate([\n                mz.Widget.RegisterComponent(\"mz-switcher\"), \n                __metadata('design:paramtypes', [Node, Object, Array, Object, Object, Object])\n            ], MzSwitcher);\n            return MzSwitcher;\n        })(mz.Widget);\n        widgets.MzSwitcher = MzSwitcher;\n        var MzSwitcherPanel = (function (_super) {\n            __extends(MzSwitcherPanel, _super);\n            function MzSwitcherPanel() {\n                _super.apply(this, arguments);\n            }\n            MzSwitcherPanel.prototype.show = function () {\n                if (this.parent)\n                    this.parent.show(this);\n            };\n            MzSwitcherPanel.prototype.isVisible = function () {\n                return this.DOM.is(':visible');\n            };\n            MzSwitcherPanel = __decorate([\n                mz.Widget.RegisterComponent(\"mz-switcher-panel\"), \n                __metadata('design:paramtypes', [])\n            ], MzSwitcherPanel);\n            return MzSwitcherPanel;\n        })(mz.Widget);\n        widgets.MzSwitcherPanel = MzSwitcherPanel;\n    })(widgets = mz.widgets || (mz.widgets = {}));\n})(mz || (mz = {}));\n\n\n\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"sourceRoot":"/source/"}