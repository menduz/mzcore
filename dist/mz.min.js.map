{"version":3,"sources":["/source/mz.ts","mz.min.js","/source/VIEW/Tmpl.ts","/source/VIEW/Helpers.ts","/source/CORE/EventDispatcher.ts","/source/CORE/MVCObject.ts","/source/CORE/Decorators.ts","/source/VIEW/TextNode.ts","/source/CORE/DOM.ts","/source/CORE/DOM/DOM.ts","/source/CORE/DOM/DOM_BrowserImpl.ts","/source/CORE/DOM/MicroQueue.ts","/source/VIEW/Widget.ts","/source/WIDGETS/mz-switcher.ts","/source/APP/AppController.ts","/source/AUTH/JWT.ts","/source/CORE/I18n.ts","/source/CORE/Date.ts","/source/CORE/Promise.ts","/source/CORE/Xr.ts","/source/CORE/Strings.ts","/source/AUTH/OAuth2.ts","/source/CORE/AMD/Require.ts","/source/CORE/AMD/Module.ts","/source/CORE/AMD/Define.ts","/source/CORE/AMD/Setup.ts","/source/CORE/Collection.ts","/source/CORE/Redux.ts","/source/CORE/Reflection.ts","/source/CORE/Route.ts","/source/VIEW/CSS.ts","/source/UIKIT/Blocks.ts","/source/VIEW/DIRECTIVES/MzModel.ts","/source/VIEW/DIRECTIVES/MzRaw.ts","/source/VIEW/DIRECTIVES/className.ts","/source/VIEW/DIRECTIVES/Visible.ts","/source/VIEW/HtmlSanitizer.ts","/source/WIDGETS/Style.ts","/source/WIDGETS/mz-form.ts","/source/WIDGETS/mz-repeat.ts"],"names":["this","jQuery","Error","isDef","b","window","eval","mz","UID","globalContext","Symbol","a","mz.alias","mz.getPath","mz.getElementPosition","c","extend","hasOwnProperty","toString","mz.copy","mz.mapXInto","mz.mapInto","mz.isIterable","mz.trim","mz.getDOMID","mz.genUID","tmp","type","mixed_var","parseInt","base","isNaN","isFinite","val","undefined","toLowerCase","trim","length","intval","theQueryString","$1","$3","$0","key","cosa","datos","datos2","timer","defTimeout","ret","clearTimeout","arguments","thisp","setTimeout","fn","apply","now","cancel","cancelAnimationFrame","requestAnimationFrame","Object","keys","map","r","performance","Date","getTime","mz.data","mz.data.order","mz.data.order.null_arriba","mz.data.order.null_abajo","mz.data.order.build","i","elems","null_abajo","campo","null_arriba","invertir","mz.escapeRegExp","mz.loadCss","mz.fnInfo","mz.compileFilter","mz.getWindowSize","mz.globalCallback","mz.buscarArgumentoTipo","mz.view","cachedBrackets","re","x","s","orig","split","e","replace","RegExp","source","global","mz.view.tmpl","mz.view.tmpl.internalTmpl","expr","mz.view.tmpl.expr","pair","_","k","v","wrap","mz.view.tmpl.wrap","mz.view.tmpl.split","str","indexOf","sub","parts","push","slice","mz.view.tmpl.extract","level","open","start","pos","close","matches","mz.getHiddenProp","mz.getTransformTag","mz.EventDispatcherBinding","mz.EventDispatcherBinding.constructor","mz.EventDispatcherBinding.off","mz.EventDispatcherBinding.enable","mz.EventDispatcherBinding.disable","f","cb","mz.EventDispatcher","mz.EventDispatcher.constructor","mz.EventDispatcher.on","callback","mz.EventDispatcher.once","mz.EventDispatcher.off","mz.EventDispatcher.cleanupTurnedOffEvents","mz.EventDispatcher.emit","__extends","d","p","__","constructor","prototype","create","mz.MVCObject","mz.MVCObject.constructor","mz.MVCObject.getAll","mz.MVCObject.setValues","mz.MVCObject.set","mz.MVCObject.get","mz.MVCObject.touch","mz.MVCObject.toJSON","mz.ModelValidator","mz.ModelValidator.constructor","mz.ModelValidator.validate","mz.MVCObject.proxy","data","propertyKey","set","value","mz.MVCObject.ModelProp","target","MVCOBJECT_VALIDATOR_SYMBOL","list","concat","props","validators","defineProperty","get","enumerable","mz.MVCObject.proxyDeep","_this","listener","object","off","MVCObject","on","EVENTS","valueChanged","touch","mz.core","mz.core.decorators","mz.core.decorators.LogResult","args","_i","JSON","stringify","join","result","console","log","mz.core.decorators.noEnumerable","mz.core.decorators.delayer","originalValue","descriptor","delayerID","delayerCount","theDelayer","delayer","timeout","mz.core.decorators.screenDelayer","screenDelayer","mz.widgets","mz.widgets.TextNode","mz.widgets.TextNode.constructor","mz.widgets.TextNode.setup","mz.widgets.TextNode.unmount","mz.widgets.TextNode.refreshScope","mz.widgets.TextNode.returnToPoll","mz.widgets.TextNode.getFromPoll","mz.dom","mz.dom.setRootDomAdapter","mz.dom.AbstractDomAdapter","mz.dom.GenericBrowserDomAdapter","mz.dom.GenericBrowserDomAdapter.constructor","mz.dom.GenericBrowserDomAdapter.getDistributedNodes","mz.dom.GenericBrowserDomAdapter.resolveAndSetHref","mz.dom.GenericBrowserDomAdapter.supportsDOMEvents","mz.dom.GenericBrowserDomAdapter.supportsNativeShadowDOM","mz.dom.GenericBrowserDomAdapter.getAnimationPrefix","mz.dom.GenericBrowserDomAdapter.getTransitionEnd","mz.dom.GenericBrowserDomAdapter.supportsAnimation","mz.dom.GenericBrowserDomAdapter.getXHR","mz.dom.BrowserDomAdapter","mz.dom.BrowserDomAdapter.constructor","mz.dom.BrowserDomAdapter.parse","mz.dom.BrowserDomAdapter.makeCurrent","mz.dom.BrowserDomAdapter.hasProperty","mz.dom.BrowserDomAdapter.setProperty","mz.dom.BrowserDomAdapter.getProperty","mz.dom.BrowserDomAdapter.invoke","mz.dom.BrowserDomAdapter.logError","mz.dom.BrowserDomAdapter.log","mz.dom.BrowserDomAdapter.logGroup","mz.dom.BrowserDomAdapter.logGroupEnd","mz.dom.BrowserDomAdapter.attrToPropMap","configurable","mz.dom.BrowserDomAdapter.query","mz.dom.BrowserDomAdapter.querySelector","mz.dom.BrowserDomAdapter.querySelectorAll","mz.dom.BrowserDomAdapter.on","mz.dom.BrowserDomAdapter.onAndCancel","mz.dom.BrowserDomAdapter.dispatchEvent","mz.dom.BrowserDomAdapter.createMouseEvent","mz.dom.BrowserDomAdapter.createEvent","mz.dom.BrowserDomAdapter.preventDefault","mz.dom.BrowserDomAdapter.isPrevented","mz.dom.BrowserDomAdapter.getInnerHTML","mz.dom.BrowserDomAdapter.getOuterHTML","mz.dom.BrowserDomAdapter.nodeName","mz.dom.BrowserDomAdapter.nodeValue","mz.dom.BrowserDomAdapter.type","mz.dom.BrowserDomAdapter.content","mz.dom.BrowserDomAdapter.firstChild","mz.dom.BrowserDomAdapter.nextSibling","mz.dom.BrowserDomAdapter.parentElement","mz.dom.BrowserDomAdapter.childNodes","mz.dom.BrowserDomAdapter.childNodesAsList","mz.dom.BrowserDomAdapter.clearNodes","mz.dom.BrowserDomAdapter.appendChild","mz.dom.BrowserDomAdapter.removeChild","mz.dom.BrowserDomAdapter.replaceChild","mz.dom.BrowserDomAdapter.remove","mz.dom.BrowserDomAdapter.insertBefore","mz.dom.BrowserDomAdapter.insertAllBefore","mz.dom.BrowserDomAdapter.insertAfter","mz.dom.BrowserDomAdapter.setInnerHTML","mz.dom.BrowserDomAdapter.getText","mz.dom.BrowserDomAdapter.setText","mz.dom.BrowserDomAdapter.getValue","mz.dom.BrowserDomAdapter.setValue","mz.dom.BrowserDomAdapter.getChecked","mz.dom.BrowserDomAdapter.setChecked","mz.dom.BrowserDomAdapter.createComment","mz.dom.BrowserDomAdapter.createTemplate","mz.dom.BrowserDomAdapter.createElement","mz.dom.BrowserDomAdapter.createElementNS","mz.dom.BrowserDomAdapter.createTextNode","mz.dom.BrowserDomAdapter.createScriptTag","mz.dom.BrowserDomAdapter.createStyleElement","mz.dom.BrowserDomAdapter.createShadowRoot","mz.dom.BrowserDomAdapter.getShadowRoot","mz.dom.BrowserDomAdapter.getHost","mz.dom.BrowserDomAdapter.clone","mz.dom.BrowserDomAdapter.getElementsByClassName","mz.dom.BrowserDomAdapter.getElementsByTagName","mz.dom.BrowserDomAdapter.classList","mz.dom.BrowserDomAdapter.addClass","mz.dom.BrowserDomAdapter.removeClass","mz.dom.BrowserDomAdapter.hasClass","mz.dom.BrowserDomAdapter.setStyle","mz.dom.BrowserDomAdapter.removeStyle","mz.dom.BrowserDomAdapter.getStyle","mz.dom.BrowserDomAdapter.tagName","mz.dom.BrowserDomAdapter.attributeMap","mz.dom.BrowserDomAdapter.hasAttribute","mz.dom.BrowserDomAdapter.getAttribute","mz.dom.BrowserDomAdapter.setAttribute","mz.dom.BrowserDomAdapter.setAttributeNS","mz.dom.BrowserDomAdapter.removeAttribute","mz.dom.BrowserDomAdapter.templateAwareRoot","mz.dom.BrowserDomAdapter.createHtmlDocument","mz.dom.BrowserDomAdapter.defaultDoc","mz.dom.BrowserDomAdapter.getBoundingClientRect","mz.dom.BrowserDomAdapter.getTitle","mz.dom.BrowserDomAdapter.setTitle","mz.dom.BrowserDomAdapter.elementMatches","mz.dom.BrowserDomAdapter.isTemplateElement","mz.dom.BrowserDomAdapter.isTextNode","mz.dom.BrowserDomAdapter.isCommentNode","mz.dom.BrowserDomAdapter.isElementNode","mz.dom.BrowserDomAdapter.hasShadowRoot","mz.dom.BrowserDomAdapter.isShadowRoot","mz.dom.BrowserDomAdapter.importIntoDoc","mz.dom.BrowserDomAdapter.adoptNode","mz.dom.BrowserDomAdapter.getHref","mz.dom.BrowserDomAdapter.getEventKey","mz.dom.BrowserDomAdapter.getGlobalEventTarget","mz.dom.BrowserDomAdapter.getHistory","mz.dom.BrowserDomAdapter.getLocation","mz.dom.BrowserDomAdapter.getBaseHref","mz.dom.BrowserDomAdapter.resetBaseElement","mz.dom.BrowserDomAdapter.getUserAgent","mz.dom.BrowserDomAdapter.setData","mz.dom.BrowserDomAdapter.getData","mz.dom.BrowserDomAdapter.getComputedStyle","mz.dom.BrowserDomAdapter.requestAnimationFrame","mz.dom.BrowserDomAdapter.cancelAnimationFrame","mz.dom.BrowserDomAdapter.performanceNow","mz.dom.getBaseElementHref","mz.dom.relativePath","mz.dom.microqueue","mz.dom.microqueue.makeRequestFlushFromMutationObserver","mz.dom.microqueue.makeRequestFlushFromMutationObserver.requestFlush","mz.dom.microqueue.makeRequestFlushFromTimer","mz.dom.microqueue.makeRequestFlushFromTimer.requestFlush","mz.dom.microqueue.makeRequestFlushFromTimer.requestFlush.handleFlushTimer","mz.dom.microqueue.onError","mz.dom.microqueue.MicroTaskQueue","mz.dom.microqueue.MicroTaskQueue.constructor","mz.dom.microqueue.MicroTaskQueue.queueMicroTask","mz.dom.microqueue.MicroTaskQueue.flushMicroTaskQueue","mz.dom.microqueue.MicroQueueOpKind","mz.dom.microqueue.flush","mz.dom.microqueue.appendChild","mz.dom.microqueue.callback","mz.dom.microqueue.remove","mz.dom.microqueue.setText","mz.dom.microqueue.setAttribute","__decorate","decorators","desc","getOwnPropertyDescriptor","Reflect","decorate","__metadata","metadata","mz.AttributeDirective","mz.AttributeDirective.constructor","mz.AttributeDirective.unmount","mz.AttributeDirective.value","mz.AttributeDirective.Register","lowerCaseName","attrName","AttributeDirective","directives","warn","enable","mz.setScopeRecursiveAndEnableListeners","mz.quasiToDom","mz.bindWidgetAttr","widget","attr","attrValue","elem","t","view","tmpl","observable","scope","mz.domToWidgets","dom","microqueue","setText","childWidget","rootNode","refreshScope","tmpl_pointer","component","mz.getChildNodes","mz.getJQueryEventWrapper","eventObject","event","originalEvent","element","originalCallback","call","mz.errorLoadingTemplate","mz.Widget","mz.Widget.constructor","mz.Widget.scope_changed","mz.Widget.DOM","mz.Widget.generateScopedContent","mz.Widget.releaseScopedContent","mz.Widget.attr","mz.Widget.refreshScope","mz.Widget.find","mz.Widget.loadTemplate","mz.Widget.startComponent","mz.Widget.appendChildrens","mz.Widget.findContentSelector","mz.Widget.append","mz.Widget.appendTo","mz.Widget.initAttr","mz.Widget.resize","mz.Widget.unmount","mz.Widget.RegisterComponent","componentName","widgets","nodeName","mz.Widget.ConfigureEmptyTag","mz.Widget.Template","defaultTemplate","template","contentSelector","_contentSelector","selectorTemplate","remoteTemplate","mz.Widget.ConfigureUnwrapped","mz.Widget.ConfigureTag","tagName","mz.Widget.Attribute","mz.widgets.BaseElement","mz.widgets.BaseElement.constructor","mz.widgets.BasePagelet","mz.widgets.BasePagelet.constructor","mz.widgets.InlinePagelet","mz.widgets.InlinePagelet.constructor","mz.widgets.MzSwitcher","mz.widgets.MzSwitcher.constructor","mz.widgets.MzSwitcher.show","mz.widgets.MzSwitcher.resize","MzSwitcherPanel","Node","Array","MzSwitcher","mz.widgets.MzSwitcherPanel","mz.widgets.MzSwitcherPanel.constructor","mz.widgets.MzSwitcherPanel.show","mz.widgets.MzSwitcherPanel.isVisible","mz.app","mz.app.RouteName","isRouteHandler","route_name","mz.app.Page","mz.app.Page.constructor","mz.app.Page.windowTitle_changed","mz.app.Page.handleRoute","mz.app.Page.show","String","mz.app.PageCoordinator","mz.app.PageCoordinator.constructor","mz.app.PageCoordinator.setPages","that","loadingPage","getPage","route","page","name","then","modulo","routeHandler","handleRoute","show","emit","Backbone","history","getFragment","mz.app.PageCoordinator.updatePageTitle","mz.app.PageCoordinator.actualPage_changed","mz.app.PageCoordinator.show","mz.app.PageCoordinator.navigate","mz.app.PageCoordinator.getPage","Page","Boolean","PageCoordinator","mz.auth","mz.auth.jwt","mz.auth.jwt.urlBase64Decode","mz.auth.jwt.decodeToken","mz.auth.jwt.getTokenExpirationDate","mz.auth.jwt.isTokenExpired","localeId","dictionary","mzLang","erroresEncontradosIdioma","_debug","defaultValue","add","sInterval","iNum","dTemp","setMilliseconds","getMilliseconds","setSeconds","getSeconds","setMinutes","getMinutes","setHours","getHours","setDate","getDate","setMonth","getMonth","setFullYear","getFullYear","part","substr","mz.date","mz.date.parseObject","mz.date.addFeature","y","getDay","isWeekend","isLeapYear","abbreviated","date","abbrDayNames","dayNames","abbrMonthNames","monthNames","tmpdtm","Math","floor","ceil","getDayOfYear","day","num","addDays","setTime","format","getMonthName","_zeroPad","substring","mz.date.fromString","mz.date.newSyncro","mz.date.sync","mz.date.parse","mz.date.parse.parseJsonDate","mz.date.parse.convertirAFechaHora","mz.date.parse.convertirAFecha","mz.date.add","mz.date.fmt_date","mz.date.fmt_time","mz.date.fmt_date_time","mz.date.toString","mz.date.fmt_duracion","mz.date.parseDuracion","mz.promise","mz.promise.wait","Promise","ok","time","mz.promise.yield","mz.promise.nextFrame","mz.promise.parseStringDates","Response","json","parse","error","reject","resolve","mz.res","mz.getParams","mz.xr","opts","copy","xr","defaults","headers","xhr","xmlHttpRequest","originalURL","url","fileProtocol","getPath","urlResolve","protocol","raw","dump","queryString","params","getParams","method","contains","withCredentials","addEventListener","Events","READY_STATE_CHANGE","readyState","resultado","res","response","load","status","err","ABORT","ERROR","TIMEOUT","header","setRequestHeader","_event","events","bind","send","mz.xr.formatters","FormData","obj","encodeURIComponent","toISOString","append","mz.xr.xmlHttpRequest","mz.xr.promise","mz.xr.urlResolve","mz.xr.urlIsSameOrigin","mz.xr.urlEncode","document","createElement","href","mz.xr.get","mz.xr.put","mz.xr.post","mz.xr.patch","mz.xr.del","mz.xr.options","sp","capitalize","txt","charAt","toUpperCase","setAt","index","character","endsWith","suffix","startsWith","prefix","toCamelCase","match","group1","formatted","regexp","isValidMail","test","mz.oauth2","mz.oauth2.extractDomain","mz.oauth2.tokenGetter","mz.oauth2.setupToken","mz.oauth2.setToken","mz.oauth2.checkRole","mz.oauth2.pushRoles","mz.oauth2.applyAuthorizationHeaders","mz.oauth2.configure","mz.oauth2.refreshToken","mz.oauth2.logout","mz.oauth2.login","mz.oauth2.loggedIn","mz.require","require","count","mz.include","mz.loadModule","bkCM","define","currentModule","module","bkRequire","bkExports","exports","bkModulo","bkDefine","amd","loaded","defined","ModuleExports","successflag","processResponse","id","mz.require.route","mz.require.defineFiles","mz.Module","mz.Module.constructor","mz.Module.getPath","mz.Module.require","mz.Module.define","mz.ModuleExports","mz.ModuleExports.constructor","mz.ModuleExports.set","dependencias","modules","depsCargadas","deps","mz.undefine","mz.define","reqs","mz.Collection","mz.Collection.constructor","mz.Collection.first","mz.Collection.last","mz.Collection.clear","mz.Collection.length","mz.Collection.getLength","mz.Collection.setLength","mz.Collection.map","mz.Collection.forEach","mz.Collection.asyncForEach","mz.Collection.asyncForEach.sch","iterationDurationMs","items","func","shift","sch","mz.Collection._indizar","mz.Collection._deindizar","mz.Collection._reindizar","opciones","__indice__","mz.Collection.getAt","mz.Collection.reduce","mz.Collection.groupBy","g","output","Collection","mz.Collection.key","mz.Collection.insertAt","mz.Collection.replaceByKey","mz.Collection.removeAt","mz.Collection.setAt","mz.Collection.push","mz.Collection.pop","mz.Collection.addRange","noTriggerearCadaUno","mz.Collection.update","mz.Collection.updateByKey","mz.Collection.updateIndex","mz.Collection.join","mz.Collection.sum","out","cant","col","forEach","groupByField","options","filtroCampos","exclude","mz.Collection.orderBy","mz.Collection.orderByDesc","mz.Collection.some","mz.Collection.where","mz.Collection.removeByKey","mz.Collection.remove","remove","salida","mz.Collection.single","mz.Collection.contains","mz.Collection.containsKey","mz.Collection.indexOf","mz.Collection.lastIndexOf","mz.Collection.toArray","mz.Collection.clone","mz.Collection.indexedGet","mz.Collection.indexedGetIndex","mz.Collection.mergeElem","mz.Collection.max","opc","mz.Collection.min","mz.Collection.avg","mz.Collection.take","mz.Collection.takeInto","mz.Collection.swapItems","mz.Collection.count","gb","grupos","Count","mz.Collection.reverse","mz.Collection.mergeArray","mz.Collection.createView","mz.Collection.getPrivateArray","mz.CollectionView","mz.CollectionView.constructor","mz.CollectionView.filter_changed","mz.CollectionView._handleChanged","mz.CollectionView._remake","mz.CollectionView.resort","mz.CollectionView.refresh","mz.CollectionView.filter","mz.CollectionView.orderBy","mz.CollectionView.orderByDesc","mz.CollectionView.attachTo","clear","trigger","CollectionView","BeforeClearCollection","noPropagado","tipo","ElementInserted","ElementChanged","agregandoLote","filter","ElementRemoved","indice","a2","resort","updateIndex","removeAt","_remake","_handleChanged","mz.CollectionView.detach","mz.redux","mz.redux.stateHelpers","mz.redux.stateHelpers.cloneArray","mz.redux.stateHelpers.cloneArrayAndPush","mz.redux.stateHelpers.cloneDeep","mz.redux.stateHelpers.cloneShallow","mz.redux.ActionTypes","prevProp","getPropertyDescriptor","newProp","shallowEqual","blackboxedValue","writable","mz.redux.connectWidget","store","redux_selector","selector","redux_store","unsubscribe_redux","componentInitialized","redux","PropertyChangeOnValueMutation","subscribe","newScope","getState","unm","unmount","mz.redux.wrapActionCreators","mz.redux.shallowEqual","mz.redux.bindActionCreator","mz.redux.bindActionCreators","mz.redux.applyMiddleware","mz.redux.compose","mz.redux.createStore","mz.redux.createStore.ensureCanMutateNextListeners","mz.redux.createStore.getState","mz.redux.createStore.subscribe","mz.redux.createStore.subscribe.unsubscribe","mz.redux.createStore.dispatch","mz.redux.createStore.replaceReducer","mz.redux.getUndefinedStateErrorMessage","mz.redux.assertReducerSanity","mz.redux.combineReducers","mz.redux.combineReducers.combination","mz.redux.makeFilter","n","mz.redux.createManager","steps","makeFilter","reducer","owfn","l","currentState","state","processed","step","action","newState","errorMessage","getUndefinedStateErrorMessage","Reflect.metadata","Reflect.metadata.decorator","Reflect.setObjectSymbol","o","Reflect.getPrototypeOf","mz.css","_hoja_estilo","appendTo","buffer","_estilos_guardados","cssNumber","btoa","mz.css.set","mz.css.Stylesheet","mz.css.Stylesheet.constructor","mz.css.Stylesheet.enable","mz.css.Stylesheet.disable","mz.css.Stylesheet.refresh","estilo","mz.css.Stylesheet.set","uikit","uikit.Fit","uikit.Fit.constructor","uikit.Fit.class_changed","Fit","uikit.Clear","uikit.Clear.constructor","Clear","uikit.FlexCol","uikit.FlexCol.constructor","uikit.FlexCol.style_changed","uikit.FlexCol.class_changed","uikit.FlexCol['col-width_changed']","Function","FlexCol","uikit.FlexContainer","uikit.FlexContainer.constructor","uikit.FlexContainer.class_changed","FlexContainer","uikit.FlexRow","uikit.FlexRow.constructor","uikit.FlexRow.class_changed","FlexRow","uikit.FlexCell","uikit.FlexCell.constructor","uikit.FlexCell.class_changed","FlexCell","MzModelDirective","_super","MzModelDirective.constructor","MzModelDirective.getSelectedOptionScope","MzModelDirective.getOptionWithScope","MzModelDirective.unmount","MzModelDirective.teardown","MzModelDirective.changed","destinationField","mz.widgets.MzInput","mz.widgets.MzInput.constructor","mz.widgets.MzInput.focus","mz.widgets.MzInput.isValid","MzInput","MzRawDirective","MzRawDirective.constructor","MzRawDirective.changed","MzClassNameDirective","MzClassNameDirective.constructor","MzClassNameDirective.changed","MzClassNameDirective.EnsureClassName","ensuredArray","ENSURED_CLASSNAME","classNamesList","classNames","MzVisibleDirective","MzVisibleDirective.constructor","MzVisibleDirective.mount","MzVisibleDirective.unmount","MzVisibleDirective.changed","mz.view.html","mz.view.html.escape","mz.widgets.transformCssLocal","parentSelector","mz.widgets.StyleComponent","mz.widgets.StyleComponent.constructor","mz.widgets.StyleComponent.textValue_changed","mz.widgets.StyleComponent.update","StyleComponent","mz.widgets.MzForm","mz.widgets.MzForm.constructor","mz.widgets.MzForm.value_changed","mz.widgets.MzForm.adoptInput","mz.widgets.MzForm._findICampos","mz.widgets.MzForm.fieldIsVisible","mz.widgets.MzForm.focus","mz.widgets.MzForm.isValid","mz.widgets.MzForm.checkAll","mz.widgets.MzForm.getDefaultValue","mz.widgets.MzForm.resetForm","HTMLElement","MzForm","mz.widgets.MzRepeat","mz.widgets.MzRepeat.constructor","mz.widgets.MzRepeat.list_changed","mz.widgets.MzRepeat.unmount","mz.widgets.MzRepeat.ponerElem","mz.widgets.MzRepeat.generateScopedContent","mz.widgets.MzRepeat.detachAllNodes","mz.widgets.MzRepeat.delegateUnmountElements","mz.widgets.MzRepeat.redraw","MzRepeat"],"mappings":"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","file":"mz.min.js","sourcesContent":[null,"/// <reference path=\"TSD/JQuery.d.ts\" />\n/// <reference path=\"TSD/Promise.d.ts\" />\nif (typeof this.jQuery === \"undefined\") {\n    throw new Error(\"jQuery not present\");\n}\nfunction isDef(b) {\n    return typeof b != \"undefined\";\n}\n;\nif (!('Promise' in window)) {\n    /*! promise-polyfill 2.1.0 */\n    eval(\"!function(a){function b(a,b){return function(){a.apply(b,arguments)}}function c(a){if(\\\"object\\\"!=typeof this)throw new TypeError(\\\"Promises must be constructed via new\\\");if(\\\"function\\\"!=typeof a)throw new TypeError(\\\"not a function\\\");this._state=null,this._value=null,this._deferreds=[],i(a,b(e,this),b(f,this))}function d(a){var b=this;return null===this._state?void this._deferreds.push(a):void j(function(){var c=b._state?a.onFulfilled:a.onRejected;if(null===c)return void(b._state?a.resolve:a.reject)(b._value);var d;try{d=c(b._value)}catch(e){return void a.reject(e)}a.resolve(d)})}function e(a){try{if(a===this)throw new TypeError(\\\"A promise cannot be resolved with itself.\\\");if(a&&(\\\"object\\\"==typeof a||\\\"function\\\"==typeof a)){var c=a.then;if(\\\"function\\\"==typeof c)return void i(b(c,a),b(e,this),b(f,this))}this._state=!0,this._value=a,g.call(this)}catch(d){f.call(this,d)}}function f(a){this._state=!1,this._value=a,g.call(this)}function g(){for(var a=0,b=this._deferreds.length;b>a;a++)d.call(this,this._deferreds[a]);this._deferreds=null}function h(a,b,c,d){this.onFulfilled=\\\"function\\\"==typeof a?a:null,this.onRejected=\\\"function\\\"==typeof b?b:null,this.resolve=c,this.reject=d}function i(a,b,c){var d=!1;try{a(function(a){d||(d=!0,b(a))},function(a){d||(d=!0,c(a))})}catch(e){if(d)return;d=!0,c(e)}}var j=\\\"function\\\"==typeof setImmediate&&setImmediate||function(a){setTimeout(a,1)},k=Array.isArray||function(a){return\\\"[object Array]\\\"===Object.prototype.toString.call(a)};c.prototype[\\\"catch\\\"]=function(a){return this.then(null,a)},c.prototype.then=function(a,b){var e=this;return new c(function(c,f){d.call(e,new h(a,b,c,f))})},c.all=function(){var a=Array.prototype.slice.call(1===arguments.length&&k(arguments[0])?arguments[0]:arguments);return new c(function(b,c){function d(f,g){try{if(g&&(\\\"object\\\"==typeof g||\\\"function\\\"==typeof g)){var h=g.then;if(\\\"function\\\"==typeof h)return void h.call(g,function(a){d(f,a)},c)}a[f]=g,0===--e&&b(a)}catch(i){c(i)}}if(0===a.length)return b([]);for(var e=a.length,f=0;f<a.length;f++)d(f,a[f])})},c.resolve=function(a){return a&&\\\"object\\\"==typeof a&&a.constructor===c?a:new c(function(b){b(a)})},c.reject=function(a){return new c(function(b,c){c(a)})},c.race=function(a){return new c(function(b,c){for(var d=0,e=a.length;e>d;d++)a[d].then(b,c)})},c._setImmediateFn=function(a){j=a},\\\"undefined\\\"!=typeof module&&module.exports?module.exports=c:a.Promise||(a.Promise=c)}(this);\");\n}\nvar mz;\n(function (mz) {\n    mz.globalContext = window || typeof global != \"undefined\" && global;\n    (function () {\n        var UID = 1;\n        mz.globalContext.Symbol = mz.globalContext.Symbol || function (a) {\n            return \"[[\" + a + \"-\" + UID++ + \"]]\";\n        };\n    })();\n    mz._debug = window._debug || window.location.search.match('(\\\\?|&)mz-debug') !== null;\n    var scripts = document.getElementsByTagName('script'), test, mzcorePath, i, ln, scriptSrc, match, lang;\n    var jquery = true;\n    var jqueryVer = null;\n    for (i = 0, ln = scripts.length; i < ln; i++) {\n        scriptSrc = scripts[i].src;\n        match = scriptSrc.match(/mz(\\.min){0,1}\\.js/);\n        if (match) {\n            if (scriptSrc.match('(\\\\?|&)no-jquery') !== null) {\n                jquery = false;\n            }\n            mzcorePath = scriptSrc.substring(0, scriptSrc.indexOf(match[0]));\n            break;\n        }\n    }\n    mz.scriptBase = '';\n    // Path helpers\n    mz.core_path = (mzcorePath || '').toString();\n    (mz.core_path.substr(-1) !== '/') && (mz.core_path += '/');\n    function alias(clave, ruta) {\n        (ruta.substr(-1) !== '/') && (ruta += '/');\n        alias_routes[clave] = ruta;\n    }\n    mz.alias = alias;\n    ;\n    var alias_routes = {\n        mz: mz.core_path\n    };\n    function getPath(path, root) {\n        var io = 0, clave = null, base = root || mz.dom.adapter.getBaseHref() || mz.core_path;\n        (base.substr(-1) !== '/') && (base += '/');\n        if (path) {\n            if (path.substr(0, 1) == '@' && (io = path.indexOf('/')) != -1 && (clave = path.substr(1, io - 1)) && alias_routes.hasOwnProperty(clave)) {\n                path = path.replace('@' + clave + '/', alias_routes[clave]);\n            }\n            return path.substr(0, 2) in { './': 1, '~/': 1 } ? base + path.substr(2) : path;\n        }\n        return base;\n    }\n    mz.getPath = getPath;\n    ;\n    // element helpers\n    function getElementPosition(element) {\n        var elm = element;\n        if (element instanceof jQuery)\n            elm = element[0];\n        var x = 0;\n        var y = 0;\n        if (elm) {\n            x = elm.offsetLeft; // set x to elms offsetLeft\n            y = elm.offsetTop; // set y to elms offsetTop\n            elm = elm.offsetParent; // set elm to its offsetParent\n            //use while loop to check if elm is null\n            // if not then add current elms offsetLeft to x\n            //offsetTop to y and set elm to its offsetParent\n            while (elm != null) {\n                x = (x | 0) + elm.offsetLeft | 0;\n                y = (y | 0) + elm.offsetTop | 0;\n                elm = elm.offsetParent;\n            }\n        }\n        return {\n            x: x,\n            y: y\n        };\n    }\n    mz.getElementPosition = getElementPosition;\n    ;\n    mz.emptyFn = function () { };\n    mz.oldCopy = function (b, c) {\n        b = b || {};\n        c = c || {};\n        function extend(a, b) {\n            for (var i in b) {\n                a[i] = b[i];\n            }\n            return a;\n        }\n        b = extend(b, c);\n        if (c.hasOwnProperty && c.hasOwnProperty('toString') && (typeof c.toString != 'undefined') && (b.toString !== c.toString))\n            b.toString = c.toString;\n        return b;\n    };\n    function copy(Destination) {\n        var dest = arguments[0] || {};\n        if (arguments.length > 1) {\n            for (var i = 1; i < arguments.length; i++) {\n                dest = mz.oldCopy(dest, arguments[i]);\n            }\n            return dest;\n        }\n        if (arguments.length == 1) {\n            return mz.oldCopy({}, arguments[0]);\n        }\n        return dest;\n    }\n    mz.copy = copy;\n    ;\n    function mapXInto(propiedades, destino) {\n        var n_args = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            n_args[_i - 2] = arguments[_i];\n        }\n        if (arguments.length) {\n            for (var i = 1; i < arguments.length; i++) {\n                for (var prop in propiedades) {\n                    if (arguments[i] && (propiedades[prop] in arguments[i]))\n                        destino[propiedades[prop]] = arguments[i][propiedades[prop]];\n                }\n            }\n        }\n        return destino;\n    }\n    mz.mapXInto = mapXInto;\n    ;\n    function mapInto(destino) {\n        var n_args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            n_args[_i - 1] = arguments[_i];\n        }\n        var argumentos = Array.prototype.slice.call(arguments);\n        argumentos.unshift(Object.keys(destino));\n        return mapXInto.apply(null, argumentos);\n    }\n    mz.mapInto = mapInto;\n    ;\n    function isIterable(a) {\n        if (!a || (typeof a != 'object'))\n            return false;\n        if ('toString' in a && a.toString() == \"[object Object]\")\n            return true;\n        if (!('length' in a))\n            return false;\n        if (a instanceof Array || ('callee' in a) || ('push' in a && 'pop' in a))\n            return true;\n        return false;\n    }\n    mz.isIterable = isIterable;\n    function trim(text) {\n        try {\n            return String(text.toString()).trim();\n        }\n        catch (ignored) {\n            return \"\";\n        }\n    }\n    mz.trim = trim;\n    var contador_doms = 0;\n    function getDOMID() {\n        return \"mz-elem-\" + (contador_doms++);\n    }\n    mz.getDOMID = getDOMID;\n    function genUID() {\n        return (contador_doms++);\n    }\n    mz.genUID = genUID;\n    mz.intval = mz.globalContext.intval = function (mixed_var, base) {\n        var tmp;\n        var type = typeof (mixed_var);\n        if (type === 'boolean') {\n            return +mixed_var;\n        }\n        else if (type === 'string') {\n            tmp = parseInt(mixed_var, base || 10);\n            return (isNaN(tmp) || !isFinite(tmp)) ? 0 : tmp;\n        }\n        else if (type === 'number' && isFinite(mixed_var)) {\n            return mixed_var | 0;\n        }\n        else {\n            return 0;\n        }\n    };\n    //console.log('MZCORE: /--==<{[One Script To Rule Them All _]}>==--/');\n    mz.CBool = mz.globalContext.CBool = function (val) {\n        if (!val || val == null || val == undefined)\n            return false;\n        if (typeof val == 'string') {\n            if (val.toLowerCase() == \"false\")\n                return false;\n            if (val.toLowerCase() == \"0\")\n                return false;\n            if (val.trim().length)\n                return true;\n        }\n        if (mz.intval(val) != 0)\n            return true;\n        return false;\n    };\n    var theQueryString = {};\n    window.location && window.location.search.toString().replace(new RegExp(\"([^?=&]+)(=([^&]*))?\", \"g\"), function ($0, $1, $2, $3) {\n        theQueryString[$1] = $3;\n        return $0;\n    });\n    /**\n    Obtiene el valor de la clave del query string\n\n    @method queryString\n    @param {String} key\n    */\n    mz.queryString = function (key) {\n        if (key in theQueryString)\n            return theQueryString[key];\n        return null;\n    };\n    /**\n    Devuelve un valor booleano en base a la expresion. Si __expr__ es una funcin, la llama.\n\n    @method readBool\n    @param {Expression} expr\n    */\n    mz.readBool = function (cosa, datos, datos2) {\n        if (typeof cosa == 'function')\n            return !!cosa(datos, datos2);\n        return !!cosa;\n    };\n    /**\n    Devuelve un valor tipo string en base a la expresion. Si __expr__ es una funcin, la llama.\n\n    @method readString\n    @param {Expression} expr\n    */\n    mz.readString = function (cosa, datos, datos2) {\n        if (typeof cosa == 'function') {\n            var a = cosa(datos, datos2);\n            if (a != null)\n                return '' + a;\n            return '';\n        }\n        return '' + isDef(cosa) && cosa !== null ? cosa : '';\n    };\n    /**\n    Devuelve un valor en base a la expresion. Si __expr__ es una funcin, la llama.\n\n    @method readVar\n    @param {Expression} expr\n    */\n    mz.readVar = function (cosa, datos, datos2) {\n        if (typeof cosa == 'function')\n            return cosa(datos, datos2);\n        return cosa;\n    };\n    /**\n    Crea un delayer para la funcin\n\n    @method delayer\n    @param {Function} callback\n    @param {Int} defTimeout\n    @return {Function} FunctionDelayer\n    */\n    mz.delayer = function (fn, defTimeout, thisp) {\n        var timer = null;\n        defTimeout = defTimeout || 16;\n        var ret = function () {\n            timer && clearTimeout(timer);\n            var a = arguments;\n            thisp = thisp || this;\n            timer = setTimeout(function () {\n                fn.apply(thisp || null, a);\n                timer = null;\n            }, defTimeout);\n            return timer;\n        };\n        ret.now = function () {\n            timer && clearTimeout(timer);\n            timer = null;\n            return fn.apply(thisp || null, arguments);\n        };\n        ret.cancel = function () {\n            timer && clearTimeout(timer);\n            timer = null;\n        };\n        return ret;\n    };\n    /**\n    Debounces the current call until the next frame\n\n    @method delayer\n    @param {Function} fn\n    @return {Function} FunctionDelayer\n    */\n    mz.screenDelayer = function (fn, thisp) {\n        var timer = null;\n        var ret = function () {\n            timer && cancelAnimationFrame(timer);\n            var a = arguments;\n            thisp = thisp || this;\n            timer = requestAnimationFrame(function () {\n                fn.apply(thisp || null, a);\n                timer = null;\n            });\n            return timer;\n        };\n        ret.now = function () {\n            timer && cancelAnimationFrame(timer);\n            timer = null;\n            return fn.apply(thisp || null, arguments);\n        };\n        ret.cancel = function () {\n            timer && cancelAnimationFrame(timer);\n            timer = null;\n        };\n        return ret;\n    };\n    mz.traspose = function (a) {\n        return Object.keys(a[0]).map(function (c) {\n            return a.map(function (r) {\n                return r[c];\n            });\n        });\n    };\n    /**\n    Obtiene el valor del Performance Counter\n\n    @method now\n    @return {Number} PerformanceCounter\n    */\n    mz.now = 'performance' in window && window.performance.now ?\n        function () {\n            return window.performance.now();\n        } :\n        function () {\n            return (new Date()).getTime();\n        };\n    mz.blankImage = 'data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==';\n    mz.transformTag = null;\n    var data;\n    (function (data) {\n        var order;\n        (function (order) {\n            function null_arriba(a, b, campo) {\n                var aTieneNulo = !(campo in a) || a[campo] == null;\n                var bTieneNulo = !(campo in b) || b[campo] == null;\n                if (aTieneNulo != bTieneNulo) {\n                    if (bTieneNulo)\n                        return -1;\n                    return 1;\n                }\n                if (aTieneNulo == true || a[campo] == b[campo])\n                    return 0;\n                return +(a[campo] > b[campo]) * 2 - 1;\n            }\n            order.null_arriba = null_arriba;\n            function null_abajo(a, b, campo) {\n                var aTieneNulo = !(campo in a) || a[campo] == null;\n                var bTieneNulo = !(campo in b) || b[campo] == null;\n                if (aTieneNulo != bTieneNulo) {\n                    if (bTieneNulo)\n                        return 1;\n                    return -1;\n                }\n                if (aTieneNulo == true || a[campo] == b[campo])\n                    return 0;\n                return +(a[campo] > b[campo]) * 2 - 1;\n            }\n            order.null_abajo = null_abajo;\n            function build(elems) {\n                if (typeof elems == 'function')\n                    return elems;\n                var null_abajo = this.null_abajo, null_arriba = this.null_arriba;\n                if (typeof elems == 'string') {\n                    elems = elems.split(',');\n                    for (var i in elems) {\n                        elems[i] = mz.trim(elems[i]);\n                        var t = elems[i].toUpperCase();\n                        if (/(( ASC)|( DESC))$/.test(t)) {\n                            elems[i] = {\n                                invertir: /( DESC)$/.test(t),\n                                campo: elems[i].replace(/( ASC)$|( DESC)$/, '')\n                            };\n                        }\n                    }\n                }\n                return function (a, b) {\n                    var tmp = 0;\n                    for (var i in elems) {\n                        if (typeof elems[i] == \"string\") {\n                            tmp = null_abajo(a, b, elems[i]);\n                        }\n                        else {\n                            if (elems[i].null_abajo) {\n                                tmp = null_abajo(a, b, elems[i].campo);\n                            }\n                            else {\n                                tmp = null_arriba(a, b, elems[i].campo);\n                            }\n                            if (elems[i].invertir)\n                                tmp *= -1;\n                        }\n                        if (tmp != 0)\n                            return tmp;\n                    }\n                    return tmp;\n                };\n            }\n            order.build = build;\n        })(order = data.order || (data.order = {}));\n    })(data = mz.data || (mz.data = {}));\n    mz.hardCodedFiles = {};\n    function escapeRegExp(str) {\n        return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\");\n    }\n    mz.escapeRegExp = escapeRegExp;\n    var cssCargados = {};\n    function loadCss(url) {\n        url = getPath(url);\n        var absoluteUrl = mz.xr.getAbsoluteUrl(url);\n        if (url in cssCargados)\n            return cssCargados[url];\n        if (absoluteUrl in cssCargados)\n            return cssCargados[absoluteUrl];\n        var estilos = document.getElementsByTagName('link'), i, ln;\n        for (i = 0, ln = estilos.length; i < ln; i++) {\n            if (estilos[i].rel == 'stylesheet' && (estilos[i].href.split('?')[0] == url || estilos[i].href.split('?')[0] == absoluteUrl))\n                return estilos[i];\n        }\n        if ('createStyleSheet' in document) {\n            return cssCargados[url] = document.createStyleSheet(url);\n        }\n        else {\n            var style = $(\"<link rel='stylesheet' type='text/css' />\");\n            style.attr('href', url);\n            //$(function () {\n            style.appendTo($(\"head\"));\n            //});\n            cssCargados[url] = style;\n            return style[0];\n        }\n    }\n    mz.loadCss = loadCss;\n    function fnInfo(fn) {\n        var fnRegex = /^function[^(]*\\(([^)]*)\\)\\s*{([\\s\\S]*)}$/;\n        var matches = fn.toString().match(fnRegex);\n        return {\n            params: matches[1].split(\",\"),\n            body: matches[2]\n        };\n    }\n    mz.fnInfo = fnInfo;\n    function compileFilter(filter) {\n        var filterInfo = fnInfo(filter);\n        var filterBody = filterInfo.body\n            .replace(/return false[;}]/gi, \"{ continue _coreloop; }\")\n            .replace(/return true[;}]/gi, \"{ _retval.push($item$); continue _coreloop; }\")\n            .replace(/return ([^;}]+?)/gi, \"{ if ($1) { _retval.push($item$) }; continue _coreloop; }\");\n        var tpl = [\n            //\"function(_items, _args) { \",\n            \"var _retval = new Array(), _idx = 0; \",\n            \"var $item$, $args$ = _args; \",\n            \"_coreloop: \",\n            \"for (var _i = 0, _il = _items.length; _i < _il; _i++) { \",\n            \"$item$ = _items[_i]; \",\n            \"$filter$; \",\n            \"} \",\n            \"return _retval; \"\n        ].join(\"\");\n        tpl = tpl.replace(/\\$filter\\$/gi, filterBody);\n        tpl = tpl.replace(/\\$item\\$/gi, filterInfo.params[0]);\n        tpl = tpl.replace(/\\$args\\$/gi, filterInfo.params[1]);\n        var fn = new Function(\"_items,_args\", tpl);\n        fn.displayName = fn.name = \"compiledFilter\";\n        return fn;\n    }\n    mz.compileFilter = compileFilter;\n    function getWindowSize() {\n        var winW = 630, winH = 460;\n        if (document.body && document.body.offsetWidth) {\n            winW = document.body.offsetWidth;\n            winH = document.body.offsetHeight;\n        }\n        if (document.compatMode == 'CSS1Compat' && document.documentElement && document.documentElement.offsetWidth) {\n            winW = document.documentElement.offsetWidth;\n            winH = document.documentElement.offsetHeight;\n        }\n        if (window.innerWidth && window.innerHeight) {\n            winW = window.innerWidth;\n            winH = window.innerHeight;\n        }\n        return {\n            width: winW,\n            height: winH\n        };\n    }\n    mz.getWindowSize = getWindowSize;\n    ;\n    var uid = 0;\n    function globalCallback(cb) {\n        uid++;\n        mz[\"__\" + uid] = cb;\n        return \"mz.__\" + uid;\n    }\n    mz.globalCallback = globalCallback;\n    function buscarArgumentoTipo(tipo, argu) {\n        var args = argu || arguments.callee.caller.arguments;\n        if (typeof tipo == 'string') {\n            for (var i in args) {\n                if (typeof args[i] == tipo) {\n                    return args[i];\n                }\n            }\n        }\n        else if (typeof tipo == 'function') {\n            for (var i in args) {\n                if (args[i] instanceof tipo) {\n                    return args[i];\n                }\n            }\n        }\n    }\n    mz.buscarArgumentoTipo = buscarArgumentoTipo;\n})(mz || (mz = {}));\nvar mz;\n(function (mz) {\n    var view;\n    (function (view) {\n        // riot!.js\n        var brackets = (function (orig) {\n            var cachedBrackets, r, b, re = /[{}]/g;\n            return function (x) {\n                // make sure we use the current setting\n                var s = orig;\n                // recreate cached vars if needed\n                if (cachedBrackets !== s) {\n                    cachedBrackets = s;\n                    b = s.split(' ');\n                    r = b.map(function (e) { return e.replace(/(?=.)/g, '\\\\'); });\n                }\n                // if regexp given, rewrite it with current brackets (only if differ from default)\n                return x instanceof RegExp ? (s === orig ? x :\n                    new RegExp(x.source.replace(re, function (b) { return r[~~(b === '}')]; }), x.global ? 'g' : '')) :\n                    // else, get specific bracket\n                    b[x];\n            };\n        })('{ }');\n        var cache = {}, reVars = /(['\"\\/]).*?[^\\\\]\\1|\\.\\w*|\\w*:|\\b(?:(?:new|typeof|in|instanceof) |(?:this|true|false|null|undefined)\\b|function *\\()|([a-z_$]\\w*)/gi;\n        //           [ 1               ][ 2  ][ 3 ][ 4                                                                                  ][ 5       ]\n        // find variable names:\n        // 1. skip quoted strings and regexps: \"a b\", 'a b', 'a \\'b\\'', /a b/\n        // 2. skip object properties: .name\n        // 3. skip object literals: name:\n        // 4. skip javascript keywords\n        // 5. match var name\n        // build a template (or get it from cache), render with data\n        function tmpl(str, context, scope) {\n            return str && (cache[str] = cache[str] || tmpl.internalTmpl(str)).call(context, scope);\n        }\n        view.tmpl = tmpl;\n        var tmpl;\n        (function (tmpl) {\n            tmpl.debug = false;\n            // create a template instance\n            function internalTmpl(s, p) {\n                if (tmpl.debug) {\n                    console.groupCollapsed(s);\n                }\n                var orig = s;\n                // default template string to {}\n                s = (s || (brackets(0) + brackets(1)))\n                    .replace(brackets(/\\\\{/g), '\\uFFF0')\n                    .replace(brackets(/\\\\}/g), '\\uFFF1');\n                // split string to expression and non-expresion parts\n                p = split(s, extract(s, brackets(/{/), brackets(/}/)));\n                var body = (\n                // is it a single expression or a template? i.e. {x} or <b>{x}</b>\n                !p[0] && !p[2] && !p[3]\n                    ? expr(p[1])\n                    : '[' + p.map(function (s, i) {\n                        // is it an expression or a string (every second part is an expression)\n                        return i % 2\n                            ? expr(s, true)\n                            : '\"' + s\n                                .replace(/\\r\\n/g, '\\\\n')\n                                .replace(/\\r/g, '\\\\n')\n                                .replace(/\\n/g, '\\\\n')\n                                .replace(/\"/g, '\\\\\"')\n                                + '\"';\n                    }).join(',') + '].join(\"\")')\n                    .replace(/\\uFFF0/g, brackets(0))\n                    .replace(/\\uFFF1/g, brackets(1));\n                if (body.trim().length == 0)\n                    body = 'void 0';\n                if (tmpl.debug) {\n                    console.log(body);\n                    console.groupEnd();\n                }\n                var a = new Function('scope', 'return (' + body + ')');\n                a.mzt = orig;\n                return a;\n            }\n            tmpl.internalTmpl = internalTmpl;\n            // parse { ... } expression\n            function expr(s, n) {\n                if (tmpl.debug)\n                    console.log('expr:', s);\n                s = s\n                    .replace(/\\n/g, ' ')\n                    .replace(brackets(/^[{ ]+|[ }]+$|\\/\\*.+?\\*\\//g), '');\n                // is it an object literal? i.e. { key : value }\n                return /^\\s*[\\w-#\\. \"']+ *:/.test(s)\n                    ? '[' +\n                        // extract key:val pairs, ignoring any nested objects\n                        extract(s, \n                        // name part: name:, \"name\":, 'name':, name :\n                        /[\"' ]*[\\w-#\\. ]+[\"' ]*:/, \n                        // expression part: everything upto a comma followed by a name (see above) or end of line\n                        /,(?=[\"' ]*[\\w-#\\. ]+[\"' ]*:)|}|$/).map(function (pair) {\n                            // get key, val parts\n                            return pair.replace(/^[ \"']*(.+?)[ \"']*: *(.+?),? *$/, function (_, k, v) {\n                                // wrap all conditional parts to ignore errors\n                                return v.replace(/[^&|=!><]+/g, wrap) + '?\"' + k + '\":\"\",';\n                            });\n                        }).join('')\n                        + '].join(\" \").trim()'\n                    : wrap(s, n);\n            }\n            tmpl.expr = expr;\n            ;\n            // execute js w/o breaking on errors or undefined vars\n            function wrap(s, nonull) {\n                s = s.trim();\n                return !s ? '' : \"\\n                (function(){ \\n                    var v; \\n                    try { \\n                        v = \"\n                    + (s.replace(reVars, function (s, _, v) {\n                        return v ?\n                            \"\\n                            (typeof \" + v + \" === \\\"undefined\\\" ? typeof this.\" + v + \" === \\\"undefined\\\" ? this.get && this.get(\\\"\" + v + \"\\\") : this.\" + v + \" : \" + v + \")\"\n                            :\n                                s;\n                    }) || '[][0]')\n                    + (\"\\n                    } catch(e) { }\\n                    return \" + (nonull === true ? ' !v && v !== 0 ? \"\" : v' : 'v') + \";\\n                }).call(this)\");\n            }\n            tmpl.wrap = wrap;\n            // split string by an array of substrings\n            function split(str, substrings) {\n                var parts = [];\n                substrings.map(function (sub, i) {\n                    // push matched expression and part before it\n                    i = str.indexOf(sub);\n                    parts.push(str.slice(0, i), sub);\n                    str = str.slice(i + sub.length);\n                });\n                // push the remaining part\n                return parts.concat(str);\n            }\n            tmpl.split = split;\n            // match strings between opening and closing regexp, skipping any inner/nested matches\n            function extract(str, open, close) {\n                var start, level = 0, matches = [], re = new RegExp('(' + open.source + ')|(' + close.source + ')', 'g');\n                str.replace(re, function (_, open, close, pos) {\n                    // if outer inner bracket, mark position\n                    if (!level && open)\n                        start = pos;\n                    // in(de)crease bracket level\n                    level += open ? 1 : -1;\n                    // if outer closing bracket, grab the match\n                    if (!level && close != null)\n                        matches.push(str.slice(start, pos + close.length));\n                });\n                return matches;\n            }\n            tmpl.extract = extract;\n        })(tmpl = view.tmpl || (view.tmpl = {}));\n    })(view = mz.view || (mz.view = {}));\n})(mz || (mz = {}));\nvar mz;\n(function (mz) {\n    mz.HIDDEN_PROP = (function getHiddenProp() {\n        var prefixes = ['webkit', 'moz', 'ms', 'o', 'Webkit'];\n        if (typeof document == \"undefined\")\n            return null;\n        // if 'hidden' is natively supported just return it\n        if ('hidden' in document)\n            return 'hidden';\n        // otherwise loop over all the known prefixes until we find one\n        for (var i = 0; i < prefixes.length; i++) {\n            if ((prefixes[i] + 'Hidden') in document)\n                return prefixes[i] + 'Hidden';\n        }\n        // otherwise it's not supported\n        return null;\n    })();\n    mz.hiddenProp = mz.HIDDEN_PROP;\n    var tmp;\n    if (typeof document != \"undefined\")\n        tmp = document.createElement(\"div\");\n    mz.TRANSFORM_STYLE = (function getTransformTag() {\n        var prefixes = ['webkit', 'moz', 'ms', 'o', 'Webkit'];\n        if (!tmp)\n            return null;\n        if ('transform' in tmp.style)\n            return 'transform';\n        for (var i = 0; i < prefixes.length; i++) {\n            if ((prefixes[i] + 'Transform') in tmp.style)\n                return prefixes[i] + 'Transform';\n        }\n        return null;\n    })();\n    mz.TRANSFORM_CSS = (function getTransformTag() {\n        var prefixes = ['webkit', 'moz', 'ms', 'o', 'Webkit'];\n        if (!tmp)\n            return null;\n        if ('transform' in tmp.style)\n            return 'transform';\n        for (var i = 0; i < prefixes.length; i++) {\n            if ((prefixes[i] + 'Transform') in tmp.style)\n                return '-' + prefixes[i] + '-transform';\n        }\n        return null;\n    })();\n})(mz || (mz = {}));\nvar mz;\n(function (mz) {\n    var eventSplitter = /\\s+/g;\n    var EventDispatcherBinding = (function () {\n        function EventDispatcherBinding() {\n            this.enabled = true;\n        }\n        EventDispatcherBinding.prototype.off = function () {\n            if (this.object) {\n                this.cb && this.object.off(this);\n                this.cb = null;\n                this.object = null;\n                if (this.sharedList)\n                    delete this.sharedList;\n            }\n        };\n        EventDispatcherBinding.prototype.enable = function () {\n            if (this.sharedList) {\n                for (var i = 0; i < this.sharedList.length; i++)\n                    this.sharedList[i].enabled = true;\n            }\n            else\n                this.enabled = true;\n        };\n        EventDispatcherBinding.prototype.disable = function () {\n            if (this.sharedList) {\n                for (var i = 0; i < this.sharedList.length; i++)\n                    this.sharedList[i].enabled = false;\n            }\n            else\n                this.enabled = false;\n        };\n        return EventDispatcherBinding;\n    })();\n    mz.EventDispatcherBinding = EventDispatcherBinding;\n    var turnOffCallback = function (f) {\n        delete f.cb;\n    };\n    var EventDispatcher = (function () {\n        function EventDispatcher() {\n            this.ed_bindeos = {};\n            this.ed_bindCount = 0;\n            this.trigger = this.emit;\n        }\n        EventDispatcher.prototype.on = function (event, callback, once) {\n            var _this = this;\n            this.ed_bindCount++;\n            var events = event.split(eventSplitter);\n            var tmp;\n            var listaBindeos = [];\n            events.forEach(function (evt) {\n                tmp = new EventDispatcherBinding();\n                tmp.id = _this.ed_bindCount;\n                tmp.cb = null;\n                tmp.evento = evt;\n                tmp.sharedList = listaBindeos;\n                tmp.object = _this;\n                listaBindeos && listaBindeos.push(tmp);\n                if (once) {\n                    tmp.cb = function () {\n                        callback.apply(this, arguments);\n                        tmp.cb = null;\n                    };\n                }\n                else {\n                    tmp.cb = callback;\n                }\n                tmp.cb = tmp.cb.bind(_this);\n                _this.ed_bindeos[evt] = _this.ed_bindeos[evt] || [];\n                _this.ed_bindeos[evt].push(tmp);\n            });\n            return tmp;\n        };\n        EventDispatcher.prototype.once = function (event, callback) {\n            return this.on(event, callback, true);\n        };\n        EventDispatcher.prototype.off = function (bindeo, callback) {\n            if (arguments.length == 0) {\n                for (var i in this.ed_bindeos) {\n                    for (var e in this.ed_bindeos[i])\n                        delete this.ed_bindeos[i][e].cb;\n                    this.ed_bindeos[i].length = 0;\n                }\n            }\n            else if (bindeo instanceof EventDispatcherBinding) {\n                bindeo.cb = null;\n                bindeo.sharedList && bindeo.sharedList.length && bindeo.sharedList.forEach(turnOffCallback);\n            }\n            else if (typeof bindeo === 'string') {\n                if (typeof callback == 'function') {\n                    for (var i in this.ed_bindeos[bindeo]) {\n                        if (this.ed_bindeos[bindeo][i].cb === callback) {\n                            this.ed_bindeos[bindeo][i].cb = null;\n                        }\n                    }\n                }\n                else if (typeof bindeo == 'string') {\n                    this.ed_bindeos[bindeo] = [];\n                }\n            }\n            else if (typeof bindeo === 'function') {\n                for (var evt in this.ed_bindeos) {\n                    for (var i_1 in this.ed_bindeos[evt]) {\n                        if (this.ed_bindeos[evt][i_1].cb === bindeo) {\n                            this.ed_bindeos[evt][i_1].cb = null;\n                        }\n                    }\n                }\n            }\n        };\n        // cleanup the disposed events\n        EventDispatcher.prototype.cleanupTurnedOffEvents = function () {\n            for (var evt in this.ed_bindeos) {\n                var list = [];\n                for (var i in this.ed_bindeos[evt]) {\n                    if (this.ed_bindeos[evt][i] && this.ed_bindeos[evt][i] instanceof EventDispatcherBinding && this.ed_bindeos[evt][i].cb) {\n                        list.push(this.ed_bindeos[evt]);\n                    }\n                }\n                this.ed_bindeos[evt] = list;\n            }\n        };\n        EventDispatcher.prototype.emit = function (event) {\n            if (event in this.ed_bindeos) {\n                if (arguments.length == 1) {\n                    for (var i = 0; i < this.ed_bindeos[event].length; i++) {\n                        var e = this.ed_bindeos[event][i];\n                        e && e.cb && e.enabled && e.cb();\n                    }\n                }\n                else if (arguments.length == 2) {\n                    for (var i = 0; i < this.ed_bindeos[event].length; i++) {\n                        var e = this.ed_bindeos[event][i];\n                        e && e.cb && e.enabled && e.cb(arguments[1]);\n                    }\n                }\n                else if (arguments.length == 3) {\n                    for (var i = 0; i < this.ed_bindeos[event].length; i++) {\n                        var e = this.ed_bindeos[event][i];\n                        e && e.cb && e.enabled && e.cb(arguments[1], arguments[2]);\n                    }\n                }\n                else if (arguments.length == 4) {\n                    for (var i = 0; i < this.ed_bindeos[event].length; i++) {\n                        var e = this.ed_bindeos[event][i];\n                        e && e.cb && e.enabled && e.cb(arguments[1], arguments[2], arguments[3]);\n                    }\n                }\n                else if (arguments.length == 5) {\n                    for (var i = 0; i < this.ed_bindeos[event].length; i++) {\n                        var e = this.ed_bindeos[event][i];\n                        e && e.cb && e.enabled && e.cb(arguments[1], arguments[2], arguments[3], arguments[4]);\n                    }\n                }\n                else if (arguments.length > 4) {\n                    var args = Array.prototype.slice.call(arguments, 1);\n                    for (var i = 0; i < this.ed_bindeos[event].length; i++) {\n                        var e = this.ed_bindeos[event][i];\n                        e && e.cb && e.enabled && e.cb.apply(this, args);\n                    }\n                }\n            }\n        };\n        EventDispatcher.EVENTS = {};\n        return EventDispatcher;\n    })();\n    mz.EventDispatcher = EventDispatcher;\n})(mz || (mz = {}));\n/// <reference path=\"../mz.ts\" />\n/// <reference path=\"EventDispatcher.ts\" />\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar mz;\n(function (mz) {\n    mz.MVCOBJECT_VALIDATOR_SYMBOL = Symbol(\"mvcobject-validators\");\n    var MVCObject = (function (_super) {\n        __extends(MVCObject, _super);\n        function MVCObject(args) {\n            _super.call(this);\n            this.data = {};\n            args && this.setValues(args);\n        }\n        MVCObject.prototype.getAll = function () { return mz.copy(this.data); };\n        MVCObject.prototype.setValues = function (values, emit) {\n            if (values instanceof MVCObject) {\n                values = values.getAll();\n            }\n            for (var i in values) {\n                this.set(i, values[i], !emit);\n            }\n            this.emit(MVCObject.EVENTS.setValues, this.data, values);\n        };\n        MVCObject.prototype.set = function (field, value, PreventPropagation) {\n            if (typeof field === \"undefined\")\n                return;\n            var viejo = this.data[field];\n            var preventPropagation = false;\n            this.data[field] = value;\n            var ch = field + '_changed';\n            var result;\n            if (mz.MVCOBJECT_VALIDATOR_SYMBOL in this && field in this[mz.MVCOBJECT_VALIDATOR_SYMBOL]) {\n                var array = this[mz.MVCOBJECT_VALIDATOR_SYMBOL][field];\n                for (var i = 0; i < array.length; i++) {\n                    var validator = array[i];\n                    try {\n                        if (validator instanceof ModelValidator) {\n                            result = validator.validate(value, viejo);\n                        }\n                        else {\n                            result = validator(value, viejo);\n                        }\n                        if (typeof result !== \"undefined\") {\n                            value = this.data[field] = result;\n                        }\n                    }\n                    catch (e) {\n                        if (e === MVCObject.Exception_RollbackOperation) {\n                            this.data[field] = viejo;\n                            return;\n                        }\n                        else if (e === MVCObject.Exception_PreventPropagation)\n                            preventPropagation = true;\n                        else\n                            throw e;\n                    }\n                }\n            }\n            if (ch in this && typeof this[ch] === 'function') {\n                try {\n                    result = this[ch](value, viejo);\n                }\n                catch (e) {\n                    if (e === MVCObject.Exception_RollbackOperation) {\n                        this.data[field] = viejo;\n                        return;\n                    }\n                    else if (e === MVCObject.Exception_PreventPropagation)\n                        preventPropagation = true;\n                    else\n                        throw e;\n                }\n            }\n            if (preventPropagation)\n                return;\n            if (typeof result !== \"undefined\") {\n                value = this.data[field] = result;\n            }\n            this.emit(ch, this.data[field], viejo);\n            !PreventPropagation && this.emit(MVCObject.EVENTS.valueChanged, this.data, field, this.data[field], viejo);\n        };\n        MVCObject.prototype.get = function (field) {\n            return this.data[field];\n        };\n        MVCObject.prototype.touch = function (fieldName) {\n            this.set(fieldName, this.get(fieldName));\n        };\n        MVCObject.prototype.toJSON = function () {\n            return this.getAll();\n        };\n        MVCObject.EVENTS = mz.copy({\n            /** Triggered when the method setValues is called */\n            setValues: \"setValues\",\n            /** Triggered when a value is setted */\n            valueChanged: \"valueChanged\"\n        }, mz.EventDispatcher.EVENTS);\n        MVCObject.Exception_RollbackOperation = new Error(\"The change operation has been rolled back\");\n        MVCObject.Exception_PreventPropagation = new Error(\"The propagation events has been aborted\");\n        return MVCObject;\n    })(mz.EventDispatcher);\n    mz.MVCObject = MVCObject;\n    var ModelValidator = (function () {\n        function ModelValidator(target, propertyKey, props) {\n            this.target = target;\n            this.propertyKey = propertyKey;\n            this.props = props;\n        }\n        ModelValidator.prototype.validate = function (newVal, prevVal) {\n            return newVal;\n        };\n        return ModelValidator;\n    })();\n    mz.ModelValidator = ModelValidator;\n})(mz || (mz = {}));\nvar mz;\n(function (mz) {\n    var MVCObject;\n    (function (MVCObject) {\n        function proxy(target, propertyKey) {\n            if (delete target[propertyKey]) {\n                Object.defineProperty(target, propertyKey.toString(), {\n                    get: function () {\n                        return this.data[propertyKey];\n                    },\n                    set: function (value) {\n                        this.set(propertyKey, value);\n                    },\n                    enumerable: true\n                });\n            }\n        }\n        MVCObject.proxy = proxy;\n        function ModelProp(props) {\n            return function (target, propertyKey) {\n                if (delete target[propertyKey]) {\n                    if (!target[mz.MVCOBJECT_VALIDATOR_SYMBOL]) {\n                        target[mz.MVCOBJECT_VALIDATOR_SYMBOL] = {};\n                    }\n                    // ensure list\n                    var list = target[mz.MVCOBJECT_VALIDATOR_SYMBOL][propertyKey] = target[mz.MVCOBJECT_VALIDATOR_SYMBOL][propertyKey] || [];\n                    target[mz.MVCOBJECT_VALIDATOR_SYMBOL][propertyKey] = list.concat(props.validators);\n                    Object.defineProperty(target, propertyKey.toString(), {\n                        get: function () {\n                            return this.data[propertyKey];\n                        },\n                        set: function (value) {\n                            this.set(propertyKey, value);\n                        },\n                        enumerable: true\n                    });\n                }\n            };\n        }\n        MVCObject.ModelProp = ModelProp;\n        function proxyDeep(target, propertyKey) {\n            if (delete target[propertyKey]) {\n                var listener = null;\n                Object.defineProperty(target, propertyKey.toString(), {\n                    get: function () {\n                        return this.data[propertyKey];\n                    },\n                    set: function (value) {\n                        var _this = this;\n                        if (listener && listener.object == value) {\n                            this.set(propertyKey, value);\n                        }\n                        else {\n                            listener && listener.off();\n                            if (value instanceof MVCObject) {\n                                listener = value.on(MVCObject.EVENTS.valueChanged, function () { return _this.touch(propertyKey); });\n                            }\n                            else {\n                                listener = null;\n                            }\n                        }\n                    },\n                    enumerable: true\n                });\n            }\n        }\n        MVCObject.proxyDeep = proxyDeep;\n    })(MVCObject = mz.MVCObject || (mz.MVCObject = {}));\n})(mz || (mz = {}));\n/// <reference path=\"../mz.ts\" />\nvar mz;\n(function (mz) {\n    var core;\n    (function (core) {\n        var decorators;\n        (function (decorators) {\n            function LogResult(target, key, value) {\n                return {\n                    value: function () {\n                        var args = [];\n                        for (var _i = 0; _i < arguments.length; _i++) {\n                            args[_i - 0] = arguments[_i];\n                        }\n                        var a = args.map(function (a) { return JSON.stringify(a); }).join();\n                        var result = value.value.apply(this, args);\n                        var r = JSON.stringify(result);\n                        console.log(\"LogResult: \" + key + \"(\" + a + \") => \" + r);\n                        return result;\n                    }\n                };\n            }\n            decorators.LogResult = LogResult;\n            function noEnumerable(target, propertyKey, descriptor) {\n                descriptor.enumerable = false;\n                return descriptor;\n            }\n            decorators.noEnumerable = noEnumerable;\n            var delayerCount = 0;\n            function delayer(timeout) {\n                return function (target, propertyKey, descriptor) {\n                    var originalValue = descriptor.value;\n                    var delayerID = Symbol(\"[[delayer-\" + delayerCount++ + \"]]\");\n                    descriptor.value = function () {\n                        var theDelayer = this[delayerID] = this[delayerID] || mz.delayer(originalValue, timeout, this);\n                        return theDelayer.apply(this, arguments);\n                    };\n                    return descriptor;\n                };\n            }\n            decorators.delayer = delayer;\n            function screenDelayer(target, propertyKey, descriptor) {\n                var originalValue = descriptor.value;\n                var delayerID = Symbol(\"[[delayer-\" + delayerCount++ + \"]]\");\n                descriptor.value = function () {\n                    var theDelayer = this[delayerID] = this[delayerID] || mz.screenDelayer(originalValue, this);\n                    return theDelayer.apply(this, arguments);\n                };\n                return descriptor;\n            }\n            decorators.screenDelayer = screenDelayer;\n        })(decorators = core.decorators || (core.decorators = {}));\n    })(core = mz.core || (mz.core = {}));\n})(mz || (mz = {}));\n/// <reference path=\"../mz.ts\" />\n/// <reference path=\"../VIEW/Tmpl.ts\" />\n/// <reference path=\"../VIEW/Helpers.ts\" />\n/// <reference path=\"../CORE/MVCObject.ts\" />\n/// <reference path=\"Widget.ts\" />\nvar mz;\n(function (mz) {\n    var widgets;\n    (function (widgets) {\n        var TextNode = (function () {\n            function TextNode(value, component, scope) {\n                this.value = value;\n                this.component = component;\n                this.scope = scope;\n                this.listening = [];\n                var t = mz.view.tmpl(value, component, scope);\n                if (typeof t === \"undefined\")\n                    t = '';\n                this.rootNode = mz.dom.adapter.createTextNode(t);\n                this.rootNode.$tmpl = value;\n                this.rootNode.$component = component;\n                this.rootNode.$scope = scope;\n                this.rootNode.$widget = this;\n            }\n            TextNode.prototype.setup = function (value, component, scope) {\n                this.value = value;\n                this.component = component;\n                this.scope = scope;\n                var t = mz.view.tmpl(value, component, scope);\n                if (typeof t === \"undefined\" || t === null)\n                    t = '';\n                //this.rootNode.textContent = t;\n                mz.dom.microqueue.setText(this.rootNode, t);\n                this.rootNode.$tmpl = value;\n                this.rootNode.$component = component;\n                this.rootNode.$scope = scope;\n                this.rootNode.$widget = this;\n            };\n            TextNode.prototype.unmount = function () {\n                this.rootNode.remove();\n                this.rootNode.$tmpl = null;\n                this.rootNode.$component = null;\n                this.rootNode.$scope = null;\n                this.rootNode.$widget = null;\n                for (var _i = 0, _a = this.listening; _i < _a.length; _i++) {\n                    var i = _a[_i];\n                    i && i.off && i.off();\n                }\n                this.listening.length = 0;\n                this.value = this.component = this.scope = null;\n                TextNode.returnToPoll(this);\n            };\n            TextNode.prototype.refreshScope = function () {\n                var t = mz.view.tmpl(this.value, this.component, this.scope);\n                if (typeof t === \"undefined\" || t === null)\n                    t = '';\n                mz.dom.microqueue.setText(this.rootNode, t);\n                //if (this.rootNode.textContent != t) {\n                //    this.rootNode.textContent = t;\n                //}\n            };\n            TextNode.returnToPoll = function (val) {\n                if (val)\n                    this.pollObjects.push(val);\n            };\n            TextNode.getFromPoll = function (value, component, scope) {\n                var elem = null;\n                if (this.pollObjects.length) {\n                    elem = this.pollObjects.pop();\n                    elem.setup(value, component, scope);\n                    return elem;\n                }\n                else {\n                    return new TextNode(value, component, scope);\n                }\n            };\n            TextNode.pollObjects = [];\n            return TextNode;\n        })();\n        widgets.TextNode = TextNode;\n    })(widgets = mz.widgets || (mz.widgets = {}));\n})(mz || (mz = {}));\nvar mz;\n(function (mz) {\n    var dom;\n    (function (dom) {\n        function setRootDomAdapter(theAdapter) {\n            if (!dom.adapter) {\n                mz.scriptBase = theAdapter.getBaseHref() || '';\n                dom.adapter = theAdapter;\n            }\n        }\n        dom.setRootDomAdapter = setRootDomAdapter;\n    })(dom = mz.dom || (mz.dom = {}));\n})(mz || (mz = {}));\n/// <reference path=\"../../mz.ts\" />\n/// <reference path=\"../DOM.ts\" />\nvar mz;\n(function (mz) {\n    var dom;\n    (function (dom) {\n        /* tslint:disable:requireParameterType */\n        /**\n         * Provides DOM operations in an environment-agnostic way.\n         */\n        var AbstractDomAdapter = (function () {\n            function AbstractDomAdapter() {\n            }\n            return AbstractDomAdapter;\n        })();\n        dom.AbstractDomAdapter = AbstractDomAdapter;\n    })(dom = mz.dom || (mz.dom = {}));\n})(mz || (mz = {}));\n/// <reference path=\"DOM.ts\" />\nvar mz;\n(function (mz) {\n    var dom;\n    (function (dom) {\n        var _attrToPropMap = {\n            'class': 'className',\n            'innerHtml': 'innerHTML',\n            'readonly': 'readOnly',\n            'tabindex': 'tabIndex'\n        };\n        var DOM_KEY_LOCATION_NUMPAD = 3;\n        // Map to convert some key or keyIdentifier values to what will be returned by getEventKey\n        var _keyMap = {\n            // The following values are here for cross-browser compatibility and to match the W3C standard\n            // cf http://www.w3.org/TR/DOM-Level-3-Events-key/\n            '\\b': 'Backspace',\n            '\\t': 'Tab',\n            '\\x7F': 'Delete',\n            '\\x1B': 'Escape',\n            'Del': 'Delete',\n            'Esc': 'Escape',\n            'Left': 'ArrowLeft',\n            'Right': 'ArrowRight',\n            'Up': 'ArrowUp',\n            'Down': 'ArrowDown',\n            'Menu': 'ContextMenu',\n            'Scroll': 'ScrollLock',\n            'Win': 'OS'\n        };\n        // There is a bug in Chrome for numeric keypad keys:\n        // https://code.google.com/p/chromium/issues/detail?id=155654\n        // 1, 2, 3 ... are reported as A, B, C ...\n        var _chromeNumKeyPadMap = {\n            'A': '1',\n            'B': '2',\n            'C': '3',\n            'D': '4',\n            'E': '5',\n            'F': '6',\n            'G': '7',\n            'H': '8',\n            'I': '9',\n            'J': '*',\n            'K': '+',\n            'M': '-',\n            'N': '.',\n            'O': '/',\n            '\\x60': '0',\n            '\\x90': 'NumLock'\n        };\n        /**\n         * Provides DOM operations in any browser environment.\n         */\n        var GenericBrowserDomAdapter = (function (_super) {\n            __extends(GenericBrowserDomAdapter, _super);\n            function GenericBrowserDomAdapter() {\n                _super.call(this);\n                this._animationPrefix = null;\n                this._transitionEnd = null;\n                try {\n                    var element = this.createElement('div', this.defaultDoc());\n                    if ((this.getStyle(element, 'animationName'))) {\n                        this._animationPrefix = '';\n                    }\n                    else {\n                        var domPrefixes = ['Webkit', 'Moz', 'O', 'ms'];\n                        for (var i = 0; i < domPrefixes.length; i++) {\n                            if ((this.getStyle(element, domPrefixes[i] + 'AnimationName'))) {\n                                this._animationPrefix = '-' + (domPrefixes[i].toLowerCase()) + '-';\n                                break;\n                            }\n                        }\n                    }\n                    var transEndEventNames = {\n                        WebkitTransition: 'webkitTransitionEnd',\n                        MozTransition: 'transitionend',\n                        OTransition: 'oTransitionEnd otransitionend',\n                        transition: 'transitionend'\n                    };\n                    for (var key in transEndEventNames) {\n                        if (this.getStyle(element, key)) {\n                            this._transitionEnd = transEndEventNames[key];\n                        }\n                    }\n                    ;\n                }\n                catch (e) {\n                    this._animationPrefix = null;\n                    this._transitionEnd = null;\n                }\n            }\n            GenericBrowserDomAdapter.prototype.getDistributedNodes = function (el) { return el.getDistributedNodes(); };\n            GenericBrowserDomAdapter.prototype.resolveAndSetHref = function (el, baseUrl, href) {\n                el.href = href == null ? baseUrl : baseUrl + '/../' + href;\n            };\n            GenericBrowserDomAdapter.prototype.supportsDOMEvents = function () { return true; };\n            GenericBrowserDomAdapter.prototype.supportsNativeShadowDOM = function () {\n                return typeof (this.defaultDoc().body.createShadowRoot) == \"function\";\n            };\n            GenericBrowserDomAdapter.prototype.getAnimationPrefix = function () {\n                return (!!this._animationPrefix) ? this._animationPrefix : \"\";\n            };\n            GenericBrowserDomAdapter.prototype.getTransitionEnd = function () { return (!!this._transitionEnd) ? this._transitionEnd : \"\"; };\n            GenericBrowserDomAdapter.prototype.supportsAnimation = function () {\n                return (!!this._animationPrefix) && (!!this._transitionEnd);\n            };\n            GenericBrowserDomAdapter.prototype.getXHR = function () { return new XMLHttpRequest; };\n            return GenericBrowserDomAdapter;\n        })(dom.AbstractDomAdapter);\n        dom.GenericBrowserDomAdapter = GenericBrowserDomAdapter;\n        /* tslint:disable:requireParameterType */\n        var BrowserDomAdapter = (function (_super) {\n            __extends(BrowserDomAdapter, _super);\n            function BrowserDomAdapter() {\n                _super.apply(this, arguments);\n            }\n            BrowserDomAdapter.prototype.parse = function (templateHtml) { throw new Error(\"parse not implemented\"); };\n            BrowserDomAdapter.makeCurrent = function () { dom.setRootDomAdapter(new BrowserDomAdapter()); };\n            BrowserDomAdapter.prototype.hasProperty = function (element, name) { return name in element; };\n            BrowserDomAdapter.prototype.setProperty = function (el, name, value) { el[name] = value; };\n            BrowserDomAdapter.prototype.getProperty = function (el, name) { return el[name]; };\n            BrowserDomAdapter.prototype.invoke = function (el, methodName, args) {\n                el[methodName].apply(el, args);\n            };\n            // TODO(tbosch): move this into a separate environment class once we have it\n            BrowserDomAdapter.prototype.logError = function (error) {\n                if (console.error) {\n                    console.error(error);\n                }\n                else {\n                    console.log(error);\n                }\n            };\n            BrowserDomAdapter.prototype.log = function (error) { console.log(error); };\n            BrowserDomAdapter.prototype.logGroup = function (error) {\n                if (console.group) {\n                    console.group(error);\n                    this.logError(error);\n                }\n                else {\n                    console.log(error);\n                }\n            };\n            BrowserDomAdapter.prototype.logGroupEnd = function () {\n                if (console.groupEnd) {\n                    console.groupEnd();\n                }\n            };\n            Object.defineProperty(BrowserDomAdapter.prototype, \"attrToPropMap\", {\n                get: function () { return _attrToPropMap; },\n                enumerable: true,\n                configurable: true\n            });\n            BrowserDomAdapter.prototype.query = function (selector) { return document.querySelector(selector); };\n            BrowserDomAdapter.prototype.querySelector = function (el, selector) { return el.querySelector(selector); };\n            BrowserDomAdapter.prototype.querySelectorAll = function (el, selector) { return el.querySelectorAll(selector); };\n            BrowserDomAdapter.prototype.on = function (el, evt, listener) { el.addEventListener(evt, listener, false); };\n            BrowserDomAdapter.prototype.onAndCancel = function (el, evt, listener) {\n                el.addEventListener(evt, listener, false);\n                // Needed to follow Dart's subscription semantic, until fix of\n                // https://code.google.com/p/dart/issues/detail?id=17406\n                return function () { el.removeEventListener(evt, listener, false); };\n            };\n            BrowserDomAdapter.prototype.dispatchEvent = function (el, evt) { el.dispatchEvent(evt); };\n            BrowserDomAdapter.prototype.createMouseEvent = function (eventType) {\n                var evt = document.createEvent('MouseEvent');\n                evt.initEvent(eventType, true, true);\n                return evt;\n            };\n            BrowserDomAdapter.prototype.createEvent = function (eventType) {\n                var evt = document.createEvent('Event');\n                evt.initEvent(eventType, true, true);\n                return evt;\n            };\n            BrowserDomAdapter.prototype.preventDefault = function (evt) {\n                evt.preventDefault();\n                evt.returnValue = false;\n            };\n            BrowserDomAdapter.prototype.isPrevented = function (evt) {\n                return evt.defaultPrevented || !!(evt.returnValue) && !evt.returnValue;\n            };\n            BrowserDomAdapter.prototype.getInnerHTML = function (el) { return el.innerHTML; };\n            BrowserDomAdapter.prototype.getOuterHTML = function (el) { return el.outerHTML; };\n            BrowserDomAdapter.prototype.nodeName = function (node) { return node.nodeName; };\n            BrowserDomAdapter.prototype.nodeValue = function (node) { return node.nodeValue; };\n            BrowserDomAdapter.prototype.type = function (node) { return node.type; };\n            BrowserDomAdapter.prototype.content = function (node) {\n                if (this.hasProperty(node, \"content\")) {\n                    return node.content;\n                }\n                else {\n                    return node;\n                }\n            };\n            BrowserDomAdapter.prototype.firstChild = function (el) { return el.firstChild; };\n            BrowserDomAdapter.prototype.nextSibling = function (el) { return el.nextSibling; };\n            BrowserDomAdapter.prototype.parentElement = function (el) { return el.parentNode; };\n            BrowserDomAdapter.prototype.childNodes = function (el) { return el.childNodes; };\n            BrowserDomAdapter.prototype.childNodesAsList = function (el) {\n                var childNodes = el.childNodes;\n                var res = [];\n                res.length = childNodes.length;\n                for (var i = 0; i < childNodes.length; i++) {\n                    res[i] = childNodes[i];\n                }\n                return res;\n            };\n            BrowserDomAdapter.prototype.clearNodes = function (el) {\n                while (el.firstChild) {\n                    el.removeChild(el.firstChild);\n                }\n            };\n            BrowserDomAdapter.prototype.appendChild = function (el, node) { el.appendChild(node); };\n            BrowserDomAdapter.prototype.removeChild = function (el, node) { el.removeChild(node); };\n            BrowserDomAdapter.prototype.replaceChild = function (el, newChild, oldChild) { el.replaceChild(newChild, oldChild); };\n            BrowserDomAdapter.prototype.remove = function (node) {\n                if (node.parentNode) {\n                    node.parentNode.removeChild(node);\n                }\n                return node;\n            };\n            BrowserDomAdapter.prototype.insertBefore = function (el, node) { el.parentNode.insertBefore(node, el); };\n            BrowserDomAdapter.prototype.insertAllBefore = function (el, nodes) { nodes.forEach(function (n) { return el.parentNode.insertBefore(n, el); }); };\n            BrowserDomAdapter.prototype.insertAfter = function (el, node) { el.parentNode.insertBefore(node, el.nextSibling); };\n            BrowserDomAdapter.prototype.setInnerHTML = function (el, value) { el.innerHTML = value; };\n            BrowserDomAdapter.prototype.getText = function (el) { return el.textContent; };\n            // TODO(vicb): removed Element type because it does not support StyleElement\n            BrowserDomAdapter.prototype.setText = function (el, value) { el.textContent = value; };\n            BrowserDomAdapter.prototype.getValue = function (el) { return el.value; };\n            BrowserDomAdapter.prototype.setValue = function (el, value) { el.value = value; };\n            BrowserDomAdapter.prototype.getChecked = function (el) { return el.checked; };\n            BrowserDomAdapter.prototype.setChecked = function (el, value) { el.checked = value; };\n            BrowserDomAdapter.prototype.createComment = function (text) { return document.createComment(text); };\n            BrowserDomAdapter.prototype.createTemplate = function (html) {\n                var t = document.createElement('template');\n                t.innerHTML = html;\n                return t;\n            };\n            BrowserDomAdapter.prototype.createElement = function (tagName, doc) {\n                if (doc === void 0) { doc = document; }\n                return doc.createElement(tagName);\n            };\n            BrowserDomAdapter.prototype.createElementNS = function (ns, tagName, doc) {\n                if (doc === void 0) { doc = document; }\n                return doc.createElementNS(ns, tagName);\n            };\n            BrowserDomAdapter.prototype.createTextNode = function (text, doc) {\n                if (doc === void 0) { doc = document; }\n                return doc.createTextNode(text);\n            };\n            BrowserDomAdapter.prototype.createScriptTag = function (attrName, attrValue, doc) {\n                if (doc === void 0) { doc = document; }\n                var el = doc.createElement('SCRIPT');\n                el.setAttribute(attrName, attrValue);\n                return el;\n            };\n            BrowserDomAdapter.prototype.createStyleElement = function (css, doc) {\n                if (doc === void 0) { doc = document; }\n                var style = doc.createElement('style');\n                this.appendChild(style, this.createTextNode(css));\n                return style;\n            };\n            BrowserDomAdapter.prototype.createShadowRoot = function (el) { return el.createShadowRoot(); };\n            BrowserDomAdapter.prototype.getShadowRoot = function (el) { return el.shadowRoot; };\n            BrowserDomAdapter.prototype.getHost = function (el) { return el.host; };\n            BrowserDomAdapter.prototype.clone = function (node) { return node.cloneNode(true); };\n            BrowserDomAdapter.prototype.getElementsByClassName = function (element, name) {\n                return element.getElementsByClassName(name);\n            };\n            BrowserDomAdapter.prototype.getElementsByTagName = function (element, name) {\n                return element.getElementsByTagName(name);\n            };\n            BrowserDomAdapter.prototype.classList = function (element) { return Array.prototype.slice.call(element.classList, 0); };\n            BrowserDomAdapter.prototype.addClass = function (element, classname) { element.classList.add(classname); };\n            BrowserDomAdapter.prototype.removeClass = function (element, classname) { element.classList.remove(classname); };\n            BrowserDomAdapter.prototype.hasClass = function (element, classname) { return element.classList.contains(classname); };\n            BrowserDomAdapter.prototype.setStyle = function (element, stylename, stylevalue) {\n                element.style[stylename] = stylevalue;\n            };\n            BrowserDomAdapter.prototype.removeStyle = function (element, stylename) { element.style[stylename] = null; };\n            BrowserDomAdapter.prototype.getStyle = function (element, stylename) { return element.style[stylename]; };\n            BrowserDomAdapter.prototype.tagName = function (element) { return element.tagName; };\n            BrowserDomAdapter.prototype.attributeMap = function (element) {\n                var res = {};\n                var elAttrs = element.attributes;\n                for (var i = 0; i < elAttrs.length; i++) {\n                    var attrib = elAttrs[i];\n                    res[attrib.name] = attrib.value;\n                }\n                return res;\n            };\n            BrowserDomAdapter.prototype.hasAttribute = function (element, attribute) { return element.hasAttribute(attribute); };\n            BrowserDomAdapter.prototype.getAttribute = function (element, attribute) { return element.getAttribute(attribute); };\n            BrowserDomAdapter.prototype.setAttribute = function (element, name, value) { element.setAttribute(name, value); };\n            BrowserDomAdapter.prototype.setAttributeNS = function (element, ns, name, value) {\n                element.setAttributeNS(ns, name, value);\n            };\n            BrowserDomAdapter.prototype.removeAttribute = function (element, attribute) { element.removeAttribute(attribute); };\n            BrowserDomAdapter.prototype.templateAwareRoot = function (el) { return this.isTemplateElement(el) ? this.content(el) : el; };\n            BrowserDomAdapter.prototype.createHtmlDocument = function () {\n                return document.implementation.createHTMLDocument('fakeTitle');\n            };\n            BrowserDomAdapter.prototype.defaultDoc = function () { return document; };\n            BrowserDomAdapter.prototype.getBoundingClientRect = function (el) {\n                try {\n                    return el.getBoundingClientRect();\n                }\n                catch (e) {\n                    return { top: 0, bottom: 0, left: 0, right: 0, width: 0, height: 0 };\n                }\n            };\n            BrowserDomAdapter.prototype.getTitle = function () { return document.title; };\n            BrowserDomAdapter.prototype.setTitle = function (newTitle) { document.title = newTitle || ''; };\n            BrowserDomAdapter.prototype.elementMatches = function (n, selector) {\n                var matches = false;\n                if (n instanceof HTMLElement) {\n                    if (n.matches) {\n                        matches = n.matches(selector);\n                    }\n                    else if (n.msMatchesSelector) {\n                        matches = n.msMatchesSelector(selector);\n                    }\n                    else if (n.webkitMatchesSelector) {\n                        matches = n.webkitMatchesSelector(selector);\n                    }\n                }\n                return matches;\n            };\n            BrowserDomAdapter.prototype.isTemplateElement = function (el) {\n                return el instanceof HTMLElement && el.nodeName == \"TEMPLATE\";\n            };\n            BrowserDomAdapter.prototype.isTextNode = function (node) { return node.nodeType === Node.TEXT_NODE; };\n            BrowserDomAdapter.prototype.isCommentNode = function (node) { return node.nodeType === Node.COMMENT_NODE; };\n            BrowserDomAdapter.prototype.isElementNode = function (node) { return node.nodeType === Node.ELEMENT_NODE; };\n            BrowserDomAdapter.prototype.hasShadowRoot = function (node) { return node instanceof HTMLElement && node.shadowRoot; };\n            BrowserDomAdapter.prototype.isShadowRoot = function (node) { return node instanceof DocumentFragment; };\n            BrowserDomAdapter.prototype.importIntoDoc = function (node) {\n                var toImport = node;\n                if (this.isTemplateElement(node)) {\n                    toImport = this.content(node);\n                }\n                return document.importNode(toImport, true);\n            };\n            BrowserDomAdapter.prototype.adoptNode = function (node) { return document.adoptNode(node); };\n            BrowserDomAdapter.prototype.getHref = function (el) { return el.href; };\n            BrowserDomAdapter.prototype.getEventKey = function (event) {\n                var key = event.key;\n                if (!key) {\n                    key = event.keyIdentifier;\n                    // keyIdentifier is defined in the old draft of DOM Level 3 Events implemented by Chrome and\n                    // Safari\n                    // cf\n                    // http://www.w3.org/TR/2007/WD-DOM-Level-3-Events-20071221/events.html#Events-KeyboardEvents-Interfaces\n                    if (!key) {\n                        return 'Unidentified';\n                    }\n                    if (key.startsWith('U+')) {\n                        key = String.fromCharCode(parseInt(key.substring(2), 16));\n                        if (event.location === DOM_KEY_LOCATION_NUMPAD && _chromeNumKeyPadMap.hasOwnProperty(key)) {\n                            // There is a bug in Chrome for numeric keypad keys:\n                            // https://code.google.com/p/chromium/issues/detail?id=155654\n                            // 1, 2, 3 ... are reported as A, B, C ...\n                            key = _chromeNumKeyPadMap[key];\n                        }\n                    }\n                }\n                if (_keyMap.hasOwnProperty(key)) {\n                    key = _keyMap[key];\n                }\n                return key;\n            };\n            BrowserDomAdapter.prototype.getGlobalEventTarget = function (target) {\n                if (target == \"window\") {\n                    return mz.globalContext.window;\n                }\n                else if (target == \"document\") {\n                    return document;\n                }\n                else if (target == \"body\") {\n                    return document.body;\n                }\n            };\n            BrowserDomAdapter.prototype.getHistory = function () { return history; };\n            BrowserDomAdapter.prototype.getLocation = function () { return location; };\n            BrowserDomAdapter.prototype.getBaseHref = function () {\n                var href = getBaseElementHref();\n                if (!(href)) {\n                    return null;\n                }\n                return relativePath(href);\n            };\n            BrowserDomAdapter.prototype.resetBaseElement = function () { baseElement = null; };\n            BrowserDomAdapter.prototype.getUserAgent = function () { return navigator.userAgent; };\n            BrowserDomAdapter.prototype.setData = function (element, name, value) {\n                this.setAttribute(element, 'data-' + name, value);\n            };\n            BrowserDomAdapter.prototype.getData = function (element, name) { return this.getAttribute(element, 'data-' + name); };\n            BrowserDomAdapter.prototype.getComputedStyle = function (element) { return getComputedStyle(element); };\n            BrowserDomAdapter.prototype.requestAnimationFrame = function (callback) { return requestAnimationFrame(callback); };\n            BrowserDomAdapter.prototype.cancelAnimationFrame = function (id) { cancelAnimationFrame(id); };\n            BrowserDomAdapter.prototype.performanceNow = function () {\n                // performance.now() is not available in all browsers, see\n                // http://caniuse.com/#search=performance.now\n                if (typeof performance != 'undefined' && performance.now) {\n                    return performance.now();\n                }\n                else {\n                    return (new Date).getTime() * 1000;\n                }\n            };\n            return BrowserDomAdapter;\n        })(GenericBrowserDomAdapter);\n        dom.BrowserDomAdapter = BrowserDomAdapter;\n        var baseElement = null;\n        function getBaseElementHref() {\n            if (!(baseElement)) {\n                baseElement = document.querySelector('base');\n                if (!(baseElement)) {\n                    return null;\n                }\n            }\n            return baseElement.getAttribute('href');\n        }\n        // based on urlUtils.js in AngularJS 1\n        var urlParsingNode = null;\n        function relativePath(url) {\n            if (!(urlParsingNode)) {\n                urlParsingNode = document.createElement(\"a\");\n            }\n            urlParsingNode.setAttribute('href', url);\n            return (urlParsingNode.pathname.charAt(0) === '/') ? urlParsingNode.pathname :\n                '/' + urlParsingNode.pathname;\n        }\n        BrowserDomAdapter.makeCurrent();\n    })(dom = mz.dom || (mz.dom = {}));\n})(mz || (mz = {}));\n/// <reference path=\"../DOM.ts\" />\n/// <reference path=\"DOM_BrowserImpl.ts\" />\nvar mz;\n(function (mz) {\n    var dom;\n    (function (dom) {\n        var microqueue;\n        (function (microqueue) {\n            var hasSetImmediate = typeof setImmediate === 'function';\n            function makeRequestFlushFromMutationObserver(flush) {\n                var toggle = 1;\n                var observer = new (mz.globalContext.MutationObserver || mz.globalContext.WebKitMutationObserver)(flush);\n                var node = dom.adapter.createTextNode('');\n                observer.observe(node, { characterData: true });\n                return function requestFlush() {\n                    toggle = -toggle;\n                    node.data = toggle.toString();\n                };\n            }\n            function makeRequestFlushFromTimer(flush) {\n                return function requestFlush() {\n                    // We dispatch a timeout with a specified delay of 0 for engines that\n                    // can reliably accommodate that request. This will usually be snapped\n                    // to a 4 milisecond delay, but once we're flushing, there's no delay\n                    // between events.\n                    var timeoutHandle = setTimeout(handleFlushTimer, 0);\n                    // However, since this timer gets frequently dropped in Firefox\n                    // workers, we enlist an interval handle that will try to fire\n                    // an event 20 times per second until it succeeds.\n                    var intervalHandle = setInterval(handleFlushTimer, 50);\n                    function handleFlushTimer() {\n                        // Whichever timer succeeds will cancel both timers and request the\n                        // flush.\n                        clearTimeout(timeoutHandle);\n                        clearInterval(intervalHandle);\n                        flush();\n                    }\n                };\n            }\n            function onError(error) {\n                if (hasSetImmediate) {\n                    setImmediate(function () { throw error; });\n                }\n                else {\n                    setTimeout(function () { throw error; }, 0);\n                }\n            }\n            /**\n            * Implements an asynchronous task queue.\n            */\n            var MicroTaskQueue = (function () {\n                function MicroTaskQueue() {\n                    var _this = this;\n                    /**\n                     * Creates an instance of TaskQueue.\n                    */\n                    this.microTaskQueue = [];\n                    this.taskQueue = [];\n                    this.microTaskQueueCapacity = 1024;\n                    this.flushing = false;\n                    if (mz.globalContext.MutationObserver || mz.globalContext.WebKitMutationObserver) {\n                        this.requestFlushMicroTaskQueue = makeRequestFlushFromMutationObserver(function () { return _this.flushMicroTaskQueue(); });\n                    }\n                    else {\n                        this.requestFlushMicroTaskQueue = makeRequestFlushFromTimer(function () { return _this.flushMicroTaskQueue(); });\n                    }\n                }\n                /**\n                 * Queues a task on the micro task queue for ASAP execution.\n                * @param task The task to queue up for ASAP execution.\n                */\n                MicroTaskQueue.prototype.queueMicroTask = function (task) {\n                    if (this.microTaskQueue.length < 1) {\n                        this.requestFlushMicroTaskQueue();\n                    }\n                    this.microTaskQueue.push(task);\n                };\n                /**\n                 * Immediately flushes the micro task queue.\n                */\n                MicroTaskQueue.prototype.flushMicroTaskQueue = function () {\n                    var queue = this.microTaskQueue;\n                    var capacity = this.microTaskQueueCapacity;\n                    var index = 0;\n                    var task;\n                    if (this.flushing)\n                        return;\n                    this.flushing = true;\n                    try {\n                        while (index < queue.length) {\n                            task = queue[index];\n                            switch (task.type) {\n                                case MicroQueueOpKind.APPEND:\n                                    dom.adapter.appendChild(task.destination, task.parameters);\n                                    break;\n                                case MicroQueueOpKind.DETACH:\n                                    dom.adapter.remove(task.destination);\n                                    break;\n                                case MicroQueueOpKind.SET_TEXT:\n                                    if (task.destination.textContent != task.parameters)\n                                        dom.adapter.setText(task.destination, task.parameters);\n                                    break;\n                                case MicroQueueOpKind.SET_ATTR:\n                                    dom.adapter.setAttribute(task.destination, task.parameters[0], task.parameters[1]);\n                                    break;\n                                case MicroQueueOpKind.CALLBACK:\n                                    task.destination();\n                                    break;\n                            }\n                            index++;\n                            // Prevent leaking memory for long chains of recursive calls to `queueMicroTask`.\n                            // If we call `queueMicroTask` within a MicroTask scheduled by `queueMicroTask`, the queue will\n                            // grow, but to avoid an O(n) walk for every MicroTask we execute, we don't\n                            // shift MicroTasks off the queue after they have been executed.\n                            // Instead, we periodically shift 1024 MicroTasks off the queue.\n                            if (index > capacity) {\n                                // Manually shift all values starting at the index back to the\n                                // beginning of the queue.\n                                for (var scan = 0, newLength = queue.length - index; scan < newLength; scan++) {\n                                    queue[scan] = queue[scan + index];\n                                }\n                                queue.length -= index;\n                                index = 0;\n                            }\n                        }\n                    }\n                    catch (error) {\n                        onError(error);\n                    }\n                    this.flushing = false;\n                    queue.length = 0;\n                };\n                return MicroTaskQueue;\n            })();\n            var MicroQueueOpKind;\n            (function (MicroQueueOpKind) {\n                MicroQueueOpKind[MicroQueueOpKind[\"APPEND\"] = 0] = \"APPEND\";\n                MicroQueueOpKind[MicroQueueOpKind[\"DETACH\"] = 1] = \"DETACH\";\n                MicroQueueOpKind[MicroQueueOpKind[\"SET_TEXT\"] = 2] = \"SET_TEXT\";\n                MicroQueueOpKind[MicroQueueOpKind[\"SET_ATTR\"] = 3] = \"SET_ATTR\";\n                MicroQueueOpKind[MicroQueueOpKind[\"CALLBACK\"] = 4] = \"CALLBACK\";\n            })(MicroQueueOpKind || (MicroQueueOpKind = {}));\n            microqueue.enabled = true;\n            var theMicroDomTaskQueue = new MicroTaskQueue;\n            function flush() {\n                theMicroDomTaskQueue.flushMicroTaskQueue();\n            }\n            microqueue.flush = flush;\n            function appendChild(el, node) {\n                if (!microqueue.enabled) {\n                    dom.adapter.appendChild(el, node);\n                    return;\n                }\n                theMicroDomTaskQueue.queueMicroTask({\n                    type: MicroQueueOpKind.APPEND,\n                    destination: el,\n                    parameters: node\n                });\n            }\n            microqueue.appendChild = appendChild;\n            function callback(cb) {\n                if (!microqueue.enabled) {\n                    cb();\n                    return;\n                }\n                theMicroDomTaskQueue.queueMicroTask({\n                    type: MicroQueueOpKind.CALLBACK,\n                    destination: cb\n                });\n            }\n            microqueue.callback = callback;\n            function remove(el) {\n                if (!microqueue.enabled) {\n                    dom.adapter.remove(el);\n                    return;\n                }\n                theMicroDomTaskQueue.queueMicroTask({\n                    type: MicroQueueOpKind.DETACH,\n                    destination: el\n                });\n            }\n            microqueue.remove = remove;\n            function setText(el, text) {\n                if (!microqueue.enabled) {\n                    dom.adapter.setText(el, text);\n                    return;\n                }\n                theMicroDomTaskQueue.queueMicroTask({\n                    type: MicroQueueOpKind.SET_TEXT,\n                    destination: el,\n                    parameters: text\n                });\n            }\n            microqueue.setText = setText;\n            function setAttribute(el, attr, value) {\n                if (!microqueue.enabled) {\n                    dom.adapter.setAttribute(el, attr, value);\n                    return;\n                }\n                theMicroDomTaskQueue.queueMicroTask({\n                    type: MicroQueueOpKind.SET_ATTR,\n                    destination: el,\n                    parameters: [attr, value]\n                });\n            }\n            microqueue.setAttribute = setAttribute;\n        })(microqueue = dom.microqueue || (dom.microqueue = {}));\n    })(dom = mz.dom || (mz.dom = {}));\n})(mz || (mz = {}));\n/// <reference path=\"../mz.ts\" />\n/// <reference path=\"Tmpl.ts\" />\n/// <reference path=\"Helpers.ts\" />\n/// <reference path=\"../CORE/MVCObject.ts\" />\n/// <reference path=\"../CORE/Decorators.ts\" />\n/// <reference path=\"TextNode.ts\" />\n/// <reference path=\"../CORE/DOM/MicroQueue.ts\" />\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar mz;\n(function (mz) {\n    var AttributeDirective = (function () {\n        function AttributeDirective(widget, component, value) {\n            this.widget = widget;\n            this.component = component;\n            this.value = value;\n            this.mount();\n        }\n        AttributeDirective.prototype.mount = function () {\n        };\n        AttributeDirective.prototype.unmount = function () {\n            delete this.widget;\n            delete this._value;\n        };\n        AttributeDirective.prototype.changed = function (value, prevValue) {\n        };\n        Object.defineProperty(AttributeDirective.prototype, \"value\", {\n            get: function () {\n                return this._value;\n            },\n            set: function (value) {\n                if (value !== this._value) {\n                    var prevValue = this._value;\n                    this._value = value;\n                    this.changed(value);\n                }\n            },\n            enumerable: true,\n            configurable: true\n        });\n        return AttributeDirective;\n    })();\n    mz.AttributeDirective = AttributeDirective;\n    var AttributeDirective;\n    (function (AttributeDirective) {\n        function Register(attrName) {\n            return function (target) {\n                var lowerCaseName = attrName.toLowerCase();\n                if (lowerCaseName in AttributeDirective.directives) {\n                    console.warn(\"There is alredy a directive for '\" + lowerCaseName + \"'. It would be replaced.\");\n                }\n                AttributeDirective.directives[lowerCaseName] = target;\n            };\n        }\n        AttributeDirective.Register = Register;\n        AttributeDirective.directives = {};\n    })(AttributeDirective = mz.AttributeDirective || (mz.AttributeDirective = {}));\n    var templateCache = {};\n    var paramRegex = /^__(\\d+)$/;\n    var tieneLlaves = /\\{|\\}/;\n    var testScope = /^{scope\\./;\n    var enableListener = function (listener) {\n        listener.enable();\n    };\n    function setScopeRecursiveAndEnableListeners(list, scope) {\n        for (var i = 0; i < list.length; i++) {\n            var w = list[i];\n            if (w) {\n                if (w instanceof mz.widgets.TextNode) {\n                    w.scope = scope;\n                    w.refreshScope();\n                }\n                else if (w instanceof Widget) {\n                    w.children && w.children.length && setScopeRecursiveAndEnableListeners(w.children, scope);\n                    w.listening && w.listening.forEach(enableListener);\n                    w.scope = scope;\n                    w.refreshScope();\n                }\n            }\n        }\n    }\n    var containsScope = /[\\{|\\s|\\(|\\[]scope[\\.|\\s|\\[|\\(]/;\n    var parser = new DOMParser();\n    var errorDoc, errorNs;\n    try {\n        errorDoc = parser.parseFromString('INVALID', 'text/xml');\n        errorNs = errorDoc.getElementsByTagName(\"parsererror\")[0].namespaceURI;\n    }\n    catch (e) { }\n    // turns the array of string parts into a DOM\n    // throws if the result is an invalid XML document.\n    function quasiToDom(parts) {\n        // turn [\"<div class='\", \"'>Hi</div>\"]\n        // into \"<div class='__0'>Hi</div>\"\n        var xmlstr = parts.reduce(function (xmlstr, part, i) {\n            xmlstr += part;\n            if (i != parts.length - 1) {\n                xmlstr += \"__\" + i;\n            }\n            return xmlstr;\n        }, \"\");\n        // parse into DOM, check for a parse error\n        // browser's DOMParser is neat, but error handling is awful\n        var doc = parser.parseFromString(xmlstr, 'text/xml');\n        var errors = doc.getElementsByTagNameNS(errorNs, 'parsererror');\n        var error = '';\n        if (errors.length > 0) {\n            error = errors[0].textContent.split('\\n')[0];\n            throw \"invalid jsx: \" + error + \"\\n\" + xmlstr;\n        }\n        return doc;\n    }\n    var lonelyProperty = /^\\{([A-Za-z0-9_$\\-]+)\\}$/;\n    var lonelyPropertyThis = /^\\{this\\.([A-Za-z0-9_$\\-]+)\\}$/;\n    /**\n    * Esta funcin es usada para bindear un atributo a los cambios de MVCObject que pueden llegar a modificar el valor del atributo\n    */\n    function bindWidgetAttr(attrName, attrValue, observable, widget, scope) {\n        var match;\n        // attr=\"{hola}\" \n        // mando directamente Val(hola) a el atributo\n        if ((match = lonelyProperty.exec(attrValue)) || (match = lonelyPropertyThis.exec(attrValue))) {\n            return observable.on(match[1] + '_changed', function (a, b) {\n                if (a !== b || typeof a === \"object\") {\n                    if (widget.attr(attrName) != a)\n                        widget.attr(attrName, a);\n                }\n            });\n        }\n        else {\n            return observable.on('valueChanged', function (data, elem, a, b) {\n                if ((a !== b || typeof a === \"object\") && attrValue.indexOf(elem) != -1) {\n                    var t = mz.view.tmpl(attrValue, observable, widget.data.scope);\n                    if (widget.attr(attrName) != t)\n                        widget.attr(attrName, t);\n                }\n            });\n        }\n    }\n    var boolAttrs = ('allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,' +\n        'defaultchecked,defaultmuted,defaultselected,defer,disabled,draggable,enabled,formnovalidate,hidden,' +\n        'indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,' +\n        'pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,spellcheck,translate,truespeed,' +\n        'typemustmatch,visible').split(',');\n    boolAttrs.forEach(function (a) { return boolAttrs[a] = true; });\n    /**\n    * Local template's document cach\n    */\n    mz.widgetTemplateSource = {};\n    var tmpl_pointer = mz.view.tmpl;\n    function domToWidgets(node, params, component, scope) {\n        var match;\n        // text node, comment, etc\n        if (node instanceof CDATASection) {\n            return mz.dom.adapter.createTextNode(node.nodeValue);\n        }\n        var hasScope = arguments.length == 4;\n        if (node.nodeValue) {\n            if (node.nodeType == node.COMMENT_NODE)\n                return;\n            var value = node.nodeValue;\n            if (value.trim().length === 0) {\n                return;\n            }\n            match = value.match(paramRegex);\n            if (match)\n                return params[parseInt(match[1])];\n            // detect if we have {} on the text\n            if (tieneLlaves.test(value)) {\n                var childWidget = mz.widgets.TextNode.getFromPoll(value, component, scope);\n                // We don't mess with \"{scope.hola}\" expr\n                // But we do with \n                if (component && !(testScope.test(value))) {\n                    // If the expr is \"{prop}\" or \"{this.prop}\" we assume a proxy\n                    if ((match = lonelyProperty.exec(value)) || (match = lonelyPropertyThis.exec(value))) {\n                        childWidget.listening.push(component.on(match[1] + '_changed', function (a, b) {\n                            if (a != b || typeof a == \"object\") {\n                                if (typeof a === \"undefined\" || a === null)\n                                    a = '';\n                                //if (childWidget.rootNode.textContent != a)\n                                //    childWidget.rootNode.textContent = a;\n                                mz.dom.microqueue.setText(childWidget.rootNode, a);\n                            }\n                        }));\n                    }\n                    else {\n                        // catch other samples, ex: \"$ {this.value + scope.value} {currency}\"\n                        childWidget.listening.push(component.on('valueChanged', function (data, elem, a, b) {\n                            if ((a != b || typeof a == \"object\") && value.indexOf(elem) != -1) {\n                                childWidget.refreshScope();\n                            }\n                        }));\n                    }\n                }\n                return childWidget;\n            }\n            if (typeof value == \"string\")\n                return document.createTextNode(value);\n            return value;\n        }\n        var widgetCtor;\n        match = node.localName.match(paramRegex);\n        widgetCtor = match ? params[parseInt(match[1])] : mz.widgets[node.localName.toLowerCase()];\n        var name = null;\n        // attributes of the node\n        var attrs = {};\n        /**\n         * Guardo en este diccionario los atributos del widget que puedo llegar a bindear al objeto (los que tienne llaves)\n         * */\n        var bindeableAttrs = {};\n        var listenersConLlaves = [];\n        for (var i = node.attributes.length - 1; i >= 0; i--) {\n            var attr = node.attributes[i];\n            attrs[attr.name] = attr.value;\n            match = attr.value.match(paramRegex);\n            // __0, __1\n            if (match) {\n                attrs[attr.name] = params[parseInt(match[1])];\n            }\n            else {\n                if (typeof attr.value === \"string\") {\n                    attrs[attr.name] = mz.view.tmpl(attr.value, component, scope);\n                    if (typeof attrs[attr.name] === \"function\") {\n                        attrs[attr.name] = attrs[attr.name].bind(component);\n                    }\n                    else if (tieneLlaves.test(attr.value)) {\n                        bindeableAttrs[attr.name] = attr.value;\n                    }\n                }\n            }\n            if (attr.name == 'name') {\n                name = attrs[attr.name];\n            }\n            if (attr.name == 'scope') {\n                scope = attrs[attr.name];\n            }\n        }\n        widgetCtor = widgetCtor || mz.widgets.BaseElement;\n        var hijos = widgetCtor.EMPTY_TAG ? [] : getChildNodes(node, params, component, scope);\n        var ret = new widgetCtor(node, attrs, hijos, params, component, scope);\n        for (var attrName in bindeableAttrs) {\n            listenersConLlaves.push({\n                name: attrName,\n                fn: (function (value, component) {\n                    return function () {\n                        return tmpl_pointer(value, component, ret.scope || undefined);\n                    };\n                })(bindeableAttrs[attrName], component)\n            });\n        }\n        if (listenersConLlaves.length)\n            ret.mustUpdateOnScopeChange = listenersConLlaves;\n        for (var at in bindeableAttrs) {\n            if (typeof bindeableAttrs[at] == \"string\" && component)\n                ret.listening.push(bindWidgetAttr(at, bindeableAttrs[at], component, ret, scope));\n        }\n        if (node.nodeName == \"content\" && (!component._contentSelector || component._contentSelector == \"content\")) {\n            component.contentNode = ret.rootNode;\n        }\n        if (name && component) {\n            component[name] = ret;\n        }\n        return ret;\n    }\n    function getChildNodes(node, params, component, scope) {\n        // recursively turn children into components\n        var childNodes = [];\n        for (var i = 0; i < node.childNodes.length; i++) {\n            var childWidget = domToWidgets(node.childNodes[i], params, component, scope);\n            if (childWidget) {\n                childNodes.push(childWidget);\n            }\n        }\n        return childNodes;\n    }\n    function getJQueryEventWrapper(originalCallback, widget) {\n        return function (event) {\n            var eventObject = {\n                event: event.originalEvent,\n                data: widget.scope,\n                element: widget.rootNode\n            };\n            return originalCallback.call(widget, eventObject);\n        };\n    }\n    function errorLoadingTemplate(ev) {\n        console.error(\"Error loading template. \", this, ev);\n    }\n    var regexpOn = /^on[_]{0,1}(.*)$/;\n    var ignoredAttrs = { tag: 1 };\n    var Widget = (function (_super) {\n        __extends(Widget, _super);\n        function Widget(originalNode, attr, children, _params, _parentComponent, scope) {\n            var _this = this;\n            if (_params === void 0) { _params = null; }\n            if (_parentComponent === void 0) { _parentComponent = null; }\n            _super.call(this);\n            this._params = _params;\n            this._parentComponent = _parentComponent;\n            this.listening = [];\n            this.innerWidget = null;\n            this.originalNode = originalNode;\n            this.contentFragment = document.createDocumentFragment();\n            this.contentNode = this.rootNode = document.createElement(attr && attr[\"tag\"] || originalNode && originalNode.nodeName || this[\"constructor\"].nodeName || this[\"constructor\"].name || 'div');\n            this.rootNode.$widget = this;\n            this.rootNode.$component = _parentComponent;\n            this.scope = scope;\n            this.children = children;\n            if (this.defaultTemplate) {\n                this.startComponent([this.defaultTemplate]);\n                mz.dom.microqueue.callback(function () {\n                    _this.componentInitialized();\n                    _this.emit(Widget.EVENTS.ComponentMounted);\n                });\n            }\n            if (attr) {\n                this.initAttr(attr);\n            }\n            if (this.defaultTemplate) {\n                this.appendChildrens();\n            }\n            if (this.remoteTemplate)\n                this.loadTemplate(this.remoteTemplate);\n        }\n        Widget.prototype.scope_changed = function (scope) {\n            this.rootNode.$scope = scope;\n        };\n        Object.defineProperty(Widget.prototype, \"DOM\", {\n            get: function () {\n                return this._cachedDOM || (this._cachedDOM = $(this.rootNode));\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Widget.prototype.generateScopedContent = function (scope) {\n            // check if i have an element from object pool\n            if (this.scopedContentPool && this.scopedContentPool.length) {\n                var scopedContent = this.scopedContentPool.pop();\n                setScopeRecursiveAndEnableListeners(scopedContent, scope);\n                return scopedContent;\n            }\n            // elsewhere, let's create the object\n            return getChildNodes(this.originalNode, this._params, this._parentComponent, scope || null);\n        };\n        Widget.prototype.releaseScopedContent = function (scopedContent) {\n            // create object poll if necesary\n            if (!this.scopedContentPool)\n                this.scopedContentPool = [];\n            for (var i = 0; i < scopedContent.length; i++) {\n                var e = scopedContent[i];\n                if (e.rootNode)\n                    mz.dom.adapter.remove(e.rootNode);\n                if (e.listening) {\n                    for (var evt = 0; evt < e.listening.length; evt++) {\n                        e.listening[evt].disable();\n                    }\n                }\n            }\n            this.scopedContentPool.push(scopedContent);\n        };\n        Widget.prototype.attr = function (attrName, value) {\n            var attrNameLower = attrName.toLowerCase();\n            if (arguments.length == 1) {\n                if (this.attrDirectives && attrNameLower in this.attrDirectives)\n                    return this.attrDirectives[attrNameLower].value;\n                return this.data[attrName];\n            }\n            else {\n                var boolAttr = attrNameLower in boolAttrs;\n                var typeofValue = typeof value;\n                if (boolAttr) {\n                    if (typeofValue === \"function\")\n                        value = value();\n                    value = mz.CBool(value);\n                    typeofValue = \"boolean\";\n                }\n                var prevValue = this.get(attrName);\n                if (attrNameLower in AttributeDirective.directives && AttributeDirective.directives[attrNameLower]) {\n                    if (!this.attrDirectives)\n                        this.attrDirectives = {};\n                    if (attrNameLower in this.attrDirectives)\n                        this.attrDirectives[attrNameLower].value = value;\n                    else\n                        this.attrDirectives[attrNameLower] = new AttributeDirective.directives[attrNameLower](this, this._parentComponent, value);\n                    this.set(attrName, this.attrDirectives[attrNameLower].value);\n                }\n                else {\n                    this.set(attrName, value);\n                    if (boolAttr) {\n                        if (value) {\n                            if (!mz.dom.adapter.hasAttribute(this.rootNode, attrName))\n                                mz.dom.adapter.setAttribute(this.rootNode, attrName, attrName);\n                        }\n                        else {\n                            if (mz.dom.adapter.hasAttribute(this.rootNode, attrName))\n                                mz.dom.adapter.removeAttribute(this.rootNode, attrName);\n                        }\n                        if (attrName in this.rootNode && typeof (this.rootNode[attrName] == \"boolean\" || typeof this.rootNode[attrName] == \"undefined\")) {\n                            this.rootNode[attrName] = value;\n                        }\n                    }\n                    else if (regexpOn.test(attrName) && typeofValue === \"function\" && value !== prevValue) {\n                        var cbName = regexpOn.exec(attrName)[1];\n                        if (/^on_/.test(attrName)) {\n                            prevValue && this.off(cbName, prevValue);\n                            this.listening.push(this.on(cbName, value));\n                        }\n                        else {\n                            this.DOM.off(cbName);\n                            this.DOM.on(cbName, getJQueryEventWrapper(value, this));\n                        }\n                    }\n                    else {\n                        if ((typeofValue === \"string\" || typeofValue === \"number\" || typeofValue === \"boolean\") && !(/^:/.test(attrName))) {\n                            if (attrNameLower in ignoredAttrs)\n                                return;\n                            mz.dom.microqueue.setAttribute(this.rootNode, attrName, value);\n                        }\n                    }\n                }\n            }\n        };\n        Widget.prototype.refreshScope = function () {\n            // attr generators\n            if (this.mustUpdateOnScopeChange) {\n                for (var i = 0; i < this.mustUpdateOnScopeChange.length; i++) {\n                    var e = this.mustUpdateOnScopeChange[i];\n                    this.attr(e.name, e.fn());\n                }\n            }\n            for (var index = 0; index < this.children.length; index++) {\n                var e = this.children[index];\n                if (e && typeof e == \"object\") {\n                    e.refreshScope && e.refreshScope();\n                }\n            }\n        };\n        // Finds an element within this component\n        Widget.prototype.find = function (selector) {\n            mz.dom.microqueue.flush();\n            return mz.dom.adapter.querySelectorAll(this.rootNode, selector);\n        };\n        Widget.prototype.loadTemplate = function (url, forceSync) {\n            var _this = this;\n            if (forceSync === void 0) { forceSync = false; }\n            if (url in mz.widgetTemplateSource) {\n                this.startComponent(mz.widgetTemplateSource[url]);\n                this.componentInitialized();\n                //this.emit(Widget.EVENTS.ComponentMounted);\n                //requestAnimationFrame(() => this.resize());\n                mz.dom.microqueue.callback(function () {\n                    _this.resize();\n                    _this.emit(Widget.EVENTS.ComponentMounted);\n                });\n                return;\n            }\n            var xhr = new XMLHttpRequest();\n            var transformedUrl = mz.getPath(url);\n            xhr.addEventListener('load', function (ev) {\n                if (xhr.responseXML && xhr.responseXML instanceof Document) {\n                    mz.widgetTemplateSource[url] = xhr.responseXML;\n                    _this.startComponent(xhr.responseXML);\n                    _this.componentInitialized();\n                    //this.emit(Widget.EVENTS.ComponentMounted);\n                    mz.dom.microqueue.callback(function () {\n                        _this.resize();\n                        _this.emit(Widget.EVENTS.ComponentMounted);\n                    });\n                }\n                else if (xhr.responseText && xhr.responseText.length) {\n                    mz.widgetTemplateSource[url] = [xhr.responseText];\n                    _this.startComponent([xhr.responseText], []);\n                    _this.componentInitialized();\n                    //this.emit(Widget.EVENTS.ComponentMounted);\n                    mz.dom.microqueue.callback(function () {\n                        _this.resize();\n                        _this.emit(Widget.EVENTS.ComponentMounted);\n                    });\n                }\n                else {\n                    throw new TypeError(\"Unexpected response for mz.Widget.loadTemplate. Url: \" + transformedUrl + ' (' + url + ')');\n                }\n            });\n            xhr.onerror = errorLoadingTemplate;\n            xhr.open(\"GET\", transformedUrl, !forceSync);\n            xhr.send();\n        };\n        Widget.prototype.componentInitialized = function () {\n        };\n        Widget.prototype.startComponent = function (parts) {\n            var _this = this;\n            var params = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                params[_i - 1] = arguments[_i];\n            }\n            if (parts) {\n                var doc = parts instanceof Array ? quasiToDom(parts) : parts;\n                params = params || [];\n                params.forEach(function (e, i) {\n                    if (typeof e === \"function\")\n                        params[i] = e.bind(_this);\n                });\n                if (doc.childNodes.length > 1)\n                    console.warn(\"Only one child node is allowed per widget.\", doc, this);\n                this.innerWidget = domToWidgets(doc.firstChild, params, this);\n            }\n            if (this._unwrapedComponent) {\n                var originalNode = this.rootNode;\n                if (this.innerWidget) {\n                    this.rootNode = this.innerWidget.rootNode;\n                    if (this.rootNode != originalNode) {\n                        for (var i = 0; i < originalNode.attributes.length; i++) {\n                            var attrib = originalNode.attributes[i];\n                            if (!('specified' in attrib) || attrib.specified) {\n                                if (attrib.name.toLowerCase() == \"class\")\n                                    mz.dom.adapter.addClass(this.rootNode, attrib.value);\n                                else\n                                    mz.dom.adapter.setAttribute(this.rootNode, attrib.name, attrib.value);\n                            }\n                        }\n                        if (originalNode && originalNode.parentElement) {\n                            mz.dom.adapter.replaceChild(originalNode.parentElement, this.rootNode, originalNode);\n                        }\n                    }\n                }\n            }\n            else {\n                this.innerWidget && mz.dom.adapter.appendChild(this.rootNode, this.innerWidget.rootNode);\n            }\n            if (!this.contentNode)\n                this.contentNode = this.rootNode || this.contentNode;\n            var apendeado = false;\n            if (this._contentSelector)\n                apendeado = this.findContentSelector();\n            if (!apendeado)\n                this.appendChildrens();\n            return this.innerWidget;\n        };\n        Widget.prototype.appendChildrens = function () {\n            var _this = this;\n            this.children.forEach(function (element) {\n                if (element && typeof element == \"object\") {\n                    if ('rootNode' in element && element.rootNode instanceof Node)\n                        _this.contentFragment.appendChild(element.rootNode);\n                    else if ('DOM' in element && element.DOM)\n                        element.DOM.appendTo(_this.contentFragment);\n                    else if ('node' in element && element.node)\n                        _this.contentFragment.appendChild(element.node);\n                    else if (element instanceof Node)\n                        _this.contentFragment.appendChild(element);\n                    else if (mz._debug)\n                        console.warn(\"Trying to add unknown child \", element, \" to Widget!\", _this);\n                }\n                else if (element && typeof element == \"string\" && element.length > 0) {\n                    _this.contentFragment.appendChild(document.createTextNode(element));\n                }\n            });\n            if (this.contentNode) {\n                this.contentNode.appendChild(this.contentFragment);\n            }\n            else if (this.contentFragment.firstChild) {\n                console.error(\"There is child elements on a Widget with wrong or without contentSelector \", this);\n            }\n        };\n        Widget.prototype.findContentSelector = function () {\n            var prevContent = this.contentNode;\n            this.contentNode = this._contentSelector == \":root\" ? this.rootNode : mz.dom.adapter.querySelector(this.rootNode, this._contentSelector);\n            if (prevContent !== this.contentNode && this.contentNode) {\n                this.appendChildrens();\n                return true;\n            }\n            return false;\n        };\n        Widget.prototype.append = function (element) {\n            if (element && typeof element == \"object\") {\n                if (element instanceof Node) {\n                    this.contentNode.appendChild(element);\n                }\n                else if (element instanceof Widget) {\n                    this.contentNode.appendChild(element.rootNode);\n                }\n                else if (element instanceof mz.widgets.TextNode) {\n                    this.contentNode.appendChild(element.rootNode);\n                }\n                else if (element instanceof $) {\n                    return element.appendTo($(this.contentNode));\n                }\n                else if ('DOM' in element && element.DOM instanceof $) {\n                    return element.DOM.appendTo($(this.contentNode));\n                }\n                else {\n                    return this.contentNode && $(element).appendTo(this.contentNode);\n                }\n            }\n        };\n        Widget.prototype.appendTo = function (element) {\n            if (element && element instanceof Widget) {\n                return element.append(this);\n            }\n            else if (element && typeof element == \"object\" && 'DOM' in element && element.DOM instanceof $) {\n                return element.DOM.append(this.rootNode);\n            }\n            else if (element && element instanceof $) {\n                return element.append(this.rootNode);\n            }\n            else {\n                return $(element).append(this.rootNode);\n            }\n        };\n        Widget.prototype.initAttr = function (attr) {\n            if (attr) {\n                for (var i in attr) {\n                    this.attr(i, attr[i]);\n                }\n            }\n        };\n        /**\n         * Resizes the current widget, it also sends a signal \"resize\" to all the childrens\n         */\n        Widget.prototype.resize = function () {\n            this.emit(Widget.EVENTS.ComponentResized);\n            this.innerWidget && this.innerWidget.resize && this.innerWidget.resize();\n            this.children.forEach(function (e) { return e && typeof e == 'object' && e.resize && e.resize(); });\n        };\n        /**\n         *  Destroys the current widget and it's children\n         */\n        Widget.prototype.unmount = function () {\n            if (this.attrDirectives)\n                for (var i_2 in this.attrDirectives)\n                    ('unmount' in this.attrDirectives) && this.attrDirectives[i_2].unmount();\n            mz.dom.adapter.remove(this.rootNode);\n            this._cachedDOM && this._cachedDOM.remove();\n            this.emit(Widget.EVENTS.ComponentUnmounted);\n            this.off();\n            if (this.scopedContentPool) {\n                for (var i = 0; i < this.scopedContentPool.length; i++) {\n                    var p = this.scopedContentPool[i];\n                    for (var sub_i = 0; sub_i < p.length; sub_i++) {\n                        var element = p[sub_i];\n                        'unmount' in element && element.unmount();\n                    }\n                    p.length = 0;\n                }\n                this.scopedContentPool.length = 0;\n                delete this.scopedContentPool;\n            }\n            for (var _i = 0, _a = this.listening; _i < _a.length; _i++) {\n                var i_3 = _a[_i];\n                i_3 && i_3.off && i_3.off();\n            }\n            this.listening.length = 0;\n            delete this.data;\n            for (var _b = 0, _c = this.children; _b < _c.length; _b++) {\n                var e = _c[_b];\n                if ('unmount' in e)\n                    e.unmount();\n            }\n            this.children.length = 0;\n        };\n        Widget.RegisterComponent = function (componentName) {\n            return function (target) {\n                if (componentName.toLowerCase() in mz.widgets)\n                    console.warn(\"Component \", componentName, \" alredy registered\");\n                target.nodeName = componentName;\n                mz.widgets[componentName.toLowerCase()] = target;\n            };\n        };\n        Widget.ConfigureEmptyTag = function (target) {\n            target.EMPTY_TAG = true;\n        };\n        Widget.Template = function (template, contentSelector) {\n            if (template) {\n                if (/^<(.*)>/.test(template.trim()))\n                    return function (target) {\n                        target.prototype.defaultTemplate = template;\n                        if (contentSelector && contentSelector.length)\n                            target.prototype._contentSelector = contentSelector;\n                    };\n                else if (template.startsWith('#')) {\n                    return function (target) {\n                        target.prototype.selectorTemplate = template;\n                        if (contentSelector && contentSelector.length)\n                            target.prototype._contentSelector = contentSelector;\n                    };\n                }\n                else {\n                    return function (target) {\n                        target.prototype.remoteTemplate = template;\n                        if (contentSelector && contentSelector.length)\n                            target.prototype._contentSelector = contentSelector;\n                    };\n                }\n            }\n            else\n                return function (target) {\n                    if (contentSelector && contentSelector.length)\n                        target.prototype._contentSelector = contentSelector;\n                };\n        };\n        Widget.ConfigureUnwrapped = function (target) {\n            target.prototype._unwrapedComponent = true;\n        };\n        Widget.ConfigureTag = function (tagName) {\n            return function (target) {\n                target.prototype.tagName = true;\n            };\n        };\n        Widget.Attribute = function (target, propertyKey) {\n            if (delete target[propertyKey]) {\n                Object.defineProperty(target, propertyKey.toString(), {\n                    get: function () {\n                        return this.attr(propertyKey);\n                    },\n                    set: function (value) {\n                        this.attr(propertyKey, value);\n                    },\n                    enumerable: true\n                });\n            }\n        };\n        Widget.EMPTY_TAG = false;\n        Widget.props = {};\n        Widget.nodeName = null;\n        Widget.EVENTS = mz.copy({\n            ComponentUnmounted: 'unmount',\n            ComponentResized: 'resize',\n            ComponentMounted: 'mount'\n        }, mz.MVCObject.EVENTS);\n        __decorate([\n            mz.MVCObject.proxy, \n            __metadata('design:type', Object)\n        ], Widget.prototype, \"scope\", void 0);\n        return Widget;\n    })(mz.MVCObject);\n    mz.Widget = Widget;\n})(mz || (mz = {}));\nvar mz;\n(function (mz) {\n    var widgets;\n    (function (widgets) {\n        var BaseElement = (function (_super) {\n            __extends(BaseElement, _super);\n            function BaseElement(rootNode, attr, children, _params, _parentComponent, scope) {\n                if (_params === void 0) { _params = null; }\n                if (_parentComponent === void 0) { _parentComponent = null; }\n                if (scope === void 0) { scope = null; }\n                if (rootNode)\n                    attr['tag'] = rootNode.nodeName;\n                _super.call(this, rootNode, attr, children, _params, _parentComponent, scope);\n                this.appendChildrens();\n            }\n            return BaseElement;\n        })(mz.Widget);\n        widgets.BaseElement = BaseElement;\n        var BasePagelet = (function (_super) {\n            __extends(BasePagelet, _super);\n            function BasePagelet(attr) {\n                _super.call(this, null, attr || {}, [], this, this, null);\n            }\n            return BasePagelet;\n        })(mz.Widget);\n        widgets.BasePagelet = BasePagelet;\n        var InlinePagelet = (function (_super) {\n            __extends(InlinePagelet, _super);\n            function InlinePagelet(template, attr) {\n                _super.call(this, null, attr || {}, [], this, this, null);\n                this.startComponent([template]);\n            }\n            return InlinePagelet;\n        })(mz.Widget);\n        widgets.InlinePagelet = InlinePagelet;\n    })(widgets = mz.widgets || (mz.widgets = {}));\n})(mz || (mz = {}));\n/// <reference path=\"../view/Widget.ts\" />\nvar mz;\n(function (mz) {\n    var widgets;\n    (function (widgets) {\n        var MzSwitcher = (function (_super) {\n            __extends(MzSwitcher, _super);\n            function MzSwitcher(rootNode, attr, children, a, b, scope) {\n                var _this = this;\n                _super.call(this, rootNode, attr, [], a, b, scope);\n                this.panels = new mz.Collection();\n                var first = null;\n                // Set the parent panel to the children\n                children.forEach(function (child) {\n                    if (child instanceof MzSwitcherPanel) {\n                        first = first || child;\n                        child.parent = _this;\n                    }\n                });\n                if (first)\n                    this.show(first);\n            }\n            MzSwitcher.prototype.show = function (panel) {\n                if (!panel)\n                    return;\n                if (this.panelVisible === panel)\n                    return;\n                if (!this.panels.contains(panel)) {\n                    this.panels.push(panel);\n                    panel.appendTo(this.contentNode);\n                    if (panel instanceof MzSwitcherPanel) {\n                        panel.parent = this;\n                    }\n                }\n                if (this.panelVisible) {\n                    mz.dom.adapter.remove(this.panelVisible.rootNode);\n                }\n                this.panelVisible = panel;\n                mz.dom.adapter.appendChild(this.contentNode, this.panelVisible.rootNode);\n                this.panelVisible.show();\n                panel.resize();\n            };\n            MzSwitcher.prototype.resize = function () {\n                if (this.panelVisible) {\n                    this.panelVisible.resize();\n                }\n                _super.prototype.resize.call(this);\n            };\n            __decorate([\n                mz.MVCObject.proxy, \n                __metadata('design:type', MzSwitcherPanel)\n            ], MzSwitcher.prototype, \"panelVisible\", void 0);\n            MzSwitcher = __decorate([\n                mz.Widget.RegisterComponent(\"mz-switcher\"), \n                __metadata('design:paramtypes', [Node, Object, Array, Object, Object, Object])\n            ], MzSwitcher);\n            return MzSwitcher;\n        })(mz.Widget);\n        widgets.MzSwitcher = MzSwitcher;\n        var MzSwitcherPanel = (function (_super) {\n            __extends(MzSwitcherPanel, _super);\n            function MzSwitcherPanel() {\n                _super.apply(this, arguments);\n            }\n            MzSwitcherPanel.prototype.show = function () {\n                if (this.parent)\n                    this.parent.show(this);\n            };\n            MzSwitcherPanel.prototype.isVisible = function () {\n                return this.DOM.is(':visible');\n            };\n            MzSwitcherPanel = __decorate([\n                mz.Widget.RegisterComponent(\"mz-switcher-panel\"), \n                __metadata('design:paramtypes', [])\n            ], MzSwitcherPanel);\n            return MzSwitcherPanel;\n        })(mz.Widget);\n        widgets.MzSwitcherPanel = MzSwitcherPanel;\n    })(widgets = mz.widgets || (mz.widgets = {}));\n})(mz || (mz = {}));\n/// <reference path=\"../WIDGETS/mz-switcher.ts\" />\nvar mz;\n(function (mz) {\n    var app;\n    (function (app) {\n        /**\n         * Binds a ROUTE_NAME to this method.\n         * pages.json#\n         * [{\n         *   name: \"index\",\n         *   module: \"index.ts\",\n         *   routes: {\n         *     \"index/:id\": \"ROUTE_NAME\"\n         *   }\n         * },\n         * ...]\n         * By default, the target method's name is used\n         */\n        function RouteName(route_name) {\n            return function (target, propertyKey) {\n                if (target[propertyKey] && typeof target[propertyKey] === \"function\") {\n                    target[propertyKey].isRouteHandler = route_name || propertyKey;\n                }\n            };\n        }\n        app.RouteName = RouteName;\n        var Page = (function (_super) {\n            __extends(Page, _super);\n            function Page(appController) {\n                _super.call(this, null, { tag: 'div', }, [], this, this, this);\n                this.routeHandler = {};\n                var componentProps = Reflect.getPrototypeOf(this);\n                if (componentProps) {\n                    for (var i in componentProps) {\n                        if (typeof this[i] == \"function\" && this[i].isRouteHandler) {\n                            this.routeHandler[this[i].isRouteHandler] = this[i];\n                        }\n                    }\n                }\n                this.parent = appController;\n                this.resize = mz.screenDelayer(this.resize, this);\n            }\n            Page.prototype.windowTitle_changed = function () {\n                this.parent && this.parent.updatePageTitle();\n            };\n            Page.prototype.handleRoute = function (routeName) {\n                var args = [];\n                for (var _i = 1; _i < arguments.length; _i++) {\n                    args[_i - 1] = arguments[_i];\n                }\n            };\n            Page.prototype.show = function () {\n                var _this = this;\n                _super.prototype.show.call(this);\n                this.parent.actualPage = this;\n                this.parent.actualPageName = this.pageControllerName;\n                requestAnimationFrame(function () { return _this.resize(); });\n            };\n            __decorate([\n                Page.proxy, \n                __metadata('design:type', String)\n            ], Page.prototype, \"windowTitle\", void 0);\n            return Page;\n        })(mz.widgets.MzSwitcherPanel);\n        app.Page = Page;\n        var PageCoordinator = (function (_super) {\n            __extends(PageCoordinator, _super);\n            function PageCoordinator(opc) {\n                var _this = this;\n                _super.call(this, null, { tag: 'div', class: 'mz-page-coordinator' }, [], this, this, undefined);\n                this.loadingPage = true;\n                this.pages = new mz.Collection(null, { key: \"name\" });\n                if (!opc.pages) {\n                    throw new Error(\"You must provide 'pages: Url(.json) | Array[]' option.\");\n                }\n                if (typeof opc.pages == \"string\") {\n                    mz.xr.get(opc.pages).then(function (x) { return _this.setPages(x.data); });\n                }\n                else if (opc.pages instanceof Array) {\n                    this.setPages(opc.pages);\n                }\n                else {\n                    throw new TypeError(\"opc.pages must be an Array or Url(.json)\");\n                }\n                if (opc.templateSelector)\n                    $(function () {\n                        var frag = document.createElement(\"app\");\n                        var elem = document.querySelector(opc.templateSelector || \"body *\");\n                        if (!elem) {\n                            console.error(\"PageCoordinator: Target not fund!. Selector: \" + opc.templateSelector || \"body *\");\n                            return;\n                        }\n                        var parentNode = frag.parentNode;\n                        if (parentNode && elem && _this.rootNode && elem != _this.rootNode) {\n                            mz.dom.adapter.replaceChild(parentNode, _this.rootNode, elem);\n                            frag.appendChild(elem);\n                            _this.startComponent(frag);\n                        }\n                        else {\n                            frag.appendChild(elem);\n                            _this.startComponent(frag);\n                            _this.appendTo(\"body\");\n                        }\n                    });\n                else\n                    $(function () {\n                        _this.appendTo(\"body\");\n                    });\n                $(window).on('resize', function () { return _this.resize(); });\n                // phonegap!\n                document.addEventListener(\"resetScrollView\", function () {\n                    _this.resize();\n                });\n            }\n            PageCoordinator.prototype.setPages = function (pages) {\n                var _this = this;\n                var routes = {};\n                var bindRoutes = {};\n                this.pages.clear();\n                for (var _i = 0; _i < pages.length; _i++) {\n                    var page = pages[_i];\n                    if (page.routes) {\n                        for (var route_1 in page.routes) {\n                            var action_name = page.routes[route_1];\n                            if (typeof action_name !== \"string\") {\n                                console.error(\"invalid action name for route \" + page.name + \"[\" + route_1 + \"], type of action must be a string value instead is: \", action_name);\n                                continue;\n                            }\n                            if (route_1 in bindRoutes)\n                                console.warn(\"Route \" + route_1 + \" duplicated.\");\n                            if ('routes' === action_name) {\n                                console.error('PageCoordinator: Action name \"routes\" not allowed');\n                                continue;\n                            }\n                            routes[action_name] = {\n                                page: page,\n                                route: route_1,\n                                name: action_name\n                            };\n                            bindRoutes[route_1] = action_name;\n                        }\n                    }\n                    this.pages.push(page);\n                }\n                var routerParam = {\n                    routes: bindRoutes\n                };\n                var that = this;\n                for (var i in routes) {\n                    (function (route) {\n                        routerParam[route.name] = function () {\n                            var t = arguments;\n                            that.loadingPage = true;\n                            that.getPage(route.page.name).then(function (modulo) {\n                                if (modulo.routeHandler && route.name in modulo.routeHandler) {\n                                    modulo.routeHandler[route.name].apply(modulo, t);\n                                }\n                                modulo.handleRoute.apply(modulo, [route.name].concat(t));\n                                that.show(modulo);\n                                that.emit.apply(that, ['route', route.name].concat(t));\n                                that.emit('history', Backbone.history.getFragment());\n                                that.loadingPage = false;\n                            });\n                        };\n                    })(routes[i]);\n                }\n                ;\n                mz.route.start(routerParam, function () {\n                    _this.emit('loaded');\n                    _this.loadingPage = false;\n                    _this.loaded();\n                });\n            };\n            PageCoordinator.prototype.loaded = function () {\n            };\n            PageCoordinator.prototype.updatePageTitle = function () {\n                if (this.actualPage) {\n                    if (this.actualPage.windowTitle)\n                        mz.dom.adapter.setTitle(this.actualPage.windowTitle);\n                }\n            };\n            PageCoordinator.prototype.actualPage_changed = function (page) {\n                this.updatePageTitle();\n            };\n            PageCoordinator.prototype.show = function (page) {\n                if (page instanceof Page) {\n                    _super.prototype.show.call(this, page);\n                    this.actualPage = page;\n                    this.actualPageName = page.pageControllerName;\n                }\n                else\n                    throw new Error(\"App only shows instances of Page\");\n            };\n            PageCoordinator.prototype.navigate = function (route, trigger) {\n                if (trigger === void 0) { trigger = true; }\n                mz.route.navigate(route, trigger);\n            };\n            PageCoordinator.prototype.getPage = function (pageName) {\n                var _this = this;\n                var page = this.pages.indexedGet(pageName);\n                if (page == null)\n                    return Promise.reject(new Error(\"Page not found\"));\n                return new Promise(function (ok) {\n                    mz.require(page.module, function (modulo) {\n                        if (modulo.instance)\n                            return ok(modulo.instance);\n                        modulo.instance = new modulo(_this);\n                        modulo.instance.parent = _this;\n                        modulo.instance.pageControllerName = pageName;\n                        ok(modulo.instance);\n                    });\n                });\n            };\n            __decorate([\n                mz.MVCObject.proxy, \n                __metadata('design:type', Page)\n            ], PageCoordinator.prototype, \"actualPage\", void 0);\n            __decorate([\n                mz.MVCObject.proxy, \n                __metadata('design:type', String)\n            ], PageCoordinator.prototype, \"actualPageName\", void 0);\n            __decorate([\n                mz.MVCObject.proxy, \n                __metadata('design:type', Boolean)\n            ], PageCoordinator.prototype, \"loadingPage\", void 0);\n            PageCoordinator = __decorate([\n                mz.Widget.ConfigureUnwrapped,\n                mz.Widget.Template(null, 'content'), \n                __metadata('design:paramtypes', [Object])\n            ], PageCoordinator);\n            return PageCoordinator;\n        })(mz.widgets.MzSwitcher);\n        app.PageCoordinator = PageCoordinator;\n    })(app = mz.app || (mz.app = {}));\n})(mz || (mz = {}));\n/// <reference path=\"../mz.ts\" />\nvar mz;\n(function (mz) {\n    var auth;\n    (function (auth) {\n        var jwt;\n        (function (jwt) {\n            function urlBase64Decode(str) {\n                var output = str.replace(/-/g, '+').replace(/_/g, '/');\n                switch (output.length % 4) {\n                    case 0: {\n                        break;\n                    }\n                    case 2: {\n                        output += '==';\n                        break;\n                    }\n                    case 3: {\n                        output += '=';\n                        break;\n                    }\n                    default: {\n                        throw 'Illegal base64url string!';\n                    }\n                }\n                return mz.globalContext.decodeURIComponent(mz.globalContext.escape(mz.globalContext.atob(output))); //polyfill https://github.com/davidchambers/Base64.js\n            }\n            jwt.urlBase64Decode = urlBase64Decode;\n            function decodeToken(token) {\n                var parts = token.split('.');\n                if (parts.length !== 3) {\n                    throw new Error('JWT must have 3 parts');\n                }\n                var decoded = urlBase64Decode(parts[1]);\n                if (!decoded) {\n                    throw new Error('Cannot decode the token');\n                }\n                return JSON.parse(decoded);\n            }\n            jwt.decodeToken = decodeToken;\n            function getTokenExpirationDate(token) {\n                var decoded = decodeToken(token);\n                if (typeof decoded.exp === \"undefined\") {\n                    return null;\n                }\n                var d = new Date(0); // The 0 here is the key, which sets the date to the epoch\n                d.setUTCSeconds(decoded.exp);\n                return d;\n            }\n            jwt.getTokenExpirationDate = getTokenExpirationDate;\n            ;\n            function isTokenExpired(token, offsetSeconds) {\n                var d = getTokenExpirationDate(token);\n                offsetSeconds = offsetSeconds || 0;\n                if (d === null) {\n                    return false;\n                }\n                // Token expired?\n                return !(d.valueOf() > (new Date().valueOf() + (offsetSeconds * 1000)));\n            }\n            jwt.isTokenExpired = isTokenExpired;\n            ;\n        })(jwt = auth.jwt || (auth.jwt = {}));\n    })(auth = mz.auth || (mz.auth = {}));\n})(mz || (mz = {}));\n/// <reference path=\"../mz.ts\" />\nvar mz;\n(function (mz) {\n    var mzLang = mz.mzLang || {};\n    var dictionary = mz.globalContext.idioma = mz.globalContext.idioma || {};\n    var erroresEncontradosIdioma = {};\n    mz.translate = function (localeId, defaultValue) {\n        if (!(localeId in dictionary)) {\n            if (localeId in mzLang)\n                return dictionary[localeId] = mzLang[localeId];\n            if (!(localeId in erroresEncontradosIdioma)) {\n                mz._debug && console.warn('Missing translation: ' + localeId, defaultValue);\n                erroresEncontradosIdioma[localeId] = defaultValue || localeId;\n                dictionary[localeId] = defaultValue || localeId;\n            }\n        }\n        return dictionary[localeId];\n    };\n    mz.translate.missing = erroresEncontradosIdioma;\n    mz.translate.dictionary = dictionary;\n    mz.globalContext[\"\"] = mz.translate;\n})(mz || (mz = {}));\n/// <reference path=\"../mz.ts\" />\n/// <reference path=\"I18n.ts\" />\n/// <reference path=\"Xr.ts\" />\nDate.prototype.add = function (sInterval, iNum) {\n    var dTemp = this;\n    if (!sInterval || iNum == 0)\n        return dTemp;\n    switch (sInterval.toLowerCase()) {\n        case \"ms\":\n            dTemp.setMilliseconds(dTemp.getMilliseconds() + iNum);\n            break;\n        case \"s\":\n        case \"ss\":\n            dTemp.setSeconds(dTemp.getSeconds() + iNum);\n            break;\n        case \"mi\":\n        case \"m\":\n        case \"mm\":\n            dTemp.setMinutes(dTemp.getMinutes() + iNum);\n            break;\n        case \"h\":\n        case \"hh\":\n            dTemp.setHours(dTemp.getHours() + iNum);\n            break;\n        case \"d\":\n        case \"dd\":\n            dTemp.setDate(dTemp.getDate() + iNum);\n            break;\n        case \"mo\":\n            dTemp.setMonth(dTemp.getMonth() + iNum);\n            break;\n        case \"y\":\n        case \"yyyy\":\n            dTemp.setFullYear(dTemp.getFullYear() + iNum);\n            break;\n    }\n    return dTemp;\n};\nDate.prototype.part = function (sInterval) {\n    var dTemp = this;\n    if (!sInterval)\n        return dTemp;\n    switch (sInterval.toLowerCase()) {\n        case \"ms\":\n            return ('0000' + (dTemp.getMilliseconds().toString())).substr(-4);\n        case \"s\":\n        case \"ss\":\n            return ('00' + (dTemp.getSeconds()).toString()).substr(-2);\n        case \"mi\":\n        case \"m\":\n        case \"mm\":\n            return ('00' + (dTemp.getMinutes()).toString()).substr(-2);\n        case \"h\":\n        case \"hh\":\n            return ('00' + (dTemp.getHours()).toString()).substr(-2);\n        case \"d\":\n        case \"dd\":\n            return ('00' + (dTemp.getDate()).toString()).substr(-2);\n        case \"mo\":\n            return ('00' + (dTemp.getMonth() + 1).toString()).substr(-2);\n        case \"y\":\n        case \"yyyy\":\n            return dTemp.getFullYear().toString();\n    }\n    return sInterval;\n};\nvar mz;\n(function (mz) {\n    var date;\n    (function (date_1) {\n        var regexpISO8601 = /^[0-9]{4}(.{1})[0-9]{1,2}\\1[0-9]{1,2}\\T/;\n        function parseObject(json) {\n            if (typeof json == \"object\") {\n                var out;\n                if (json instanceof Array)\n                    out = [];\n                else\n                    out = {};\n                for (var i in json) {\n                    if (typeof json[i] == \"string\") {\n                        if (json[i].substr(0, 6) === \"/Date(\" && json[i].substr(-2) === \")/\") {\n                            out[i] = parse(json[i]);\n                        }\n                        else if (json[i].substr(10, 1) === \"T\" && (json[i].length < 32) && regexpISO8601.test(json[i])) {\n                            var a = new Date(json[i]);\n                            if (!isNaN(a))\n                                out[i] = a;\n                            else\n                                out[i] = json[i];\n                        }\n                        else {\n                            out[i] = json[i];\n                        }\n                    }\n                    else {\n                        if (mz.isIterable(json[i])) {\n                            out[i] = parseObject(json[i]);\n                        }\n                        else {\n                            out[i] = json[i];\n                        }\n                    }\n                }\n                return out;\n            }\n            return json;\n        }\n        date_1.parseObject = parseObject;\n        /**\n        * An Array of day names starting with Sunday.\n        *\n        * @example dayNames[0]\n        * @result 'Sunday'\n        *\n        * @name dayNames\n        * @type Array\n        * @cat Plugins/Methods/Date\n        */\n        date_1.dayNames = mz.translate('#dayNames', 'Domingo|Lunes|Martes|Miercoles|Jueves|Viernes|Sabado').split('|');\n        /**\n        * An Array of abbreviated day names starting with Sun.\n        *\n        * @example abbrDayNames[0]\n        * @result 'Sun'\n        *\n        * @name abbrDayNames\n        * @type Array\n        * @cat Plugins/Methods/Date\n        */\n        date_1.abbrDayNames = mz.translate('#abbrDayNames', 'Dom|Lun|Mar|Mie|Jue|Vie|Sab').split('|');\n        /**\n        * An Array of month names starting with Janurary.\n        *\n        * @example monthNames[0]\n        * @result 'January'\n        *\n        * @name monthNames\n        * @type Array\n        * @cat Plugins/Methods/Date\n        */\n        date_1.monthNames = mz.translate('#monthNames', 'Enero|Febrero|Marzo|Abril|Mayo|Junio|Julio|Agosto|Septiembre|Octubre|Noviembre|Diciembre').split('|');\n        /**\n        * An Array of abbreviated month names starting with Jan.\n        *\n        * @example abbrMonthNames[0]\n        * @result 'Jan'\n        *\n        * @name monthNames\n        * @type Array\n        * @cat Plugins/Methods/Date\n        */\n        date_1.abbrMonthNames = mz.translate('#abbrMonthNames', 'Ene|Feb|Mar|Abr|May|Jun|Jul|Ago|Sep|Oct|Nov|Dic').split('|');\n        /**\n        * The first day of the week for this locale.\n        *\n        * @name firstDayOfWeek\n        * @type Number\n        * @cat Plugins/Methods/Date\n        * @author Kelvin Luck\n        */\n        date_1.firstDayOfWeek = 0;\n        /**\n        * The format that string dates should be represented as (e.g. 'dd/mm/yyyy' for UK, 'mm/dd/yyyy' for US, 'yyyy-mm-dd' for Unicode etc).\n        *\n        * @name format\n        * @type String\n        * @cat Plugins/Methods/Date\n        * @author Kelvin Luck\n        */\n        date_1.format = mz.translate('#DateFormat', 'dd/mm/yyyy');\n        //Date.format = 'mm/dd/yyyy';\n        //Date.format = 'yyyy-mm-dd';\n        //Date.format = 'dd mmm yy';\n        /**\n        * The first two numbers in the century to be used when decoding a two digit year. Since a two digit year is ambiguous (and date.setYear\n        * only works with numbers < 99 and so doesn't allow you to set years after 2000) we need to use this to disambiguate the two digit year codes.\n        *\n        * @name format\n        * @type String\n        * @cat Plugins/Methods/Date\n        * @author Kelvin Luck\n        */\n        date_1.fullYearStart = '20';\n        /**\n        * Adds a given method under the given name\n        * to the Date prototype if it doesn't\n        * currently exist.\n        *\n        * @private\n        */\n        function addFeature(name, method) {\n            if (!Date.prototype[name]) {\n                Date.prototype[name] = method;\n            }\n        }\n        ;\n        /**\n        * Checks if the year is a leap year.\n        *\n        * @example var dtm = new Date(\"01/12/2008\");\n        * dtm.isLeapYear();\n        * @result true\n        *\n        * @name isLeapYear\n        * @type Boolean\n        * @cat Plugins/Methods/Date\n        */\n        addFeature(\"isLeapYear\", function () {\n            var y = this.getFullYear();\n            return (y % 4 == 0 && y % 100 != 0) || y % 400 == 0;\n        });\n        /**\n        * Checks if the day is a weekend day (Sat or Sun).\n        *\n        * @example var dtm = new Date(\"01/12/2008\");\n        * dtm.isWeekend();\n        * @result false\n        *\n        * @name isWeekend\n        * @type Boolean\n        * @cat Plugins/Methods/Date\n        */\n        addFeature(\"isWeekend\", function () {\n            return this.getDay() == 0 || this.getDay() == 6;\n        });\n        /**\n        * Check if the day is a day of the week (Mon-Fri)\n        *\n        * @example var dtm = new Date(\"01/12/2008\");\n        * dtm.isWeekDay();\n        * @result false\n        *\n        * @name isWeekDay\n        * @type Boolean\n        * @cat Plugins/Methods/Date\n        */\n        addFeature(\"isWeekDay\", function () {\n            return !this.isWeekend();\n        });\n        /**\n        * Gets the number of days in the month.\n        *\n        * @example var dtm = new Date(\"01/12/2008\");\n        * dtm.getDaysInMonth();\n        * @result 31\n        *\n        * @name getDaysInMonth\n        * @type Number\n        * @cat Plugins/Methods/Date\n        */\n        addFeature(\"getDaysInMonth\", function () {\n            return [31, (this.isLeapYear() ? 29 : 28), 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][this.getMonth()];\n        });\n        /**\n        * Gets the name of the day.\n        *\n        * @example var dtm = new Date(\"01/12/2008\");\n        * dtm.getDayName();\n        * @result 'Saturday'\n        *\n        * @example var dtm = new Date(\"01/12/2008\");\n        * dtm.getDayName(true);\n        * @result 'Sat'\n        *\n        * @param abbreviated Boolean When set to true the name will be abbreviated.\n        * @name getDayName\n        * @type String\n        * @cat Plugins/Methods/Date\n        */\n        addFeature(\"getDayName\", function (abbreviated) {\n            return abbreviated ? mz.date.abbrDayNames[this.getDay()] : mz.date.dayNames[this.getDay()];\n        });\n        /**\n        * Gets the name of the month.\n        *\n        * @example var dtm = new Date(\"01/12/2008\");\n        * dtm.getMonthName();\n        * @result 'Janurary'\n        *\n        * @example var dtm = new Date(\"01/12/2008\");\n        * dtm.getMonthName(true);\n        * @result 'Jan'\n        *\n        * @param abbreviated Boolean When set to true the name will be abbreviated.\n        * @name getDayName\n        * @type String\n        * @cat Plugins/Methods/Date\n        */\n        addFeature(\"getMonthName\", function (abbreviated) {\n            return abbreviated ? mz.date.abbrMonthNames[this.getMonth()] : mz.date.monthNames[this.getMonth()];\n        });\n        /**\n        * Get the number of the day of the year.\n        *\n        * @example var dtm = new Date(\"01/12/2008\");\n        * dtm.getDayOfYear();\n        * @result 11\n        *\n        * @name getDayOfYear\n        * @type Number\n        * @cat Plugins/Methods/Date\n        */\n        addFeature(\"getDayOfYear\", function () {\n            var tmpdtm = new Date(\"1/1/\" + this.getFullYear());\n            return Math.floor((this.getTime() - tmpdtm.getTime()) / 86400000);\n        });\n        /**\n        * Get the number of the week of the year.\n        *\n        * @example var dtm = new Date(\"01/12/2008\");\n        * dtm.getWeekOfYear();\n        * @result 2\n        *\n        * @name getWeekOfYear\n        * @type Number\n        * @cat Plugins/Methods/Date\n        */\n        addFeature(\"getWeekOfYear\", function () {\n            return Math.ceil(this.getDayOfYear() / 7);\n        });\n        /**\n        * Set the day of the year.\n        *\n        * @example var dtm = new Date(\"01/12/2008\");\n        * dtm.setDayOfYear(1);\n        * dtm.toString();\n        * @result 'Tue Jan 01 2008 00:00:00'\n        *\n        * @name setDayOfYear\n        * @type Date\n        * @cat Plugins/Methods/Date\n        */\n        addFeature(\"setDayOfYear\", function (day) {\n            this.setMonth(0);\n            this.setDate(day);\n            return this;\n        });\n        /**\n        * Add a number of years to the date object.\n        *\n        * @example var dtm = new Date(\"01/12/2008\");\n        * dtm.addYears(1);\n        * dtm.toString();\n        * @result 'Mon Jan 12 2009 00:00:00'\n        *\n        * @name addYears\n        * @type Date\n        * @cat Plugins/Methods/Date\n        */\n        addFeature(\"addYears\", function (num) {\n            this.setFullYear(this.getFullYear() + num);\n            return this;\n        });\n        /**\n        * Add a number of months to the date object.\n        *\n        * @example var dtm = new Date(\"01/12/2008\");\n        * dtm.addMonths(1);\n        * dtm.toString();\n        * @result 'Tue Feb 12 2008 00:00:00'\n        *\n        * @name addMonths\n        * @type Date\n        * @cat Plugins/Methods/Date\n        */\n        addFeature(\"addMonths\", function (num) {\n            var tmpdtm = this.getDate();\n            this.setMonth(this.getMonth() + num);\n            if (tmpdtm > this.getDate())\n                this.addDays(-this.getDate());\n            return this;\n        });\n        /**\n        * Add a number of days to the date object.\n        *\n        * @example var dtm = new Date(\"01/12/2008\");\n        * dtm.addDays(1);\n        * dtm.toString();\n        * @result 'Sun Jan 13 2008 00:00:00'\n        *\n        * @name addDays\n        * @type Date\n        * @cat Plugins/Methods/Date\n        */\n        addFeature(\"addDays\", function (num) {\n            //this.setDate(this.getDate() + num);\n            this.setTime(this.getTime() + (num * 86400000));\n            return this;\n        });\n        /**\n        * Add a number of hours to the date object.\n        *\n        * @example var dtm = new Date(\"01/12/2008\");\n        * dtm.addHours(24);\n        * dtm.toString();\n        * @result 'Sun Jan 13 2008 00:00:00'\n        *\n        * @name addHours\n        * @type Date\n        * @cat Plugins/Methods/Date\n        */\n        addFeature(\"addHours\", function (num) {\n            this.setHours(this.getHours() + num);\n            return this;\n        });\n        /**\n        * Add a number of minutes to the date object.\n        *\n        * @example var dtm = new Date(\"01/12/2008\");\n        * dtm.addMinutes(60);\n        * dtm.toString();\n        * @result 'Sat Jan 12 2008 01:00:00'\n        *\n        * @name addMinutes\n        * @type Date\n        * @cat Plugins/Methods/Date\n        */\n        addFeature(\"addMinutes\", function (num) {\n            this.setMinutes(this.getMinutes() + num);\n            return this;\n        });\n        /**\n        * Add a number of seconds to the date object.\n        *\n        * @example var dtm = new Date(\"01/12/2008\");\n        * dtm.addSeconds(60);\n        * dtm.toString();\n        * @result 'Sat Jan 12 2008 00:01:00'\n        *\n        * @name addSeconds\n        * @type Date\n        * @cat Plugins/Methods/Date\n        */\n        addFeature(\"addSeconds\", function (num) {\n            this.setSeconds(this.getSeconds() + num);\n            return this;\n        });\n        /**\n        * Sets the time component of this Date to zero for cleaner, easier comparison of dates where time is not relevant.\n        *\n        * @example var dtm = new Date();\n        * dtm.zeroTime();\n        * dtm.toString();\n        * @result 'Sat Jan 12 2008 00:01:00'\n        *\n        * @name zeroTime\n        * @type Date\n        * @cat Plugins/Methods/Date\n        * @author Kelvin Luck\n        */\n        addFeature(\"zeroTime\", function () {\n            this.setMilliseconds(0);\n            this.setSeconds(0);\n            this.setMinutes(0);\n            this.setHours(0);\n            return this;\n        });\n        /**\n        * Returns a string representation of the date object according to Date.format.\n        * (Date.toString may be used in other places so I purposefully didn't overwrite it)\n        *\n        * @example var dtm = new Date(\"01/12/2008\");\n        * dtm.asString();\n        * @result '12/01/2008' // (where Date.format == 'dd/mm/yyyy'\n        *\n        * @name asString\n        * @type Date\n        * @cat Plugins/Methods/Date\n        * @author Kelvin Luck\n        */\n        addFeature(\"asString\", function (format) {\n            var r = format || mz.date.format;\n            if (r.split('mm').length > 1) {\n                r = r.split('mmmm').join(this.getMonthName(false))\n                    .split('mmm').join(this.getMonthName(true))\n                    .split('mm').join(_zeroPad(this.getMonth() + 1));\n            }\n            else {\n                r = r.split('m').join(this.getMonth() + 1);\n            }\n            r = r.split('yyyy').join(this.getFullYear())\n                .split('yy').join((this.getFullYear() + '').substring(2))\n                .split('dd').join(_zeroPad(this.getDate()))\n                .split('d').join(this.getDate());\n            return r;\n        });\n        /**\n        * Returns a new date object created from the passed String according to Date.format or false if the attempt to do this results in an invalid date object\n        * (We can't simple use Date.parse as it's not aware of locale and I chose not to overwrite it incase it's functionality is being relied on elsewhere)\n        *\n        * @example var dtm = Date.fromString(\"12/01/2008\");\n        * dtm.toString();\n        * @result 'Sat Jan 12 2008 00:00:00' // (where Date.format == 'dd/mm/yyyy'\n        *\n        * @name fromString\n        * @type Date\n        * @cat Plugins/Methods/Date\n        * @author Kelvin Luck\n        */\n        function fromString(s, f) {\n            f = f || date_1.format;\n            f.replace('mo', 'mm');\n            var d = new Date('01/01/1970');\n            if (s == '')\n                return d;\n            s = s.toLowerCase();\n            var matcher = '';\n            var order = [];\n            var r = /(dd?d?|mm?m?|yy?yy?)+([^(m|d|y)])?/g;\n            var results;\n            while ((results = r.exec(f)) != null) {\n                switch (results[1]) {\n                    case 'd':\n                    case 'dd':\n                    case 'm':\n                    case 'mm':\n                    case 'yy':\n                    case 'yyyy':\n                        matcher += '(\\\\d+\\\\d?\\\\d?\\\\d?)+';\n                        order.push(results[1].substr(0, 1));\n                        break;\n                    case 'mmm':\n                        matcher += '([a-z]{3})';\n                        order.push('M');\n                        break;\n                }\n                if (results[2]) {\n                    matcher += results[2];\n                }\n            }\n            var dm = new RegExp(matcher);\n            var result = s.match(dm);\n            if (!result)\n                return d;\n            for (var i = 0; i < order.length; i++) {\n                var res = result[i + 1];\n                switch (order[i]) {\n                    case 'd':\n                        d.setDate(res);\n                        break;\n                    case 'm':\n                        d.setMonth(Number(res) - 1);\n                        break;\n                    case 'M':\n                        for (var j = 0; j < date_1.abbrMonthNames.length; j++) {\n                            if (date_1.abbrMonthNames[j].toLowerCase() == res)\n                                break;\n                        }\n                        d.setMonth(j);\n                        break;\n                    case 'y':\n                        d.setFullYear(res);\n                        break;\n                }\n            }\n            return d;\n        }\n        date_1.fromString = fromString;\n        ;\n        // utility method\n        var _zeroPad = function (num) {\n            var s = '0' + num;\n            return s.substring(s.length - 2);\n            //return ('0'+num).substring(-2); // doesn't work on IE :(\n        };\n        date_1._offsetServer = 0;\n        function newSyncro() {\n            var date = new Date();\n            date.setTime(date.getTime() + date_1._offsetServer);\n            return date;\n        }\n        date_1.newSyncro = newSyncro;\n        function sync(url) {\n            mz.xr.get(url).then(function (x) {\n                var xhr = x.xhr;\n                var date = xhr.getResponseHeader(\"Date\") || xhr.getResponseHeader(\"date\");\n                var serverTimeMillisGMT = Date.parse(new Date(Date.parse(date)).toUTCString());\n                var localMillisUTC = Date.parse(new Date().toUTCString());\n                date_1._offsetServer = serverTimeMillisGMT - localMillisUTC;\n                if (mz._debug) {\n                    console.log('Timer sincronizados con el servidor: offset=' + date_1._offsetServer);\n                    console.log('Timer local:', new Date());\n                    console.log('Timer remoto:', newSyncro());\n                }\n            });\n        }\n        date_1.sync = sync;\n        function parse(date, format) {\n            function parseJsonDate(d) {\n                if (!d)\n                    return null;\n                if (d instanceof Date)\n                    return new Date(d);\n                //return eval(\"new \" + d.substr(1).replace(\"/\",\"\"));\n                if (d.indexOf(\"/Date(\") == 0 && d.lastIndexOf(\"/\") == (d.length - 1))\n                    return new Date(mz.intval(d.substr(6)));\n                return new Date(d);\n            }\n            function convertirAFechaHora(s) {\n                if (s instanceof Date)\n                    return s;\n                var date = null;\n                if (s.match(/^\\d{4}([./-])\\d{1,2}\\1\\d{1,2}[ ]\\d{1,2}:\\d{1,2}/)) {\n                    date = new Date(s);\n                }\n                else if (format && s.match(/^\\d{2}([./-])\\d{2}\\1\\d{4}[ ]\\d{2}:\\d{2}/) && format.startsWith('dd')) {\n                    var mes = s.substring(3, 5);\n                    var dia = s.substring(0, 2);\n                    var anio = s.substring(6, 10);\n                    if (mes > 12) {\n                        var a = dia;\n                        dia = mes;\n                        mes = a;\n                    }\n                    var hora = s.substring(11, 13);\n                    var min = s.substring(14, 16);\n                    date = new Date(mes + \"/\" + dia + \"/\" + anio + \" \" + hora + \":\" + min);\n                }\n                else if (s.match(/^\\d{2}([./-])\\d{2}\\1\\d{4}[ ]\\d{2}:\\d{2}/)) {\n                    var mes = s.substring(3, 5);\n                    var dia = s.substring(0, 2);\n                    var anio = s.substring(6, 10);\n                    if (mes > 12) {\n                        var a = dia;\n                        dia = mes;\n                        mes = a;\n                    }\n                    var hora = s.substring(11, 13);\n                    var min = s.substring(14, 16);\n                    date = new Date(mes + \"/\" + dia + \"/\" + anio + \" \" + hora + \":\" + min);\n                }\n                else {\n                    var tmp = new Date(date);\n                    if (!isNaN(tmp))\n                        date = tmp;\n                }\n                return date;\n            }\n            function convertirAFecha(s) {\n                if (s instanceof Date)\n                    return s;\n                var date = null;\n                if (s.match(/^\\d{4}([./-])\\d{1,2}\\1\\d{1,2}/)) {\n                    date = new Date(s);\n                }\n                else if (s.match(/^\\d{2}([./-])\\d{2}\\1\\d{4}/) && format && (format.startsWith('mm') || format.startsWith('mo'))) {\n                    var dia = s.substring(3, 5);\n                    var mes = s.substring(0, 2);\n                    var anio = s.substring(6, 10);\n                    if (mes > 12) {\n                        var a = dia;\n                        dia = mes;\n                        mes = a;\n                    }\n                    date = new Date(anio, mes, dia);\n                }\n                else if (s.match(/^\\d{2}([./-])\\d{2}\\1\\d{4}/)) {\n                    var mes = s.substring(3, 5);\n                    var dia = s.substring(0, 2);\n                    var anio = s.substring(6, 10);\n                    if (mes > 12) {\n                        var a = dia;\n                        dia = mes;\n                        mes = a;\n                    }\n                    date = new Date(anio, mes, dia);\n                }\n                else {\n                    var tmp = new Date(date);\n                    if (!isNaN(tmp))\n                        date = tmp;\n                }\n                return date;\n            }\n            if (date == null)\n                return null;\n            if (date instanceof Date)\n                return date;\n            if (typeof date === 'string') {\n                date = mz.trim(date);\n                if (date.indexOf(\"/Date(\") == 0 && date.lastIndexOf(\"/\") == (date.length - 1)) {\n                    return parseJsonDate(date);\n                }\n                else if (date.indexOf(\"T\") == 10 && date.lastIndexOf(\"Z\") == (date.length - 1)) {\n                    var a = new Date(date);\n                    if (!isNaN(a))\n                        return a;\n                }\n                else if (date.indexOf(\"UTC\") != -1) {\n                    date = date.replace(/-/, \"/\").replace(/-/, \"/\");\n                    date = date.replace(/T/, \" \").replace(/Z/, \" UTC\");\n                    date = date.replace(/([\\+-]\\d\\d)\\:?(\\d\\d)/, \" $1$2\"); // -04:00 -> -0400\n                    return new Date(date);\n                }\n                else if (date.indexOf(\"/\") != -1) {\n                    if (date.indexOf(\":\") != -1) {\n                        return convertirAFechaHora(date);\n                    }\n                    return convertirAFecha(date);\n                }\n                else {\n                    return new Date(date);\n                }\n            }\n            else if (typeof date == \"number\") {\n                return new Date(date);\n            }\n            return date;\n        }\n        date_1.parse = parse;\n        function add(date, intervalo, numero) {\n            return this.parse(date).add(intervalo, numero);\n        }\n        date_1.add = add;\n        function fmt_date(obj_date) {\n            if (obj_date === null)\n                return '';\n            if (!(obj_date instanceof Date)) {\n                obj_date = this.parse(obj_date);\n            }\n            if (!(obj_date instanceof Date)) {\n                return '';\n            }\n            if ('asString' in obj_date)\n                return obj_date.asString();\n            var d = obj_date.getDate();\n            var m = obj_date.getMonth() + 1;\n            var a = obj_date.getFullYear();\n            if (m < 10)\n                m = \"0\" + m.toString();\n            if (d < 10)\n                d = \"0\" + d.toString();\n            return a.toString() + '/' + m.toString() + '/' + d.toString();\n        }\n        date_1.fmt_date = fmt_date;\n        function fmt_time(obj_date, segundos) {\n            if (obj_date === null)\n                return '';\n            if (!(obj_date instanceof Date)) {\n                obj_date = this.parse(obj_date);\n            }\n            if (!(obj_date instanceof Date)) {\n                return '';\n            }\n            var hr = obj_date.getHours();\n            var min = obj_date.getMinutes();\n            var seg = obj_date.getSeconds();\n            if (min < 10)\n                min = \"0\" + min.toString();\n            if (hr < 10)\n                hr = \"0\" + hr.toString();\n            if (seg < 10)\n                seg = \"0\" + seg.toString();\n            segundos = segundos || false;\n            return hr.toString() + ':' + min.toString() + (segundos != false ? \":\" + seg.toString() : '');\n        }\n        date_1.fmt_time = fmt_time;\n        function fmt_date_time(obj_date, segundos) {\n            if (obj_date === null)\n                return '';\n            segundos = segundos || false;\n            return this.fmt_date(obj_date) + ' ' + this.fmt_time(obj_date, segundos);\n        }\n        date_1.fmt_date_time = fmt_date_time;\n        function toString(date, fmt) {\n            if (date && date instanceof Date) {\n                return (fmt || 'yyyy/mo/dd hh:mm').replace(/(\\w{4}|\\w{2}|\\w{1})/g, function (a) {\n                    return date.part(a);\n                });\n            }\n            else {\n                return '';\n            }\n        }\n        date_1.toString = toString;\n        function fmt_duracion(segundos, segs) {\n            segundos = Number(segundos || 0);\n            var negativo = segundos < 0;\n            if (negativo)\n                segundos = -segundos;\n            var h = Math.floor(segundos / 3600);\n            var m = Math.floor(segundos / 60 - h * 60);\n            var s = Math.floor(segundos % 60);\n            if (m < 10)\n                m = \"0\" + m.toString();\n            if (s < 10)\n                s = \"0\" + s.toString();\n            if (h < 10)\n                h = \"0\" + h.toString();\n            return (negativo ? '-' : '') + (segs ? \"{0}:{1}:{2}\" : \"{0}:{1}\").format(h, m, s);\n        }\n        date_1.fmt_duracion = fmt_duracion;\n        function parseDuracion(val) {\n            if (val == null || val instanceof Number)\n                return val;\n            if (typeof val == 'string' && val.indexOf(':') != -1) {\n                var s = val.split(':');\n                var hr = mz.intval(s[0]);\n                return (hr < 0 ? -1 : 1) * Math.abs(hr) * 3600 + mz.intval(s[1]) * 60 + (s.length == 3 ? mz.intval(s[2]) : 0);\n            }\n            return mz.intval(val);\n        }\n        date_1.parseDuracion = parseDuracion;\n    })(date = mz.date || (mz.date = {}));\n})(mz || (mz = {}));\n;\n/// <reference path=\"../mz.ts\" />\n/// <reference path=\"Date.ts\" />\nvar mz;\n(function (mz) {\n    var promise;\n    (function (promise) {\n        function wait(time) {\n            return function (data) {\n                return new Promise(function (ok) { return setTimeout(function () { return ok(data); }, time); });\n            };\n        }\n        promise.wait = wait;\n        ;\n        function yield(data) {\n            return new Promise(function (ok) { return setImmediate(function () { return ok(data); }); });\n        }\n        promise.yield = yield;\n        ;\n        function nextFrame(data) {\n            return new Promise(function (ok) { return requestAnimationFrame(function () { return ok(data); }); });\n        }\n        promise.nextFrame = nextFrame;\n        ;\n        function parseStringDates(data) {\n            var tipo = typeof data;\n            if (!(tipo == \"boolean\" || tipo == \"number\" || tipo == \"string\"))\n                return Promise.resolve(mz.date.parseObject(data));\n            return Promise.resolve(data);\n        }\n        promise.parseStringDates = parseStringDates;\n        ;\n        if ('Response' in mz.globalContext && 'fetch' in mz.globalContext) {\n            promise.parseJSON = function (data) {\n                return (new mz.globalContext.Response(data)).json();\n            };\n        }\n        else {\n            promise.parseJSON = function (data) {\n                var result;\n                try {\n                    result = JSON.parse(data);\n                }\n                catch (error) {\n                    return Promise.reject(error);\n                }\n                return Promise.resolve(result);\n            };\n        }\n    })(promise = mz.promise || (mz.promise = {}));\n})(mz || (mz = {}));\n/// <reference path=\"../mz.ts\" />\n/// <reference path=\"Promise.ts\" />\n/// <reference path=\"../AUTH/OAuth2.ts\" />\nvar mz;\n(function (mz) {\n    var res = function res(xhr) {\n        return {\n            status: xhr.status,\n            response: xhr.response,\n            xhr: xhr,\n            url: '',\n            data: null\n        };\n    };\n    var getParams = function getParams(data, url) {\n        var ret = [];\n        for (var k in data) {\n            ret.push('' + encodeURIComponent(k) + '=' + encodeURIComponent(data[k]));\n        }\n        if (url && url.split('?').length > 1)\n            ret.push(url.split('?')[1]);\n        return ret.join('&');\n    };\n    var promise = function promise(args, fn) {\n        return (args && args.promise ? args.promise : xr.defaults.promise)(fn);\n    };\n    /**\n      * xr (c) James Cleveland 2015\n      * URL: https://github.com/radiosilence/xr\n      * License: BSD\n      */\n    function xr(args) {\n        if (!args.skipAuthorization && !args.promise) {\n            mz.oauth2.applyAuthorizationHeaders(args);\n        }\n        return promise(args, function (resolve, reject) {\n            var opts = mz.copy({}, xr.defaults);\n            // avoid copying headers to default's headers object\n            opts.headers = mz.copy(opts.headers);\n            mz.copy(opts, args);\n            var xhr = opts.xmlHttpRequest();\n            var originalURL = opts.url;\n            var fileProtocol = false;\n            if (opts.url) {\n                opts.url = mz.getPath(opts.url);\n                fileProtocol = xr.urlResolve(opts.url).protocol == \"file\";\n            }\n            var data = typeof opts.data === 'object' && !opts.raw ? opts.dump.call(opts, opts.data) : opts.data;\n            var queryString = opts.params ? getParams(opts.params) : null;\n            xhr.open(opts.method, queryString && queryString.length ? '' + opts.url.split('?')[0] + '?' + queryString : opts.url, true);\n            if (opts.url && opts.url.contains(\"//\") && opts.withCredentials == null) {\n                xhr.withCredentials = true;\n            }\n            else if (opts.withCredentials) {\n                xhr.withCredentials = opts.withCredentials;\n            }\n            xhr.addEventListener(xr.Events.READY_STATE_CHANGE, function (e) {\n                if (xhr.readyState == 4) {\n                    var resultado = mz.copy(res(xhr), {\n                        data: xhr.response ? !opts.raw ? opts.load(xhr.response, xhr) : xhr.response : null,\n                        url: originalURL\n                    });\n                    if (resultado.data && resultado.data instanceof Promise) {\n                        resultado.data.then(function (ok) {\n                            resultado.data = ok;\n                            return (xhr.status == 0 && fileProtocol || xhr.status >= 200 && xhr.status < 300) ? resolve(resultado, false) : reject(resultado);\n                        }, function (err) {\n                            resultado.data = err;\n                            return (xhr.status == 0 && fileProtocol || xhr.status >= 200 && xhr.status < 300) ? resolve(resultado, false) : reject(resultado);\n                        });\n                    }\n                    else {\n                        return (xhr.status == 0 && fileProtocol || xhr.status >= 200 && xhr.status < 300) ? resolve(resultado, false) : reject(resultado);\n                    }\n                }\n            });\n            xhr.addEventListener(xr.Events.ABORT, function () {\n                return reject(res(xhr));\n            });\n            xhr.addEventListener(xr.Events.ERROR, function () {\n                var resultado = res(xhr);\n                if (xhr.response) {\n                    try {\n                        mz.copy(resultado, {\n                            data: xhr.response ? !opts.raw ? opts.load(xhr.response, xhr) : xhr.response : null,\n                            url: originalURL\n                        });\n                    }\n                    catch (e) { }\n                }\n                return reject(resultado);\n            });\n            xhr.addEventListener(xr.Events.TIMEOUT, function () {\n                return reject(res(xhr));\n            });\n            for (var header in opts.headers) {\n                xhr.setRequestHeader(header, opts.headers[header]);\n            }\n            for (var _event in opts.events) {\n                xhr.addEventListener(_event, opts.events[_event].bind(null, xhr), false);\n            }\n            data !== undefined ? xhr.send(data) : xhr.send();\n        });\n    }\n    mz.xr = xr;\n    ;\n})(mz || (mz = {}));\nvar mz;\n(function (mz) {\n    var xr;\n    (function (xr) {\n        xr.Methods = {\n            GET: 'GET',\n            POST: 'POST',\n            PUT: 'PUT',\n            DELETE: 'DELETE',\n            PATCH: 'PATCH',\n            OPTIONS: 'OPTIONS'\n        };\n        xr.Events = {\n            READY_STATE_CHANGE: 'readystatechange',\n            LOAD_START: 'loadstart',\n            PROGRESS: 'progress',\n            ABORT: 'abort',\n            ERROR: 'error',\n            LOAD: 'load',\n            TIMEOUT: 'timeout',\n            LOAD_END: 'loadend'\n        };\n        var readJSONFromString = function (x, xhr) {\n            if (typeof x == \"string\") {\n                return mz.promise.parseJSON(x).then(function (x) {\n                    if ('d' in x)\n                        return x.d;\n                    return x;\n                }).then(mz.promise.parseStringDates);\n            }\n            return x;\n        };\n        var formatters;\n        (function (formatters) {\n            formatters.json = function (x) {\n                if (x instanceof FormData) {\n                    if ('Content-Type' in this.headers)\n                        delete this.headers['Content-Type'];\n                    return x;\n                }\n                this.headers['Content-Type'] = 'application/json';\n                return JSON.stringify(x);\n            };\n            formatters.raw = function (x) { return x.toString(); };\n            formatters.urlEncoded = function (obj) {\n                this.headers['Content-Type'] = 'application/x-www-form-urlencoded';\n                var t = [];\n                for (var i in obj) {\n                    if (obj.hasOwnProperty(i) && typeof obj[i] != 'undefined') {\n                        if (typeof obj[i] == \"object\" && obj[i] instanceof Date && !isNaN(obj[i]))\n                            t.push(encodeURIComponent(i) + '=' + encodeURIComponent(obj[i].toISOString()));\n                        else\n                            t.push(encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]));\n                    }\n                }\n                return t.join(\"&\");\n            };\n            formatters.multipart = function (obj) {\n                if ('Content-Type' in this.headers)\n                    delete this.headers['Content-Type'];\n                var t = new FormData();\n                for (var i in obj)\n                    if (obj.hasOwnProperty(i))\n                        t.append(i, obj[obj]);\n                return t;\n            };\n        })(formatters = xr.formatters || (xr.formatters = {}));\n        xr.defaults = {\n            method: xr.Methods.GET,\n            data: undefined,\n            headers: {\n                'Accept': 'application/json'\n            },\n            dump: formatters.json,\n            load: readJSONFromString,\n            xmlHttpRequest: function xmlHttpRequest() {\n                return new XMLHttpRequest();\n            },\n            promise: function promise(fn) {\n                return new Promise(fn);\n            },\n            params: {},\n            url: null,\n            raw: false,\n            events: {},\n            withCredentials: null\n        };\n        var urlParsingNode = document.createElement(\"a\");\n        var originUrl = urlResolve(location.href);\n        /**\n         *\n         * Implementation Notes for non-IE browsers\n         * ----------------------------------------\n         * Assigning a URL to the href property of an anchor DOM node, even one attached to the DOM,\n         * results both in the normalizing and parsing of the URL.  Normalizing means that a relative\n         * URL will be resolved into an absolute URL in the context of the application document.\n         * Parsing means that the anchor node's host, hostname, protocol, port, pathname and related\n         * properties are all populated to reflect the normalized URL.  This approach has wide\n         * compatibility - Safari 1+, Mozilla 1+, Opera 7+,e etc.  See\n         * http://www.aptana.com/reference/html/api/HTMLAnchorElement.html\n         *\n         * Implementation Notes for IE\n         * ---------------------------\n         * IE <= 10 normalizes the URL when assigned to the anchor node similar to the other\n         * browsers.  However, the parsed components will not be set if the URL assigned did not specify\n         * them.  (e.g. if you assign a.href = \"foo\", then a.protocol, a.host, etc. will be empty.)  We\n         * work around that by performing the parsing in a 2nd step by taking a previously normalized\n         * URL (e.g. by assigning to a.href) and assigning it a.href again.  This correctly populates the\n         * properties such as protocol, hostname, port, etc.\n         *\n         * References:\n         *   http://developer.mozilla.org/en-US/docs/Web/API/HTMLAnchorElement\n         *   http://www.aptana.com/reference/html/api/HTMLAnchorElement.html\n         *   http://url.spec.whatwg.org/#urlutils\n         *   https://github.com/angular/angular.js/pull/2902\n         *   http://james.padolsey.com/javascript/parsing-urls-with-the-dom/\n         *\n         * @kind function\n         * @param {string} url The URL to be parsed.\n         * @description Normalizes and parses a URL.\n         * @returns {object} Returns the normalized URL as a dictionary.\n         *\n         *   | member name   | Description    |\n         *   |---------------|----------------|\n         *   | href          | A normalized version of the provided URL if it was not an absolute URL |\n         *   | protocol      | The protocol including the trailing colon                              |\n         *   | host          | The host and port (if the port is non-default) of the normalizedUrl    |\n         *   | search        | The search params, minus the question mark                             |\n         *   | hash          | The hash string, minus the hash symbol\n         *   | hostname      | The hostname\n         *   | port          | The port, without \":\"\n         *   | pathname      | The pathname, beginning with \"/\"\n         *\n         */\n        function urlResolve(url) {\n            var href = url;\n            //if (msie) {\n            // Normalize before parse.  Refer Implementation Notes on why this is\n            // done in two steps on IE.\n            urlParsingNode.setAttribute(\"href\", href);\n            href = urlParsingNode.href;\n            //}\n            urlParsingNode.setAttribute('href', href);\n            // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n            return {\n                href: urlParsingNode.href,\n                protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n                host: urlParsingNode.host,\n                search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n                hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n                hostname: urlParsingNode.hostname,\n                port: urlParsingNode.port,\n                pathname: (urlParsingNode.pathname.charAt(0) === '/')\n                    ? urlParsingNode.pathname\n                    : '/' + urlParsingNode.pathname\n            };\n        }\n        xr.urlResolve = urlResolve;\n        /**\n         * Parse a request URL and determine whether this is a same-origin request as the application document.\n         *\n         * @param {string|object} requestUrl The url of the request as a string that will be resolved\n         * or a parsed URL object.\n         * @returns {boolean} Whether the request is for the same origin as the application document.\n         */\n        function urlIsSameOrigin(requestUrl) {\n            var parsed = (typeof requestUrl == \"string\") ? urlResolve(requestUrl) : requestUrl;\n            return (parsed.protocol === originUrl.protocol &&\n                parsed.host === originUrl.host);\n        }\n        xr.urlIsSameOrigin = urlIsSameOrigin;\n        /**\n         * var moviles = 'Los Moviles/Autos'\n         * mz.xr.urlEncode `@api/v1/${moviles}/1` -> '@api/v1/Los%20Moviles%2FAutos/1'\n         */\n        function urlEncode(literalSections) {\n            var substs = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                substs[_i - 1] = arguments[_i];\n            }\n            var raw = literalSections.raw;\n            var result = '';\n            substs.forEach(function (subst, i) {\n                var lit = raw[i];\n                if (Array.isArray(subst)) {\n                    subst = subst.join('');\n                }\n                if (!lit.endsWith('$')) {\n                    subst = encodeURIComponent(subst);\n                }\n                else {\n                    lit = lit.slice(0, -1);\n                }\n                result += lit;\n                result += subst;\n            });\n            result += raw[raw.length - 1]; // (A)\n            return result;\n        }\n        xr.urlEncode = urlEncode;\n        xr.getAbsoluteUrl = (function () {\n            var a;\n            return function (url) {\n                if (!a)\n                    a = document.createElement('a');\n                a.href = mz.getPath(url);\n                return a.href;\n            };\n        })();\n        function get(url, params, args) {\n            return xr(mz.copy({ url: url, method: xr.Methods.GET, params: params }, args));\n        }\n        xr.get = get;\n        ;\n        function put(url, data, args) {\n            return xr(mz.copy({ url: url, method: xr.Methods.PUT, data: data || {} }, args));\n        }\n        xr.put = put;\n        ;\n        function post(url, data, args) {\n            return xr(mz.copy({ url: url, method: xr.Methods.POST, data: data || {} }, args));\n        }\n        xr.post = post;\n        ;\n        function patch(url, data, args) {\n            return xr(mz.copy({ url: url, method: xr.Methods.PATCH, data: data || {} }, args));\n        }\n        xr.patch = patch;\n        ;\n        function del(url, args) {\n            return xr(mz.copy({ url: url, method: xr.Methods.DELETE }, args));\n        }\n        xr.del = del;\n        ;\n        function options(url, args) {\n            return xr(mz.copy({ url: url, method: xr.Methods.OPTIONS }, args));\n        }\n        xr.options = options;\n        ;\n    })(xr = mz.xr || (mz.xr = {}));\n})(mz || (mz = {}));\nvar sp = String.prototype;\nif (!('capitalize' in sp)) {\n    sp.capitalize = function () {\n        return this.replace(/\\w\\S*/g, function (txt) { return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase(); });\n    };\n}\nif (!('setAt' in sp)) {\n    sp.setAt = function (index, character) {\n        return this.substr(0, index) + character + this.substr(index + character.length);\n    };\n}\nif (!('endsWith' in sp)) {\n    sp.endsWith = function (suffix) {\n        suffix = suffix.toString();\n        return this.indexOf(suffix, this.length - suffix.length) !== -1;\n    };\n}\nif (!('startsWith' in sp)) {\n    sp.startsWith = function (prefix) {\n        prefix = prefix.toString();\n        return this.indexOf(prefix) === 0;\n    };\n}\nif (!('contains' in sp)) {\n    sp.contains = function (prefix) {\n        prefix = prefix.toString();\n        return this.indexOf(prefix) !== -1;\n    };\n}\nsp.toCamelCase = function () {\n    return this.toLowerCase().replace(/-([a-z])/g, function (match, group1) {\n        return group1.toUpperCase();\n    });\n};\nsp.format = function () {\n    var formatted = this;\n    for (var i = 0; i < arguments.length; i++) {\n        var regexp = new RegExp('\\\\{' + i + '\\\\}', 'gi');\n        formatted = formatted.replace(regexp, arguments[i]);\n    }\n    return formatted;\n};\nvar re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\nsp.isValidMail = function () {\n    return this.length > 5 && re.test(this);\n};\n/// <reference path=\"../CORE/Xr.ts\" />\n/// <reference path=\"../CORE/Strings.ts\" />\n/// <reference path=\"JWT.ts\" />\n/// <reference path=\"../CORE/EventDispatcher.ts\" />\nvar mz;\n(function (mz) {\n    var oauth2;\n    (function (oauth2) {\n        oauth2.roleList = [];\n        var loginUrl = null;\n        var refreshTokenUrl = null;\n        var logoutUrl = null;\n        var clientSecret = null;\n        var xhrWithCredentials = null;\n        var scopes = [];\n        oauth2.currentDomain = extractDomain(location.href), oauth2.currentClientID = 'mz-core';\n        function extractDomain(url) {\n            var domain;\n            var partes = url.split('/');\n            //find & remove protocol (http, ftp, etc.) and get domain\n            if (url.indexOf(\"://\") > -1) {\n                domain = partes[2];\n            }\n            else {\n                if (partes[0].contains('.'))\n                    domain = partes[0];\n                else\n                    return oauth2.currentDomain;\n            }\n            //find & remove port number\n            domain = domain.split(':')[0];\n            return domain.toLowerCase();\n        }\n        function tokenGetter(domain) {\n            return {\n                token: localStorage.getItem('JWT_' + domain) || localStorage.getItem('JWT_' + oauth2.currentDomain) || null,\n                type: localStorage.getItem('JWTtype_' + domain) || 'bearer'\n            };\n        }\n        oauth2.tokenGetter = tokenGetter;\n        function setupToken(token) {\n            if (mz.auth.jwt.isTokenExpired(token, 0))\n                throw new Error(\"The provided token is expired\");\n            var decodedToken = mz.auth.jwt.decodeToken(token);\n            if (decodedToken.role && decodedToken.role.length) {\n                if (typeof decodedToken.role == \"string\")\n                    decodedToken.role = [decodedToken.role];\n                pushRoles(decodedToken.role);\n            }\n        }\n        function setToken(domain, token, refreshToken, tokenType) {\n            domain = domain.toLowerCase();\n            if (token) {\n                if (mz.auth.jwt.isTokenExpired(token, 0))\n                    throw new Error(\"The provided token is expired\");\n                if (domain == oauth2.currentDomain) {\n                    setupToken(token);\n                }\n                localStorage.setItem('JWT_' + domain, token);\n                localStorage.setItem('JWTr_' + domain, refreshToken);\n                localStorage.setItem('JWTtype_' + domain, (tokenType || 'bearer'));\n            }\n            else {\n                localStorage.removeItem('JWT_' + domain);\n                localStorage.removeItem('JWTr_' + domain);\n                localStorage.removeItem('JWTtype_' + domain);\n            }\n        }\n        oauth2.setToken = setToken;\n        function checkRole(role) {\n            return oauth2.roleList.indexOf(role) != -1;\n        }\n        oauth2.checkRole = checkRole;\n        function pushRoles(roles) {\n            var roleArray = roles;\n            if (oauth2.roleList instanceof String)\n                roleArray = oauth2.roleList.split(/[\\|,]/g);\n            roleArray.forEach(function (role) { return oauth2.roleList.indexOf(role) == -1 && oauth2.roleList.push(role); });\n        }\n        oauth2.pushRoles = pushRoles;\n        /// <reference path=\"../CORE/Xr.ts\" />\n        /// <reference path=\"../CORE/Strings.ts\" />\n        /// <reference path=\"JWT.ts\" />\n        var ERROR_RESPONSES = {\n            'invalid_request': [\n                'The request is missing a required parameter, includes an',\n                'invalid parameter value, includes a parameter more than',\n                'once, or is otherwise malformed.'\n            ].join(' '),\n            'invalid_client': [\n                'Client authentication failed (e.g., unknown client, no',\n                'client authentication included, or unsupported',\n                'authentication method).'\n            ].join(' '),\n            'invalid_grant': [\n                'The provided authorization grant (e.g., authorization',\n                'code, resource owner credentials) or refresh token is',\n                'invalid, expired, revoked, does not match the redirection',\n                'URI used in the authorization request, or was issued to',\n                'another client.'\n            ].join(' '),\n            'unauthorized_client': [\n                'The client is not authorized to request an authorization',\n                'code using this method.'\n            ].join(' '),\n            'unsupported_grant_type': [\n                'The authorization grant type is not supported by the',\n                'authorization server.'\n            ].join(' '),\n            'access_denied': [\n                'The resource owner or authorization server denied the request.'\n            ].join(' '),\n            'unsupported_response_type': [\n                'The authorization server does not support obtaining',\n                'an authorization code using this method.'\n            ].join(' '),\n            'invalid_scope': [\n                'The requested scope is invalid, unknown, or malformed.'\n            ].join(' '),\n            'server_error': [\n                'The authorization server encountered an unexpected',\n                'condition that prevented it from fulfilling the request.',\n                '(This error code is needed because a 500 Internal Server',\n                'Error HTTP status code cannot be returned to the client',\n                'via an HTTP redirect.)'\n            ].join(' '),\n            'temporarily_unavailable': [\n                'The authorization server is currently unable to handle',\n                'the request due to a temporary overloading or maintenance',\n                'of the server.'\n            ].join(' ')\n        };\n        var unauthorizedRetry = function (fn) {\n            return (new Promise(fn)).catch(function (err) {\n                if (err.status == 401) {\n                    return oauth2.refreshToken().then(function (x) { return new Promise(fn); }, function (x) {\n                        if (x && x.status == 401) {\n                            oauth2.emit('unauthorized');\n                        }\n                        return Promise.reject(x);\n                    });\n                }\n                return Promise.reject(err);\n            });\n        };\n        var handleError = function (x) {\n            var err = x;\n            if (x && x.data && x.data.error) {\n                var message = ERROR_RESPONSES[x.data.error] || x.data.error_message || x.data.error;\n                oauth2.emit('error', 'refreshToken', x.data, message);\n                if (x.data.error == \"invalid_grant\") {\n                    localStorage.removeItem('JWTr_' + oauth2.currentDomain);\n                    // must login\n                    oauth2.emit('unauthorized');\n                }\n                err = new Error(message);\n                err.name = x.data.error;\n            }\n            if (x.status == 401) {\n                oauth2.emit('unauthorized');\n            }\n            return Promise.reject(err);\n        };\n        function applyAuthorizationHeaders(xr) {\n            var domain = extractDomain(xr.url);\n            var token = tokenGetter(domain);\n            if (token.token) {\n                xr.headers = xr.headers || {};\n                if (token.type == \"bearer\") {\n                    xr.headers['Authorization'] = \"Bearer \" + token.token;\n                }\n                else {\n                    (xr.params = xr.params || {})[\"access_token\"] = token.token;\n                    xr.headers['Pragma'] = 'no-store';\n                    xr.headers['Cache-Control'] = 'no-store';\n                }\n                xr.promise = unauthorizedRetry;\n            }\n        }\n        oauth2.applyAuthorizationHeaders = applyAuthorizationHeaders;\n        function configure(opts) {\n            loginUrl = opts.loginUrl || null;\n            refreshTokenUrl = opts.refreshTokenUrl || null;\n            logoutUrl = opts.logoutUrl || null;\n            oauth2.currentClientID = opts.clientId || null;\n            clientSecret = opts.clientSecret || null;\n            scopes = opts.scopes || [];\n            xhrWithCredentials = opts.xhrWithCredentials;\n            if (localStorage.getItem('JWT_' + oauth2.currentDomain)) {\n                try {\n                    setupToken(localStorage.getItem('JWT_' + oauth2.currentDomain));\n                }\n                catch (e) {\n                    console.error(e);\n                }\n            }\n            if (localStorage.getItem('JWTr_' + oauth2.currentDomain)) {\n                refreshTokenUrl && refreshToken();\n            }\n        }\n        oauth2.configure = configure;\n        function refreshToken() {\n            if (refreshTokenUrl) {\n                var authString;\n                if (oauth2.currentClientID) {\n                    authString = oauth2.currentClientID + ':';\n                    if (clientSecret)\n                        authString += clientSecret;\n                    authString = 'Basic ' + btoa(authString);\n                }\n                return mz.xr.post(refreshTokenUrl, {\n                    grant_type: \"refresh_token\",\n                    refresh_token: localStorage.getItem('JWTr_' + oauth2.currentDomain) || null\n                }, {\n                    skipAuthorization: true,\n                    dump: mz.xr.formatters.urlEncoded,\n                    headers: {\n                        Authorization: authString\n                    },\n                    withCredentials: xhrWithCredentials\n                }).then(function (x) {\n                    if (x.data.access_token) {\n                        oauth2.emit(\"gotToken\", x.data.token, x.data, oauth2.currentDomain);\n                        setToken(oauth2.currentDomain, x.data.access_token, x.data.refresh_token || null);\n                    }\n                    if (x.data.error) {\n                        var message = ERROR_RESPONSES[x.data.error] || x.data.error_message || x.data.error;\n                        oauth2.emit('error', 'refreshToken', x.data, message);\n                        if (x.data.error == \"invalid_grant\") {\n                            localStorage.removeItem('JWTr_' + oauth2.currentDomain);\n                        }\n                        var err = new Error(message);\n                        err.name = x.data.error;\n                        return Promise.reject(err);\n                    }\n                    return x;\n                }, handleError);\n            }\n            return Promise.reject(null);\n        }\n        oauth2.refreshToken = refreshToken;\n        function logout() {\n            setToken(oauth2.currentDomain, null);\n            oauth2.emit('logout');\n            if (logoutUrl) {\n                return mz.xr.get(logoutUrl, {}, {\n                    skipAuthorization: true,\n                    withCredentials: xhrWithCredentials\n                }).then(function (x) {\n                    return x;\n                });\n            }\n            return Promise.resolve(null);\n        }\n        oauth2.logout = logout;\n        function login(username, password) {\n            if (loginUrl) {\n                var authString;\n                if (oauth2.currentClientID) {\n                    authString = oauth2.currentClientID + ':';\n                    if (clientSecret)\n                        authString += clientSecret;\n                    authString = 'Basic ' + btoa(authString);\n                }\n                var theScopes = void 0;\n                if (scopes.length) {\n                    theScopes = scopes.join(' ');\n                }\n                return mz.xr.post(loginUrl, {\n                    grant_type: 'password',\n                    username: username,\n                    password: password,\n                    scope: theScopes\n                }, {\n                    skipAuthorization: true,\n                    dump: mz.xr.formatters.urlEncoded,\n                    headers: {\n                        Authorization: authString\n                    },\n                    withCredentials: xhrWithCredentials\n                }).then(function (x) {\n                    if (x.data.access_token) {\n                        setToken(oauth2.currentDomain, x.data.access_token, x.data.refresh_token || null, (x.data.token_type || '').toLowerCase());\n                    }\n                    else if (x.data.error) {\n                        var message = ERROR_RESPONSES[x.data.error] || x.data.error_message || x.data.error;\n                        var err = new Error(message);\n                        err.name = x.data.error;\n                        return Promise.reject(err);\n                    }\n                    oauth2.emit('login', x.data);\n                    return x;\n                }, handleError);\n            }\n            return Promise.reject(null);\n        }\n        oauth2.login = login;\n        function loggedIn() {\n            var token = tokenGetter(oauth2.currentDomain);\n            if (!token || !token.token)\n                return false;\n            try {\n                return !mz.auth.jwt.isTokenExpired(token.token);\n            }\n            catch (e) {\n                console.error(e);\n            }\n            return false;\n        }\n        oauth2.loggedIn = loggedIn;\n        oauth2.on = mz.EventDispatcher.prototype.on;\n        oauth2.emit = mz.EventDispatcher.prototype.emit;\n        oauth2.off = mz.EventDispatcher.prototype.off;\n        mz.EventDispatcher.apply(oauth2);\n    })(oauth2 = mz.oauth2 || (mz.oauth2 = {}));\n})(mz || (mz = {}));\n/// <reference path=\"../strings.ts\" />\n/// <reference path=\"../Xr.ts\" />\n/// <reference path=\"define.ts\" />\nvar mz;\n(function (mz) {\n    function require(a, callback) {\n        var esFn = typeof callback == 'function';\n        if (typeof a == 'object' && a instanceof Array && callback) {\n            var count = a.length;\n            var args = [];\n            var elems = a;\n            for (var i in elems) {\n                (function (i, elem) {\n                    mz.require(elem, function (ret) {\n                        args[i] = ret;\n                        if ((--count) == 0)\n                            callback.apply(this, args);\n                    });\n                })(i, elems[i]);\n            }\n        }\n        else {\n            var elem = a.toString();\n            if (elem == \"exports\") {\n                if (esFn) {\n                    callback({});\n                }\n                else {\n                    console.error(\"require('exports') en lugar ilegal. slo se puede utilizar en una llamada a define(['exports'], function(exports)..\");\n                    return {};\n                }\n            }\n            else if (elem == \"require\") {\n                if (esFn) {\n                    callback(mz.require);\n                }\n                else {\n                    return mz.require;\n                }\n            }\n            else if (elem in mz.modules) {\n                if (esFn) {\n                    if (mz.modules[elem].loaded) {\n                        callback(mz.modules[elem].exports);\n                    }\n                    else {\n                        mz.modules[elem].callbacks.push({\n                            cb: callback,\n                            reqs: elems\n                        });\n                    }\n                }\n                else {\n                    if (mz.modules[elem].loaded) {\n                        return mz.modules[elem].exports;\n                    }\n                }\n            }\n            else {\n                var promise = mz.require.route(elem).then(function (archivo) {\n                    if (!archivo) {\n                        if (!/\\.js$/.test(elem))\n                            archivo = elem + '.js';\n                        else\n                            archivo = elem;\n                    }\n                    if (archivo.endsWith('.ts')) {\n                        archivo = archivo.replace(/\\.ts$/, '.js');\n                    }\n                    if (archivo) {\n                        mz.include(archivo, elem, esFn);\n                    }\n                    if (!esFn) {\n                        if (mz.modules[elem]) {\n                            if (mz.modules[elem].loaded)\n                                return mz.modules[elem].exports;\n                        }\n                        else {\n                            throw 'Mdulo desconocido [[' + elem + ']]';\n                        }\n                    }\n                    else {\n                        if (mz.modules[elem]) {\n                            if (mz.modules[elem].loaded)\n                                callback(mz.modules[elem].exports);\n                            else\n                                mz.modules[elem].callbacks.push({\n                                    cb: callback,\n                                    reqs: elem\n                                });\n                            return mz.modules[elem];\n                        }\n                        else {\n                            return null;\n                        }\n                    }\n                });\n            }\n        }\n    }\n    mz.require = require;\n    var modulosCargados = {};\n    function include(url, nombreModulo, async) {\n        var urlBuscada = mz.getPath(url);\n        var path = urlBuscada.split('/');\n        path.pop();\n        var module = mz.modules[nombreModulo] = new mz.Module(nombreModulo);\n        module.async = !!async;\n        module.filename = urlBuscada.toString();\n        module.path = path.join('/') + '/';\n        //if (module.path == '/') module.path = mz.getAbsoluteUrl();\n        modulosCargados[url] = loadModule(urlBuscada, module);\n        if (async == false && modulosCargados[url] == false) {\n            throw 'Include: No se pudo cargar el mdulo [[' + nombreModulo + ']] en ' + url;\n        }\n        return true;\n    }\n    mz.include = include;\n    function loadModule(url, module, async) {\n        var successflag = false;\n        if (mz.scriptBase) {\n            var baseURL = mz.xr.getAbsoluteUrl(mz.scriptBase.toLowerCase()).toLowerCase();\n            url = mz.xr.getAbsoluteUrl(url);\n            if (url.toLowerCase().startsWith(baseURL)) {\n                url = url.toLowerCase().replace(baseURL, '');\n            }\n        }\n        var processResponse = function (result) {\n            //try {\n            var bkCM = mz.define.currentModule || null;\n            mz.define.currentModule = module;\n            var bkRequire = mz.globalContext.require;\n            var bkExports = mz.globalContext.exports;\n            var bkModulo = mz.globalContext.module;\n            var bkDefine = mz.globalContext.define;\n            try {\n                mz.globalContext.define = module.define.bind(module);\n                mz.globalContext.exports = module.exports;\n                mz.globalContext.require = module.require.bind(module);\n                mz.globalContext.module = module;\n                mz.globalContext.define.amd = bkDefine.amd;\n                (function (str) {\n                    return eval(str);\n                }).call(module.exports, result + '\\n//@ sourceURL=' + url);\n            }\n            finally {\n                mz.globalContext.define = bkDefine;\n                mz.globalContext.exports = bkExports;\n                mz.globalContext.require = bkRequire;\n                mz.globalContext.module = bkModulo;\n            }\n            /*\n            jQuery.globalEval(\n                'var a = mz.proxy(mzcore.define.currentModule, \"define\");a.amd = mzcore.define.amd;(function(require, exports, module, define, ){ ' +\n                result +\n                '\\n})(mz.proxy(mzcore.define.currentModule, \"require\"), mzcore.define.currentModule.exports, mzcore.define.currentModule, a, mz.proxy(mzcore.define.currentModule, \"\"));\\n' +\n                '//@ sourceURL=' + (module.id || url)\n            );\n            */\n            if (mz.define.currentModule) {\n                mz.define.currentModule.loaded = true;\n                if (mz.define.currentModule.defined == false) {\n                    mz.define.currentModule.ModuleExports.set(mz.define.currentModule.exports, []);\n                }\n            }\n            mz.define.currentModule = bkCM;\n            successflag = true;\n            /*} catch (e) {\n            console.error('Include: Parser: No se pudo cargar el mdulo [[' + (module.id || url) + ']] en ' + url, e, e.stack);\n\n            if ('error' in e && 'message' in e) {\n            console.error(e.error, e.message, e.stack);\n            }\n            }*/\n        };\n        if (mz.hardCodedFiles && url in mz.hardCodedFiles) {\n            processResponse(mz.hardCodedFiles[url]);\n        }\n        else {\n            jQuery.ajax({\n                async: module.async,\n                type: \"GET\",\n                url: url,\n                data: null,\n                success: function (result) {\n                    processResponse(result);\n                },\n                fail: function () {\n                    console.error('Include: No se pudo cargar el mdulo [[' + (module.id || url) + ']] en ' + url);\n                },\n                dataType: 'text'\n            });\n        }\n        return successflag;\n    }\n})(mz || (mz = {}));\nvar mz;\n(function (mz) {\n    var require;\n    (function (require) {\n        var escapeRegExp = function (str) {\n            return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\");\n        };\n        require.routes = [];\n        function route(source, dest) {\n            if (arguments.length == 1 && typeof source === 'string') {\n                for (var i in require.routes) {\n                    var rt = require.routes[i];\n                    if (typeof rt.source === \"string\" && rt.source == source) {\n                        return Promise.resolve(rt.destination);\n                    }\n                    else if (typeof require.routes[i].destination === \"function\") {\n                        return require.routes[i].destination(source);\n                    }\n                    else if (rt.source.test(source)) {\n                        return Promise.resolve(source.replace(require.routes[i].source, require.routes[i].destination));\n                    }\n                }\n            }\n            else if (arguments.length == 2) {\n                var routeIndex = -1, key = source.toString();\n                for (var i in require.routes)\n                    if (require.routes[i].key == key) {\n                        routeIndex = i;\n                        break;\n                    }\n                var newRoute = {\n                    key: key,\n                    source: source instanceof RegExp ? source : new RegExp('^' + escapeRegExp(source).replace(/\\\\\\*/g, '([\\\\w-]+)') + '$'),\n                    destination: dest\n                };\n                if (routeIndex == -1)\n                    require.routes.push(newRoute);\n                else\n                    require.routes[routeIndex] = newRoute;\n            }\n            return Promise.resolve(null);\n        }\n        require.route = route;\n        route('http://*', 'http://$1');\n        route('https://*', 'https://$1');\n        route('/*.js', '/$1.js');\n        function defineFiles(files) {\n            for (var i in files) {\n                mz.hardCodedFiles[i.toLowerCase()] = files[i];\n            }\n        }\n        require.defineFiles = defineFiles;\n    })(require = mz.require || (mz.require = {}));\n})(mz || (mz = {}));\nmz.require.route(\"jquery\", \"@mz/jquery.js\");\nwindow.require = mz.require;\n/// <reference path=\"Require.ts\" />\n/// <reference path=\"..\\..\\mz.ts\" />\nvar mz;\n(function (mz) {\n    var testRequires = /require\\(\\w*(('|\")([^\\)\\2]+)\\2)\\w*\\)/g;\n    mz.modules = {};\n    var Module = (function () {\n        function Module(name) {\n            this.exports = null;\n            this.loaded = false;\n            this.parent = null;\n            this.children = [];\n            this.filename = null;\n            this.path = null;\n            this.defined = false;\n            this.async = false;\n            this.callbacks = [];\n            this.dependencias = {};\n            this.id = name || null;\n            this.define.amd = mz.define.amd || {};\n            this.ModuleExports = new ModuleExports(this);\n        }\n        Module.prototype.getPath = function (x) {\n            return mz.getPath(x, this.path);\n        };\n        Module.prototype.require = function (Module, b) {\n            if (Module instanceof Array) {\n                var r = [];\n                for (var i in Module) {\n                    var original = r[i];\n                    r[i] = this.getPath(Module[i]);\n                    if (original != r[i]) {\n                        if (r[i].startsWith('http') && !r[i].endsWith('.js'))\n                            r[i] += '.js';\n                    }\n                }\n                return mz.require(r, b);\n            }\n            else\n                return mz.require(this.getPath(Module), b);\n        };\n        Module.prototype.define = function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i - 0] = arguments[_i];\n            }\n            var ret = mz.define.apply(null, arguments);\n            mz.define.lastModule.parent = this;\n            this.children.push(mz.define.lastModule);\n            return ret;\n        };\n        return Module;\n    })();\n    mz.Module = Module;\n    var ModuleExports = (function () {\n        function ModuleExports(theModule) {\n            this.module = theModule;\n            this.module.exports = {};\n            this.seteado = false;\n        }\n        ModuleExports.prototype.set = function (factory, params) {\n            if (mz._debug && typeof factory == 'function') {\n                if (testRequires.test(factory)) {\n                    var that = this;\n                    var deps = null;\n                    var depsCargadas = null;\n                    String(factory).replace(testRequires, function (all, d1, d2, key) {\n                        if (!(key in that.module.dependencias)) {\n                            if (key in mz.modules) {\n                                depsCargadas = depsCargadas || {};\n                                depsCargadas[key] = (depsCargadas[key] || 0) + 1;\n                            }\n                            else {\n                                deps = deps || {};\n                                deps[key] = (deps[key] || 0) + 1;\n                            }\n                        }\n                    });\n                    if (deps) {\n                        console.group(this.module.id + \" - Dependencias sincrnicas NO definidas NI cargadas\");\n                        for (var i in deps) {\n                            if (!(i in mz.modules))\n                                console.error(i, deps[i]);\n                        }\n                        console.groupEnd();\n                    }\n                }\n            }\n            var result;\n            if (typeof factory === 'function') {\n                var bkRequire = mz.globalContext.require;\n                var bkExports = mz.globalContext.exports;\n                var bkModulo = mz.globalContext.module;\n                var bkDefine = mz.globalContext.define;\n                try {\n                    mz.globalContext.define = this.module.define.bind(this.module);\n                    mz.globalContext.exports = this.module.exports;\n                    mz.globalContext.require = this.module.require.bind(this.module);\n                    mz.globalContext.module = this.module;\n                    mz.globalContext.define.amd = bkDefine.amd;\n                    result = factory.apply(this.module.exports, params);\n                }\n                finally {\n                    mz.globalContext.define = bkDefine;\n                    mz.globalContext.exports = bkExports;\n                    mz.globalContext.require = bkRequire;\n                    mz.globalContext.module = bkModulo;\n                }\n            }\n            else\n                result = factory;\n            this.seteado = true;\n            if (result !== this.module.exports) {\n                if (isDef(result) && typeof result != \"string\" && typeof result != \"number\" && typeof result != \"boolean\") {\n                    this.module.exports = mz.copy(result, this.module.exports);\n                }\n            }\n            this.module.defined = true;\n            this.module.loaded = true;\n            var cb = null;\n            while (this.module.callbacks.length && (cb = this.module.callbacks.shift())) {\n                if (cb.cb)\n                    cb.cb(this.module.exports);\n            }\n        };\n        return ModuleExports;\n    })();\n    mz.ModuleExports = ModuleExports;\n})(mz || (mz = {}));\n/// <reference path=\"module.ts\" />\nvar mz;\n(function (mz) {\n    function undefine(mod) {\n        if (mod in mz.modules) {\n            mz.modules[mod] = null;\n            delete mz.modules[mod];\n        }\n    }\n    mz.undefine = undefine;\n    function define() {\n        var name = mz.buscarArgumentoTipo('string', arguments) || (mz.define.currentModule ? mz.define.currentModule.id : null) || null;\n        var fn = mz.buscarArgumentoTipo('function', arguments) || null;\n        var reqs = mz.buscarArgumentoTipo(Array, arguments) || null;\n        var obj = !fn && arguments.length && typeof arguments[arguments.length - 1] == \"object\" && arguments[arguments.length - 1] || null;\n        if (!fn && obj) {\n            fn = obj;\n        }\n        var module = null;\n        if (mz.define.currentModule && mz.define.currentModule.id == name) {\n            module = mz.define.currentModule;\n            mz.define.currentModule = null;\n        }\n        else {\n            module = new mz.Module(name);\n            if (obj)\n                module.exports = obj;\n        }\n        mz.define.lastModule = module;\n        if (name !== null) {\n            if (name in mz.modules && mz.modules[name] !== module) {\n                if (mz._debug)\n                    debugger;\n                throw \"Ya est definido \" + name;\n            }\n            mz.modules[name] = module;\n            if (reqs && reqs.length) {\n                var args = [];\n                if (module.async) {\n                    module.require(reqs, function (args) {\n                        for (var i in reqs) {\n                            if (reqs[i] == \"exports\")\n                                arguments[i] = module.exports;\n                            else if (reqs[i] == \"require\")\n                                arguments[i] = module.require;\n                        }\n                        module.ModuleExports.set(fn, arguments);\n                    });\n                }\n                else {\n                    for (var i in reqs) {\n                        if (reqs[i] == \"exports\") {\n                            module.dependencias[reqs[i]] = args[i] = module.exports;\n                        }\n                        else if (reqs[i] == \"require\")\n                            module.dependencias[reqs[i]] = args[i] = module.require;\n                        else\n                            module.dependencias[reqs[i]] = args[i] = module.require(reqs[i]);\n                    }\n                    module.ModuleExports.set(fn, args);\n                }\n            }\n            else {\n                module.ModuleExports.set(fn, []);\n            }\n        }\n        else {\n            module.ModuleExports.set(fn, []);\n        }\n        return module.exports;\n    }\n    mz.define = define;\n    define.amd = {};\n})(mz || (mz = {}));\nvar mz;\n(function (mz) {\n    var define;\n    (function (define) {\n    })(define = mz.define || (mz.define = {}));\n})(mz || (mz = {}));\nmz.globalContext.define = mz.define;\n/// <reference path=\"Define.ts\" />\n/// <reference path=\"Require.ts\" />\nmz.define(\"jquery\", function () { return jQuery; });\nmz.require.route(\"backbone\", \"@mz/backbone-min.js\");\nmz.require.route(\"underscore\", \"@mz/underscore-min.js\");\nif (mz.globalContext.Backbone) {\n    mz.define(\"backbone\", function () { return mz.globalContext.Backbone; });\n}\nif (mz.globalContext._) {\n    mz.define(\"underscore\", function () { return mz.globalContext._; });\n}\n/// <reference path=\"MVCObject.ts\" />\n/// <reference path=\"../mz.ts\" />\nvar mz;\n(function (mz) {\n    var Collection = (function (_super) {\n        __extends(Collection, _super);\n        function Collection(base, opc) {\n            _super.call(this);\n            this.opciones = {};\n            this.__indice__ = {};\n            this.agregandoLote = false;\n            this.insert = this.push;\n            this.opciones = opc || {};\n            this.array = (this.opciones.initialSize ? new Array(this.opciones.initialSize) : new Array());\n            base && this.addRange(base);\n        }\n        Collection.prototype.first = function () {\n            return this.array[0];\n        };\n        Collection.prototype.last = function () {\n            if (this.array.length)\n                return this.array[this.array.length - 1];\n        };\n        /**\n        Cleans the collection\n        @method clear\n        @param {Boolean} noTriggerear if true, it does not propagate the \"changed\" event\n        */\n        Collection.prototype.clear = function (noTriggerear) {\n            this.trigger(Collection.EVENTS.BeforeClearCollection, !!noTriggerear);\n            this.array.length = 0;\n            this.__indice__ = {};\n            this.trigger(Collection.EVENTS.AfterClearCollection, !!noTriggerear);\n            !noTriggerear && this.emit(Collection.EVENTS.Changed, 'clear', !!noTriggerear);\n        };\n        Object.defineProperty(Collection.prototype, \"length\", {\n            /**\n            Gets the length of the collection\n            @property length\n            */\n            get: function () {\n                return this.array.length;\n            },\n            /**\n            Sets the collection length\n            @property length\n            */\n            set: function (value) {\n                if (isNaN(value) || value < 0)\n                    throw new TypeError();\n                this.setLength(value);\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Collection.prototype.getLength = function () {\n            return this.array.length;\n        };\n        Collection.prototype.setLength = function (nuevoTamanio) {\n            if (nuevoTamanio < 0)\n                throw \"Invalid size\";\n            if (this.getLength() > nuevoTamanio) {\n                while (this.getLength() > nuevoTamanio) {\n                    this.pop();\n                }\n            }\n            else {\n                this.array.length = nuevoTamanio;\n            }\n            this.emit(Collection.EVENTS.Changed, 'length', this.array.length);\n            return this;\n        };\n        /**\n        The map() method creates a new array with the results of calling a provided function on every element in this array.\n        El contexto \"this\" es el segundo argumento si se especifica, sino es la coleccion\n        @method map\n        @param {Function} callback funcin que se va a ejecutar, a esta function se le pasa 1 argumento, el elemento de la coleccion que se esta iterando\n        */\n        Collection.prototype.map = function (func, thisp) {\n            var thisp = thisp || this;\n            var coll = new Collection();\n            for (var i = 0; i < this.array.length; i++)\n                (i in this.array) && coll.push(func.call(thisp, this.array[i]));\n            return coll;\n        };\n        ;\n        /**\n        The forEach() method executes a provided function once per array element.\n        El contexto \"this\" es el segundo argumento si se especifica, sino es la coleccion\n        @method forEach\n        @param {Function|MzDelegate} callback funcin que se va a ejecutar, a esta function se le pasan 2 argumentos, el elemento de la coleccion que se esta iterando y el indice (zero based) dentro de la coleccion.\n        */\n        Collection.prototype.forEach = function (func, thisp) {\n            var thisp = thisp || this;\n            if ('forEach' in this.array) {\n                this.array.forEach(func, thisp);\n            }\n            else {\n                for (var i = 0; i < this.array.length; i++)\n                    (i in this.array) && typeof this.array[i] != 'undefined' && func.call(thisp, this.array[i], i);\n            }\n        };\n        /**\n         * Basicamente lo que hace esta funcion es ejecutar lotes asincronicos que diren X tiempo cada uno, es util para procesar grandes cantidades de informacion y darle un feedback al usuario sin bloquear la pantalla.\n         * Si iterationDurationMs es 0, entonces utiliza setImmediate y el tiempo de cada iteracion se setea en 32ms\n         */\n        Collection.prototype.asyncForEach = function (func, iterationDurationMs) {\n            if (this.array.length) {\n                var items = this.array.concat();\n                var that = this;\n                var timerFn = iterationDurationMs <= 0 ? setImmediate : setTimeout;\n                if (iterationDurationMs <= 0)\n                    iterationDurationMs = 32;\n                iterationDurationMs = Math.abs(iterationDurationMs || 32);\n                var i = 0;\n                function sch() {\n                    timerFn(function () {\n                        var start = mz.now();\n                        while (mz.now() - start < iterationDurationMs && items.length) {\n                            func.call(that, items.shift(), i);\n                            i++;\n                        }\n                        if (items.length)\n                            sch();\n                    }, iterationDurationMs);\n                }\n                sch();\n            }\n        };\n        Collection.prototype._indizar = function (elem, index) {\n            if (this.opciones.key) {\n                if (!(this.opciones.key in elem))\n                    throw new TypeError(\"Element does not have key:\" + this.opciones.key);\n                if (typeof elem[this.opciones.key] != 'undefined') {\n                    this.__indice__[elem[this.opciones.key]] = index;\n                }\n            }\n        };\n        Collection.prototype._deindizar = function (elem) {\n            if (this.opciones.key) {\n                if (typeof elem[this.opciones.key] != 'undefined') {\n                    if (elem[this.opciones.key] in this.__indice__) {\n                        delete this.__indice__[elem[this.opciones.key]];\n                    }\n                }\n            }\n        };\n        Collection.prototype._reindizar = function () {\n            if (this.opciones.key) {\n                this.__indice__ = {};\n                var that = this;\n                this.forEach(function (e, i) {\n                    if (e && typeof e[that.opciones.key] != 'undefined') {\n                        that.__indice__[e[that.opciones.key]] = i;\n                    }\n                });\n            }\n        };\n        /**\n        Obtiene el elemento en la posicion \"index\" de la coleccion\n        @method getAt\n        @param {Number} index\n        */\n        Collection.prototype.getAt = function (index) {\n            return this.array[index];\n        };\n        Collection.prototype.reduce = function (fn, initialValue) {\n            return this.array.reduce(fn, initialValue);\n        };\n        /**\n        Agrupa los elementos de la coleccin.\n        Si \"what\" es tipo String, entonces va a asumir que es un campo y va a agrupar por ese campo.\n        Si \"what\" es tipo Function, va a evaluar la funcin por cada elemento de la coleccin y agrupa por el resultado.\n\n        Este mtodo devuelve un objeto tipo Diccionario con el criterio de evaluacin como clave y una coleccion de elementos como value\n        @method groupBy\n        @param {Mixed} what\n        */\n        Collection.prototype.groupBy = function (what) {\n            var fn;\n            if (typeof what != 'function') {\n                throw new TypeError();\n            }\n            else {\n                fn = what;\n            }\n            if (!fn)\n                return {};\n            var output = {};\n            this.forEach(function (e) {\n                var g = fn(e);\n                if (g) {\n                    if (g in output) {\n                        output[g].push(e);\n                    }\n                    else {\n                        output[g] = new Collection([e], this.opciones);\n                    }\n                }\n            });\n            return output;\n        };\n        Object.defineProperty(Collection.prototype, \"key\", {\n            /**\n            Obtiene la key de la coleccion\n            @property key\n            */\n            get: function () {\n                return this.opciones && this.opciones.key;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        /**\n        Inserta un elemento en cualquier posicion de la coleccion. Dispara evento \"changed\" con los mismos argumentos que el evento \"insert_at\"\n        @method insertAt\n        @param {Number} indice\n        @param {Mixed} elemento\n        */\n        Collection.prototype.insertAt = function (indice, element) {\n            if (this.opciones.key) {\n                if (!(this.opciones.key in element)) {\n                    throw new TypeError(\"#insertAt(at: number, element: T) the element doesn't have key: \" + this.opciones.key);\n                }\n                if (element[this.opciones.key] in this.__indice__) {\n                    console.error('#insertAt(at: number, element: T) this collection already has an element with the same key ' + this.opciones.key + \"=\" + element[this.opciones.key] + ' use #mergeElem(element) or #replaceByKey(element) instead');\n                    return;\n                }\n            }\n            if (indice == this.array.length) {\n                this.array.push(element);\n                this._indizar(element, indice);\n                this.emit(Collection.EVENTS.ElementInserted, indice, element);\n                this.emit(Collection.EVENTS.Changed, Collection.EVENTS.ElementInserted, indice, element);\n            }\n            else {\n                var fin = this.array.splice(indice, 0, element);\n                this._reindizar();\n                this.emit(Collection.EVENTS.ElementInserted, indice, element);\n                this.emit(Collection.EVENTS.Changed, Collection.EVENTS.ElementInserted, indice, element);\n                this.emit(Collection.EVENTS.CollectionSorted);\n                this.emit(Collection.EVENTS.Changed, Collection.EVENTS.CollectionSorted);\n            }\n        };\n        /** Replaces an element by key. If the given key is not present then pushes the element at the end of the collection */\n        Collection.prototype.replaceByKey = function (element) {\n            if (this.opciones.key) {\n                if (!(this.opciones.key in element)) {\n                    throw new TypeError(\"#replace(element: T) the element doesn't have key:  \" + this.opciones.key);\n                }\n                var actualIndex = this.indexedGetIndex(element[this.opciones.key]);\n                if (actualIndex != -1) {\n                    this.removeAt(actualIndex);\n                    this.insertAt(actualIndex, element);\n                }\n                else {\n                    this.push(element);\n                }\n            }\n            else {\n                throw new TypeError(\"#replace(element: T) can only be used on keyed collections.\");\n            }\n        };\n        /**\n        Remueve un elemento en cualquier posicion de la coleccion. Dispara evento \"changed\" con los mismos argumentos que el evento \"remove_at\"\n        @method removeAt\n        @param {Number} indice\n        @param {Mixed} elemento\n        */\n        Collection.prototype.removeAt = function (indice) {\n            var backup = this.array[indice];\n            this.array.splice(indice, 1);\n            this._reindizar();\n            this.emit(Collection.EVENTS.ElementRemoved, indice, backup);\n            this.emit(Collection.EVENTS.Changed, Collection.EVENTS.ElementRemoved, indice, backup);\n            return backup;\n        };\n        /**\n        Cambia un elemento en cualquier posicion de la coleccion. Dispara evento \"changed\" con los mismos argumentos que el evento \"set_at\"\n        @method set_at\n        @param {Number} indice\n        @param {Mixed} elemento\n        */\n        Collection.prototype.setAt = function (indice, elemento) {\n            var backup = this.array[indice];\n            this._deindizar(backup);\n            this.array[indice] = elemento;\n            this._indizar(elemento, indice);\n            this.emit(Collection.EVENTS.ElementChanged, indice, elemento, backup);\n            this.emit(Collection.EVENTS.Changed, Collection.EVENTS.ElementChanged, indice, elemento, backup);\n        };\n        /**\n        Inserta un elemento al final de la coleccin. Dispara evento \"insert_at\" y \"changed\" con los mismos argumentos\n        @method push\n        @param {Mixed} elemento\n        @param {Bool} noTriggerear si == 'true' entonces no se dispara ningn evento.\n        */\n        Collection.prototype.push = function (elemento, noTriggerear) {\n            var indice = -1;\n            if (this.opciones.key) {\n                if (!(this.opciones.key in elemento)) {\n                    console.error('El elemento insertado no tiene el campo ' + this.opciones.key);\n                    return indice;\n                }\n                if (elemento[this.opciones.key] in this.__indice__) {\n                    console.error('El elemento insertado ya existe en la coleccion ' + this.opciones.key + \"=\" + elemento[this.opciones.key]);\n                    return indice;\n                }\n            }\n            indice = this.array.push(elemento) - 1;\n            try {\n                this._indizar(elemento, indice);\n            }\n            catch (e) {\n                this.array.pop();\n                console.error('El elemento insertado no tiene el campo ' + this.opciones.key);\n                return -1;\n            }\n            if (!noTriggerear) {\n                this.emit(Collection.EVENTS.ElementInserted, indice, elemento);\n                this.emit(Collection.EVENTS.Changed, Collection.EVENTS.ElementInserted, indice, elemento);\n            }\n            return indice;\n        };\n        /**\n        Quita el elemento al final de la coleccin. Dispara evento \"remove_at\" y \"changed\" con los mismos argumentos\n        @method pop\n        @param {Bool} noTriggerear si == 'true' entonces no se dispara ningn evento.\n        */\n        Collection.prototype.pop = function (noTriggerear) {\n            if (this.array.length > 0) {\n                var ret = this.array.pop();\n                this._deindizar(ret);\n                if (!noTriggerear) {\n                    this.emit(Collection.EVENTS.ElementRemoved, this.array.length, ret);\n                    this.emit(Collection.EVENTS.Changed, Collection.EVENTS.ElementRemoved, this.array.length, ret);\n                }\n                return ret;\n            }\n            return null;\n        };\n        Collection.prototype.addRange = function (array, noTriggerearCadaUno, noTriggerear) {\n            if (!array)\n                return this;\n            var inicio = this.array.length - 1;\n            this.agregandoLote = true;\n            if (Object.prototype.toString.call(array).toLowerCase() === \"[object array]\" || array instanceof Collection) {\n                if ('forEach' in array && typeof array.forEach == 'function') {\n                    var that = this;\n                    array.forEach(function (elem) {\n                        that.push(elem, noTriggerearCadaUno);\n                    });\n                }\n                else {\n                    for (var i = 0; i < array.length; i++)\n                        this.push(array[i], noTriggerearCadaUno);\n                }\n            }\n            else {\n                for (var i_4 in array)\n                    this.push(array[i_4], noTriggerearCadaUno);\n            }\n            if (!noTriggerear) {\n                this.emit(Collection.EVENTS.ElementRangeInserted, inicio, this.array.length - 1, !noTriggerearCadaUno);\n                this.emit(Collection.EVENTS.Changed, Collection.EVENTS.ElementRangeInserted, inicio, this.array.length - 1, !noTriggerearCadaUno);\n            }\n            this.agregandoLote = false;\n            return this;\n        };\n        /**\n        Cuando se actualiza un valor en la coleccin y se quiere informar, se invoca a un mtodo \"update\", \"updateByKey\" o \"updateIndex\".\n        Estos desencadenan los eventos \"set_at\" y \"changed\".\n\n        Si la coleccion tiene Key entonces busca en el indice. no importa que no sea el mismo elemento. De otro modo busca la referencia a ese elemento.\n\n        @method update\n        @param {Mixed} elemento El elemento a ser actualizado\n        */\n        Collection.prototype.update = function (elemento) {\n            var indice = -1;\n            if (this.opciones.key && this.opciones.key in elemento && elemento[this.opciones.key] in this.__indice__ && this.array[indice = this.__indice__[elemento[this.opciones.key]]] === elemento) {\n                return this.updateIndex(indice);\n            }\n            return this.updateIndex(this.indexOf(elemento));\n        };\n        /**\n        Cuando se actualiza un valor en la coleccin y se quiere informar, se invoca a un mtodo \"update\", \"updateByKey\" o \"updateIndex\".\n        Estos desencadenan los eventos \"set_at\" y \"changed\".\n\n        @method updateByKey\n        @param {String} key clave a ser buscada en el ndice interno\n        */\n        Collection.prototype.updateByKey = function (key) {\n            if (this.opciones.key && key in this.__indice__) {\n                return this.updateIndex(this.__indice__[key]);\n            }\n        };\n        /**\n        Cuando se actualiza un valor en la coleccin y se quiere informar, se invoca a un mtodo \"update\", \"updateByKey\" o \"updateIndex\".\n        Estos desencadenan los eventos \"set_at\" y \"changed\".\n\n        @method updateIndex\n        @param {Nuber} indice ndice del elemento a ser actualizado\n        */\n        Collection.prototype.updateIndex = function (index) {\n            if (index != -1) {\n                var elemento = this.getAt(index);\n                this.emit(Collection.EVENTS.ElementChanged, index, elemento, elemento);\n                this.emit(Collection.EVENTS.Changed, Collection.EVENTS.ElementChanged, index, elemento, elemento);\n            }\n            return this;\n        };\n        Collection.prototype.join = function (delimitador) {\n            return this.array.join(delimitador);\n        };\n        /**\n        Suma elementos\n        @method sum\n        @param {Mixed} opciones\n        @param {Mixed} opciones.groupBy Si se van a agrupar los elementos\n        @param {Array de strings} opciones.exclude Si no se quiere sumarizar algunos campos\n        @param {Array de strings} opciones.filtroCampos Si se quiere especificar en cuales campos se va a sumarizar\n        */\n        Collection.prototype.sum = function (options) {\n            var result = [];\n            var groupByField = options.groupBy || null;\n            var sumarizarSubSet = function (col) {\n                var out = null;\n                var cant = 0;\n                col.forEach(function (elem) {\n                    if (out) {\n                        for (var i in elem) {\n                            if (groupByField != i && typeof elem[i] == 'number' && (typeof out[i] == 'number' || typeof out[i] == 'undefined') && (!options || ((!options.filtroCampos || options.filtroCampos.indexOf(i) != -1) && (!options.exclude || options.exclude.indexOf(i) == -1)))) {\n                                out[i] = (out[i] || 0) + elem[i];\n                            }\n                        }\n                        out['[[cantidad]]']++;\n                    }\n                    else {\n                        out = {};\n                        Object.defineProperty(out, '[[cantidad]]', {\n                            enumerable: false,\n                            get: function () { return cant; },\n                            set: function (value) { cant = value; }\n                        });\n                        groupByField && (out[groupByField] = elem[groupByField]);\n                        for (var i in elem) {\n                            if (groupByField != i && typeof elem[i] == 'number' && (!options || ((!options.filtroCampos || options.filtroCampos.indexOf(i) != -1) && (!options.exclude || options.exclude.indexOf(i) == -1)))) {\n                                out[i] = elem[i];\n                            }\n                        }\n                        out['[[cantidad]]'] = 1;\n                    }\n                });\n                return out;\n            };\n            if (groupByField == null)\n                return sumarizarSubSet(this);\n            var subsets = this.groupBy(groupByField);\n            for (var i in subsets) {\n                result.push(sumarizarSubSet(subsets[i]));\n            }\n            return result;\n        };\n        /**\n         *\tSimplemente ordena la coleccin. \"what\" puede tener cualquiera de estos formatos\n         *\t\t'Campo ASC, CampoB DESC'\n         *\t\tfunction(a, b) { return (a.Campo > b.Campo ? 1 : - 1) }\n         *\t\t'Campo'\n         *\n         *\n         *\t@method orderBy\n         *\t@param {Mixed} what\n         */\n        Collection.prototype.orderBy = function (what) {\n            var orderBy = what ? mz.data.order.build(what) : undefined;\n            this.array.sort(orderBy);\n            this._reindizar();\n            this.emit(Collection.EVENTS.CollectionSorted, what, 'ASC');\n            this.emit(Collection.EVENTS.Changed, Collection.EVENTS.CollectionSorted, what);\n            return this;\n        };\n        Collection.prototype.orderByDesc = function (what) {\n            var fn = what ? mz.data.order.build(what) : null;\n            if (fn) {\n                this.array.sort(function (a, b) {\n                    return -fn(a, b);\n                });\n            }\n            else {\n                this.array.sort();\n                this.array.reverse();\n            }\n            this._reindizar();\n            this.emit(Collection.EVENTS.CollectionSorted, what, 'DESC');\n            this.emit(Collection.EVENTS.Changed, Collection.EVENTS.CollectionSorted, what);\n            return this;\n        };\n        /**\n        Devuelve true si hay algun elemento que cumpla con la condicin\n        @method some\n        @param {Function} condicion\n        */\n        Collection.prototype.some = function (condition) {\n            if ('some' in this.array)\n                return this.array.some(condition);\n            for (var i = 0; i < this.array.length; i++)\n                if (i in this && condition.call(arguments[1], this[i], i, this))\n                    return true;\n            return false;\n        };\n        /**\n         *\tDevuelve una coleccion de elementos que cumplan con la condicin. Tambin se puede llamar usando dos argumentos\n         *\t\t\t.where('Campo', 3)\n         *\tY va a devolver una coleccin con todos los elementos de la primera que tengan Campo == 3\n         *\t@method where\n         *\t@param {Function} condicion\n         */\n        Collection.prototype.where = function (campoOCondicion, valorCampo) {\n            if (typeof campoOCondicion === \"string\") {\n                var arr = new Collection();\n                for (var i = 0; i < this.array.length; i++)\n                    if ((i in this.array) && this.array[i][campoOCondicion] == arguments[1])\n                        arr.push(this.array[i]);\n                return arr;\n            }\n            else {\n                if (this.array.filter)\n                    return new Collection(this.array.filter(campoOCondicion));\n                var arr = new Collection();\n                for (var i = 0; i < this.array.length; i++)\n                    if ((i in this.array) && campoOCondicion(this.array[i]))\n                        arr.push(this.array[i]);\n                return arr;\n            }\n        };\n        /**\n        Remueve un elemento buscandolo por clave\n        @method removeByKey\n        @param {String} key\n        */\n        Collection.prototype.removeByKey = function (key) {\n            var indice = this.indexedGetIndex(key);\n            if (indice != -1)\n                return this.removeAt(indice);\n        };\n        /**\n        Remueve el elemento pasado, o varios elementos en base a una condicin.\n\n        - Si se pasa el elemento para remover && la coleccin tiene clave primaria se va a remover por clave y no por referencia del objeto.\n        - Si se pasa uno solo y hay varios elementos que matchean o esta repetido en la coleccin se va a remover el ultimo.\n        - De esta forma se desencadena el evento \"remove_at\" y \"changed\" con los mismos argumentos\n\n        Si se pasa una cndicin, el mtodo devuelve una coleccin con los elementos quitados.\n\n        - De esta forma se desencadena el evento \"removed\" y \"changed\" con los mismos argumentos\n\n        @method remove\n        @param {Mixed} condicion/elemento\n        */\n        Collection.prototype.remove = function (condicion) {\n            var fn = condicion;\n            var tipo = typeof fn;\n            if (arguments.length == 1) {\n                var cual = -1;\n                if (this.opciones.key && this.opciones.key in fn) {\n                    cual = this.indexedGetIndex(fn[this.opciones.key]);\n                    if (cual !== -1 && fn !== this.getAt(cual)) {\n                        cual = -1;\n                    }\n                }\n                if (cual == -1)\n                    cual = this.lastIndexOf(fn);\n                if (cual != -1) {\n                    return [this.removeAt(cual)];\n                }\n                if (tipo == 'object' || tipo == 'number' || tipo == 'boolean')\n                    return null;\n            }\n            if (tipo === 'function') {\n                var sacadas = [];\n                for (var i = 0; i < this.array.length; i++) {\n                    if (i in this.array) {\n                        if (condicion(this.array[i])) {\n                            sacadas.push({\n                                i: i,\n                                e: this.array[i]\n                            });\n                        }\n                    }\n                }\n                var that = this;\n                var salida = [];\n                if (sacadas.length) {\n                    sacadas.forEach(function (e) {\n                        that.remove(e.e);\n                        salida.push(e.e);\n                    });\n                    this.emit(Collection.EVENTS.ElementRangeRemoved, salida);\n                    this.emit(Collection.EVENTS.Changed, Collection.EVENTS.ElementRangeRemoved, salida);\n                }\n                return salida;\n            }\n        };\n        Collection.prototype.single = function (field, value) {\n            if (arguments.length == 2 && typeof field == \"string\") {\n                //Busco por el indice\n                if (this.opciones.key) {\n                    if (field === this.opciones.key) {\n                        if (arguments[1] in this.__indice__) {\n                            var tmp = this.array[this.__indice__[arguments[1]]];\n                            if (tmp && tmp[field] == arguments[1])\n                                return tmp;\n                        }\n                    }\n                }\n                for (var i = 0; i < this.array.length; i++)\n                    if (this.array[i] && this.array[i][field] == arguments[1])\n                        return this.array[i];\n            }\n            else {\n                for (var i = 0; i < this.array.length; i++)\n                    if (this.array[i] && field(this.array[i]))\n                        return this.array[i];\n            }\n            return null;\n        };\n        /**\n        Devuelve true si la coleccion contiene el elemento (busca por referencia, tiene que ser EL MISMO)\n        @method contains\n        @param {Object} elemento\n        */\n        Collection.prototype.contains = function (elem) {\n            return this.array.indexOf(elem) != -1;\n        };\n        /**\n        Devuelve true si la coleccion contiene la clave\n        @method containsKey\n        @param {String} key\n        */\n        Collection.prototype.containsKey = function (key) {\n            if (this.opciones.key) {\n                return (key in this.__indice__);\n            }\n            else {\n                throw \"La coleccion no tiene key\";\n            }\n        };\n        /**\n        Devuelve el indice de la primer ocurrencia del elemento. Si no lo encuentra devuelve -1\n        @method indexOf\n        @param {Object} elemento\n        */\n        Collection.prototype.indexOf = function (elem) { return this.array.indexOf(elem); };\n        /**\n        Devuelve el indice de la ltima ocurrencia del elemento. Si no lo encuentra devuelve -1\n        @method lastIndexOf\n        @param {Object} elemento\n        */\n        Collection.prototype.lastIndexOf = function (elem) { return this.array.lastIndexOf(elem); };\n        /**\n        Crea un array y lo llena con el contenido de la coleccin\n        @method toArray\n        */\n        Collection.prototype.toArray = function () {\n            var t = [];\n            for (var i = 0; i < this.array.length; i++)\n                (i in this.array) && t.push(this.array[i]);\n            return t;\n        };\n        /**\n        Clona la coleccin. Las referencias a los objetos van a ser las mismas.\n        @method clone\n        */\n        Collection.prototype.clone = function () {\n            var coll = new Collection(null, mz.copy(this.opciones));\n            for (var i = 0; i < this.array.length; i++)\n                (i in this.array) && coll.push(this.array[i]);\n            return coll;\n        };\n        /**\n        Obtiene un elemento buscando en el indice interno por clave primaria\n        @method indexedGet\n        @param {String} key\n        */\n        Collection.prototype.indexedGet = function (key) {\n            if (this.opciones.key) {\n                if (key in this.__indice__)\n                    return this.array[this.__indice__[key]];\n            }\n            return null;\n        };\n        /**\n        Obtiene el ndice un elemento buscando en el indice interno por clave primaria\n        @method indexedGetIndex\n        @param {String} key\n        */\n        Collection.prototype.indexedGetIndex = function (key) {\n            if (this.opciones.key) {\n                if (key in this.__indice__)\n                    return this.__indice__[key];\n            }\n            return -1;\n        };\n        /**\n        Hace un merge de un elemento dentro de la coleccin. Busca el elemento por clave primaria y actualiza sus prupiedades copiandole los nuevos campos. Si no lo encuentra lo inserta.\n        @method mergeElem\n        @param {Object} elem\n        */\n        Collection.prototype.mergeElem = function (elem) {\n            if (this.opciones.key) {\n                if (!(this.opciones.key in elem)) {\n                    throw new Error(\"El elemento no contiene la clave primaria\");\n                }\n                var indice = this.indexedGetIndex(elem[this.opciones.key]);\n                if (indice != -1) {\n                    mz.copy(this.array[indice], elem);\n                    this.updateIndex(indice);\n                    return this.array[indice];\n                }\n                else {\n                    this.push(elem);\n                    return elem;\n                }\n            }\n            else {\n                throw new TypeError(\"#mergeElem(element: T) can only be used on keyed collections.\");\n            }\n        };\n        /**\n            Buscar el o los elementos mas grandes\n            @method max\n            @param {Mixed} opciones\n            @param {Mixed} opciones.groupBy Si se van a agrupar los elementos\n            @param {Array de strings} opciones.exclude Si no se quiere sumarizar algunos campos\n            @param {Array de strings} opciones.filtroCampos Si se quiere especificar en cuales campos se va a sumarizar\n            */\n        Collection.prototype.max = function (opc) {\n            var result = [];\n            var groupByField = opc.groupBy || null;\n            var sumarizarSubSet = function (col) {\n                var out = null;\n                col.forEach(function (elem) {\n                    if (out) {\n                        for (var i in elem) {\n                            if (groupByField != i && typeof elem[i] == 'number' && (typeof out[i] == 'number' || typeof out[i] == 'undefined') && (!opc || ((!opc.filtroCampos || opc.filtroCampos.indexOf(i) != -1) && (!opc.exclude || opc.exclude.indexOf(i) == -1)))) {\n                                if (elem[i] != null && (!(i in out) || out[i] < elem[i]))\n                                    out[i] = elem[i];\n                            }\n                        }\n                    }\n                    else {\n                        out = {};\n                        groupByField && (out[groupByField] = elem[groupByField]);\n                        for (var i in elem) {\n                            if (groupByField != i && typeof elem[i] == 'number' && (!opc || ((!opc.filtroCampos || opc.filtroCampos.indexOf(i) != -1) && (!opc.exclude || opc.exclude.indexOf(i) == -1)))) {\n                                out[i] = elem[i];\n                            }\n                        }\n                    }\n                });\n                return out;\n            };\n            if (groupByField == null)\n                return sumarizarSubSet(this);\n            var subsets = this.groupBy(groupByField);\n            for (var i in subsets) {\n                result.push(sumarizarSubSet(subsets[i]));\n            }\n            return result;\n        };\n        /**\n            Buscar el o los elementos mas chicos\n            @method min\n            @param {Mixed} opciones\n            @param {Mixed} opciones.groupBy Si se van a agrupar los elementos\n            @param {Array de strings} opciones.exclude Si no se quiere sumarizar algunos campos\n            @param {Array de strings} opciones.filtroCampos Si se quiere especificar en cuales campos se va a sumarizar\n            */\n        Collection.prototype.min = function (opc) {\n            var result = [];\n            var groupByField = opc.groupBy || null;\n            var sumarizarSubSet = function (col) {\n                var out = null;\n                col.forEach(function (elem) {\n                    if (out) {\n                        for (var i in elem) {\n                            if (groupByField != i && typeof elem[i] == 'number' && (typeof out[i] == 'number' || typeof out[i] == 'undefined') && (!opc || ((!opc.filtroCampos || opc.filtroCampos.indexOf(i) != -1) && (!opc.exclude || opc.exclude.indexOf(i) == -1)))) {\n                                if (elem[i] != null && (!(i in out) || out[i] > elem[i]))\n                                    out[i] = elem[i];\n                            }\n                        }\n                    }\n                    else {\n                        out = {};\n                        groupByField && (out[groupByField] = elem[groupByField]);\n                        for (var i in elem) {\n                            if (groupByField != i && typeof elem[i] == 'number' && (!opc || ((!opc.filtroCampos || opc.filtroCampos.indexOf(i) != -1) && (!opc.exclude || opc.exclude.indexOf(i) == -1)))) {\n                                out[i] = elem[i];\n                            }\n                        }\n                    }\n                });\n                return out;\n            };\n            if (groupByField == null)\n                return sumarizarSubSet(this);\n            var subsets = this.groupBy(groupByField);\n            for (var i in subsets) {\n                result.push(sumarizarSubSet(subsets[i]));\n            }\n            return result;\n        };\n        /**\n        Promedio de los elementos.\n    \n        Cada elemento de el array de retorno tiene adems la propiedad '[[cantidad]]' que indica la cantidad de elementos de ese subconjunto.\n        @method avg\n        @param {Mixed} opciones\n        @param {Mixed} opciones.groupBy Si se van a agrupar los elementos\n        @param {Array de strings} opciones.exclude Si no se quiere sumarizar algunos campos\n        @param {Array de strings} opciones.filtroCampos Si se quiere especificar en cuales campos se va a sumarizar\n        */\n        Collection.prototype.avg = function (opc) {\n            var that = this;\n            var suma = this.sum(opc);\n            for (var fila in suma) {\n                for (var campo in suma[fila]) {\n                    if (campo == '[[cantidad]]' || campo == opc.groupBy)\n                        continue;\n                    suma[fila][campo] /= suma[fila]['[[cantidad]]'];\n                }\n            }\n            return suma;\n        };\n        Collection.prototype.take = function (cantidad, from) {\n            if (from === void 0) { from = 0; }\n            var ret = [];\n            this.takeInto(ret, cantidad, from);\n            return ret;\n        };\n        Collection.prototype.takeInto = function (destino, cantidad, from) {\n            if (from === void 0) { from = 0; }\n            var hasta = Math.min(this.array.length + cantidad, this.array.length);\n            from = mz.intval(from);\n            var outer_i = 0;\n            for (var i = from; i < hasta; i++)\n                destino.push(this.array[i]);\n            return this;\n        };\n        Collection.prototype.swapItems = function (primero, segundo) {\n            var viejo = this.array[segundo];\n            this.array[segundo] = this.array[primero];\n            this.array[primero] = viejo;\n            this._reindizar();\n            this.emit(Collection.EVENTS.Changed, Collection.EVENTS.CollectionSorted);\n            this.emit(Collection.EVENTS.Changed, 'swap', primero, segundo);\n            return this;\n        };\n        Collection.prototype.count = function (groupBy) {\n            var fn;\n            if (typeof groupBy == 'function') {\n                fn = groupBy;\n            }\n            var result = [];\n            var that = this;\n            if (fn) {\n                var grupos = {};\n                this.forEach(function (elem) {\n                    var gb = fn(elem);\n                    if (!(gb in grupos)) {\n                        var obj = {\n                            'Count': 0\n                        };\n                        obj['[[cantidad]]'] = 0;\n                        grupos[gb] = obj;\n                    }\n                    grupos[gb]['[[cantidad]]']++;\n                });\n                for (var i in grupos) {\n                    grupos[i].Count = grupos[i]['[[cantidad]]'];\n                    grupos[i][groupBy.toString()] = i;\n                    result.push(grupos[i]);\n                }\n            }\n            else {\n                var out = {\n                    Count: 0\n                };\n                out['[[cantidad]]'] = this.array.length;\n                out.Count = out['[[cantidad]]'];\n                result.push(out);\n            }\n            return result;\n        };\n        /** Reverses the actual collections order */\n        Collection.prototype.reverse = function () {\n            this.array.reverse();\n            this.emit(Collection.EVENTS.CollectionSorted);\n            this.emit(Collection.EVENTS.Changed, Collection.EVENTS.CollectionSorted);\n        };\n        /**\n         * Mergea una coleccin contra un array o coleccin. cuando eliminarNoMatcheados == true, Hace una interseccin\n         * - Merged = (Original  New) + (New  Original)\n         * En todos los casos se va a llamar un evento changed del tipo insert_at, set_at o remove_at dependiendo de la operacin.\n         */\n        Collection.prototype.mergeArray = function (array, eliminarNoMatcheados) {\n            var _this = this;\n            var ret = {\n                added: [],\n                removed: [],\n                merged: []\n            };\n            if (this.opciones.key) {\n                var keys = {};\n                //array.forEach(function(elem, index) {\n                for (var index in array) {\n                    var elem = array[index];\n                    if (!(this.opciones.key in elem)) {\n                        throw new TypeError(\"El elemento no contiene la clave primaria\");\n                    }\n                    var indice = this.indexedGetIndex(elem[this.opciones.key]);\n                    keys[elem[this.opciones.key]] = true;\n                    if (indice != -1) {\n                        mz.copy(this.array[indice], elem);\n                        this.updateIndex(indice);\n                        ret.merged.push(this.array[indice]);\n                    }\n                    else {\n                        this.push(elem);\n                        ret.added.push(elem);\n                    }\n                }\n                //});\n                if (eliminarNoMatcheados) {\n                    ret.removed = this.remove(function (elem) {\n                        return !(elem[_this.opciones.key] in keys);\n                    });\n                }\n            }\n            else\n                throw new TypeError(\"#mergeArray(elements: T[]) can only be used on keyed collections.\");\n            return ret;\n        };\n        Collection.prototype.createView = function () {\n            return new CollectionView(this, mz.copy(this.opciones));\n        };\n        /**\n         * Usar con cuidado.\n         */\n        Collection.prototype.getPrivateArray = function () { return this.array; };\n        Collection.EVENTS = mz.copy({\n            BeforeClearCollection: 'pre_clear',\n            AfterClearCollection: 'clear',\n            Changed: 'changed',\n            ElementInserted: 'insert_at',\n            ElementChanged: 'set_at',\n            ElementRemoved: 'remove_at',\n            ElementRangeInserted: 'addRange',\n            CollectionSorted: 'sorted',\n            ElementRangeRemoved: 'removed'\n        }, mz.MVCObject.EVENTS);\n        __decorate([\n            mz.MVCObject.proxy, \n            __metadata('design:type', Boolean)\n        ], Collection.prototype, \"agregandoLote\", void 0);\n        return Collection;\n    })(mz.MVCObject);\n    mz.Collection = Collection;\n    var CollectionView = (function (_super) {\n        __extends(CollectionView, _super);\n        function CollectionView(base, opc) {\n            var _this = this;\n            _super.call(this, null, opc);\n            this.set('filter', null);\n            this.set('order', null);\n            this.on('order_changed', function (nuevo, viejo) {\n                _this._handleChanged('order', nuevo, viejo);\n            });\n            this.attachTo(base);\n        }\n        CollectionView.prototype.filter_changed = function (nuevo, viejo) {\n            nuevo = nuevo || null;\n            if (nuevo != null && typeof nuevo !== \"function\")\n                throw mz.MVCObject.Exception_RollbackOperation;\n            this._handleChanged('filter', nuevo, viejo);\n            return nuevo;\n        };\n        CollectionView.prototype._handleChanged = function (tipo, nuevo, viejo) {\n            var necesitoReOrdenar = tipo == 'order' || tipo == Collection.EVENTS.CollectionSorted || tipo == 'insert_at' || tipo == 'set_at' || tipo == 'addRange';\n            if (tipo == 'clear') {\n                this.clear();\n                necesitoReOrdenar = false;\n            }\n            if (tipo == 'addRange' || tipo == 'filter') {\n                this._remake();\n                necesitoReOrdenar = true;\n            }\n            if (necesitoReOrdenar) {\n                this.resort();\n            }\n        };\n        CollectionView.prototype._remake = function (noTriggerear) {\n            if (this.key) {\n                if (this.get('parent')) {\n                    var arr = this.get('parent').getPrivateArray();\n                    var filtro = this.get('filter');\n                    var newArray = [];\n                    if (filtro) {\n                        for (var i = 0; i < arr.length; i++) {\n                            if (filtro(arr[i]))\n                                newArray.push(arr[i]);\n                        }\n                    }\n                    else\n                        newArray = arr;\n                    if (newArray.length == 0 && this.length != 0) {\n                        this.clear();\n                        return;\n                    }\n                    var result = this.mergeArray(newArray, true);\n                    // if we do not add any values, then tecnically we dont have to resort the array in case of deterministic sorts\n                    if (!result.added || !result.added.length)\n                        return;\n                }\n                else {\n                    this.clear();\n                }\n            }\n            else {\n                this.clear(noTriggerear);\n                if (this.get('parent')) {\n                    var arr = this.get('parent').getPrivateArray();\n                    var filtro = this.get('filter');\n                    if (filtro) {\n                        for (var i = 0; i < arr.length; i++) {\n                            if (filtro(arr[i]))\n                                this.push(arr[i], noTriggerear);\n                        }\n                    }\n                    else {\n                        for (var i = 0; i < arr.length; i++) {\n                            this.push(arr[i], noTriggerear);\n                        }\n                    }\n                }\n            }\n            this.resort();\n        };\n        CollectionView.prototype.resort = function () {\n            var orden = this.get('order');\n            if (orden) {\n                var vieja = [];\n                for (var i in this.array)\n                    vieja[i] = this.array[i];\n                var fn = orden.q ? mz.data.order.build(orden.q) : null;\n                if (fn) {\n                    if (orden.desc)\n                        this.array.sort(function (a, b) {\n                            return -fn(a, b);\n                        });\n                    else\n                        this.array.sort(fn);\n                }\n                else {\n                    this.array.sort();\n                    orden.desc && this.array.reverse();\n                }\n                for (var i in this.array) {\n                    if (this.array[i] !== vieja[i]) {\n                        this._reindizar();\n                        this.emit(Collection.EVENTS.CollectionSorted, orden.q, orden.desc ? 'DESC' : 'ASC');\n                        this.emit(Collection.EVENTS.Changed, Collection.EVENTS.CollectionSorted, orden.q);\n                        break;\n                    }\n                }\n            }\n        };\n        CollectionView.prototype.refresh = function () {\n            this._remake();\n        };\n        CollectionView.prototype.filter = function (filter) {\n            this.set('filter', filter && filter.bind(this) || null);\n            return this;\n        };\n        CollectionView.prototype.orderBy = function (q) {\n            this.set('order', {\n                q: q,\n                desc: false\n            });\n            return this;\n        };\n        CollectionView.prototype.orderByDesc = function (q) {\n            this.set('order', {\n                q: q,\n                desc: true\n            });\n            return this;\n        };\n        CollectionView.prototype.attachTo = function (obj) {\n            this.detach();\n            this.set('bindeosParent', []);\n            this.set('parent', obj);\n            if (obj) {\n                var that = this;\n                this.key = obj.key;\n                this.get('bindeosParent').push(obj.on(Collection.EVENTS.AfterClearCollection, function () {\n                    that.clear();\n                }));\n                this.get('bindeosParent').push(obj.on(Collection.EVENTS.BeforeClearCollection, function (noPropagado) {\n                    that.trigger(CollectionView.EVENTS.BeforeClearCollection, noPropagado);\n                }));\n                this.get('bindeosParent').push(obj.on('changed', function (tipo, a1, a2) {\n                    if ((tipo == Collection.EVENTS.ElementInserted || tipo == Collection.EVENTS.ElementChanged) && obj.agregandoLote)\n                        return;\n                    var filter = that.get('filter');\n                    if (tipo == Collection.EVENTS.ElementInserted || tipo == Collection.EVENTS.ElementChanged || tipo == Collection.EVENTS.ElementRemoved) {\n                        var indice = that.indexOf(a2);\n                        if (!filter || filter(a2)) {\n                            switch (tipo) {\n                                case Collection.EVENTS.ElementInserted:\n                                    if (indice == -1) {\n                                        that.push(a2);\n                                        that.resort();\n                                    }\n                                    return;\n                                case Collection.EVENTS.ElementChanged:\n                                    if (indice != -1) {\n                                        that.updateIndex(indice);\n                                    }\n                                    else {\n                                        that.push(a2);\n                                    }\n                                    that.resort();\n                                    return;\n                                case Collection.EVENTS.ElementRemoved:\n                                    if (indice != -1) {\n                                        that.removeAt(indice);\n                                        return;\n                                    }\n                            }\n                        }\n                        else {\n                            if (indice != -1) {\n                                that.removeAt(indice);\n                                return;\n                            }\n                        }\n                    }\n                    if (tipo == 'refresh') {\n                        that._remake();\n                        return;\n                    }\n                    that._handleChanged.apply(that, arguments);\n                }));\n                this._remake();\n            }\n        };\n        CollectionView.prototype.detach = function () {\n            if (this.get('bindeosParent') && this.get('parent')) {\n                this.clear();\n                var bindeos = this.get('bindeosParent');\n                for (var i in bindeos)\n                    bindeos[i].off();\n                bindeos.length = 0;\n                this.set('bindeosParent', null);\n                this.set('parent', null);\n            }\n        };\n        return CollectionView;\n    })(Collection);\n    mz.CollectionView = CollectionView;\n})(mz || (mz = {}));\n/// <reference path=\"../VIEW/Widget.ts\" />\nvar mz;\n(function (mz) {\n    var redux;\n    (function (redux) {\n        var stateHelpers;\n        (function (stateHelpers) {\n            function cloneArray(array) {\n                var newArray = new Array(array && array.length || 0);\n                array && array.forEach(function (item, index) { return newArray[index] = item; });\n                return newArray;\n            }\n            stateHelpers.cloneArray = cloneArray;\n            function cloneArrayAndPush(array, element) {\n                var newArray = cloneArray(array);\n                newArray.push(element);\n                return newArray;\n            }\n            stateHelpers.cloneArrayAndPush = cloneArrayAndPush;\n            function cloneDeep(object) {\n                return JSON.parse(JSON.stringify(object));\n            }\n            stateHelpers.cloneDeep = cloneDeep;\n            function cloneShallow(object) {\n                var target = {};\n                for (var i in object) {\n                    if (object.hasOwnProperty(i)) {\n                        target[i] = object[i];\n                    }\n                }\n                return target;\n            }\n            stateHelpers.cloneShallow = cloneShallow;\n        })(stateHelpers = redux.stateHelpers || (redux.stateHelpers = {}));\n        var ActionTypes;\n        (function (ActionTypes) {\n            ActionTypes.INIT = '@@redux/INIT';\n        })(ActionTypes = redux.ActionTypes || (redux.ActionTypes = {}));\n        redux.PropertyChangeOnValueMutation = function (target, propertyKey) {\n            var prevProp = Reflect.getPropertyDescriptor(target, propertyKey);\n            var newProp = {};\n            if (prevProp && prevProp.get && prevProp.set) {\n                newProp.get = prevProp.get;\n                newProp.set = function (value) {\n                    if (!shallowEqual(value, prevProp.get.call(this)))\n                        prevProp.set.call(this, value);\n                };\n            }\n            else if (!prevProp || prevProp.value) {\n                var blackboxedValue = prevProp && prevProp.value;\n                newProp.get = function () { return blackboxedValue; };\n                newProp.set = function (value) {\n                    if (!shallowEqual(value, blackboxedValue))\n                        blackboxedValue = value;\n                };\n            }\n            else {\n                console.warn(\"@mz.redux.PropertyChangeOnValueMutation over \" + propertyKey.toString() + \" invalidated due malformed property\", prevProp);\n                return;\n            }\n            if (delete target[propertyKey])\n                Object.defineProperty(target, propertyKey, newProp);\n        };\n        redux.PropertyChangeOnReferenceMutation = function (target, propertyKey) {\n            var prevProp = Reflect.getPropertyDescriptor(target, propertyKey);\n            var newProp = prevProp ? {\n                writable: prevProp.writable,\n                enumerable: prevProp.enumerable,\n                configurable: prevProp.configurable\n            } : {};\n            if (prevProp && prevProp.get && prevProp.set) {\n                newProp.get = prevProp.get;\n                newProp.set = function (value) {\n                    if (value === prevProp.get.call(this))\n                        prevProp.set.call(this, value);\n                };\n            }\n            else if (!prevProp || prevProp.value) {\n                var blackboxedValue = prevProp && prevProp.value;\n                newProp.get = function () { return blackboxedValue; };\n                newProp.set = function (value) {\n                    if (value !== blackboxedValue)\n                        blackboxedValue = value;\n                };\n            }\n            else {\n                console.warn(\"@mz.redux.PropertyChangeOnReferenceMutation over \" + propertyKey.toString() + \" invalidated due malformed property \", prevProp);\n                return;\n            }\n            Object.defineProperty(target, propertyKey, newProp);\n        };\n        function connectWidget(selector, store) {\n            return function (target) {\n                if (!store)\n                    return console.error(\"redux store not found\");\n                target.prototype.redux_selector = selector;\n                target.prototype.redux_store = store;\n                target.prototype.unsubscribe_redux = function () { };\n                var componentInitialized = target.prototype.componentInitialized;\n                redux.PropertyChangeOnValueMutation(target.prototype, 'scope');\n                target.prototype.componentInitialized = function () {\n                    var that = this;\n                    this.unsubscribe_redux = store.subscribe(function () {\n                        try {\n                            var newScope = selector(store.getState());\n                            var oldScope = that.scope;\n                            // check if we should update the widget's scope\n                            // redux is not intended to use references, so we'll check the values\n                            //if (!shallowEqual(oldScope, newScope)) replaced by -> PropertyChangeOnValueMutation\n                            that.scope = newScope;\n                        }\n                        catch (e) {\n                            console.error(e);\n                        }\n                    });\n                    try {\n                        this.scope = selector(store.getState());\n                    }\n                    catch (e) {\n                        console.error(e);\n                    }\n                    componentInitialized && componentInitialized.apply(this, arguments);\n                };\n                var unm = target.prototype.unmount;\n                target.prototype.unmount = function () {\n                    this.unsubscribe_redux();\n                    unm && unm.apply(this, arguments);\n                };\n            };\n        }\n        redux.connectWidget = connectWidget;\n        function wrapActionCreators(actionCreators) {\n            return function (dispatch) { return bindActionCreators(actionCreators, dispatch); };\n        }\n        redux.wrapActionCreators = wrapActionCreators;\n        function shallowEqual(objA, objB) {\n            if (objA === objB) {\n                return true;\n            }\n            var typeA = typeof objA;\n            var typeB = typeof objB;\n            if (typeA !== typeB)\n                return false;\n            if (typeA != 'object' || typeB != 'object')\n                return objA == objB;\n            if ((objA === null) != (objB === null))\n                return false;\n            var keysA = Object.keys(objA);\n            var keysB = Object.keys(objB);\n            if (keysA.length !== keysB.length) {\n                return false;\n            }\n            // Test for A's keys different from B.\n            var hasOwn = Object.prototype.hasOwnProperty;\n            for (var i = 0; i < keysA.length; i++) {\n                if (!hasOwn.call(objB, keysA[i]) ||\n                    objA[keysA[i]] !== objB[keysA[i]]) {\n                    return false;\n                }\n            }\n            return true;\n        }\n        redux.shallowEqual = shallowEqual;\n        function bindActionCreator(actionCreator, dispatch) {\n            return (function () {\n                var args = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    args[_i - 0] = arguments[_i];\n                }\n                return dispatch(actionCreator.apply(void 0, args));\n            });\n        }\n        /**\n         * Turns an object whose values are action creators, into an object with the\n         * same keys, but with every function wrapped into a `dispatch` call so they\n         * may be invoked directly. This is just a convenience method, as you can call\n         * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n         *\n         * For convenience, you can also pass a single function as the first argument,\n         * and get a function in return.\n         *\n         * @param {Function|Object} actionCreators An object whose values are action\n         * creator functions. One handy way to obtain it is to use ES6 `import * as`\n         * syntax. You may also pass a single function.\n         *\n         * @param {Function} dispatch The `dispatch` function available on your Redux\n         * store.\n         *\n         * @returns {Function|Object} The object mimicking the original object, but with\n         * every action creator wrapped into the `dispatch` call. If you passed a\n         * function as `actionCreators`, the return value will also be a single\n         * function.\n         */\n        function bindActionCreators(actionCreators, dispatch) {\n            if (typeof actionCreators === 'function') {\n                return bindActionCreator(actionCreators, dispatch);\n            }\n            if (typeof actionCreators !== 'object' || actionCreators === null) {\n                throw new Error((\"bindActionCreators expected an object or a function, instead received \" + (actionCreators === null ? 'null' : typeof actionCreators) + \". \") +\n                    \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n            }\n            var keys = Object.keys(actionCreators);\n            var boundActionCreators = {};\n            for (var i = 0; i < keys.length; i++) {\n                var key = keys[i];\n                var actionCreator = actionCreators[key];\n                if (typeof actionCreator === 'function') {\n                    boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n                }\n            }\n            return boundActionCreators;\n        }\n        redux.bindActionCreators = bindActionCreators;\n        /**\n         * Creates a store enhancer that applies middleware to the dispatch method\n         * of the Redux store. This is handy for a variety of tasks, such as expressing\n         * asynchronous actions in a concise manner, or logging every action payload.\n         *\n         * See `redux-thunk` package as an example of the Redux middleware.\n         *\n         * Because middleware is potentially asynchronous, this should be the first\n         * store enhancer in the composition chain.\n         *\n         * Note that each middleware will be given the `dispatch` and `getState` functions\n         * as named arguments.\n         *\n         * @param {...Function} middlewares The middleware chain to be applied.\n         * @returns {Function} A store enhancer applying the middleware.\n         */\n        function applyMiddleware() {\n            var middlewares = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                middlewares[_i - 0] = arguments[_i];\n            }\n            return function (CreateStore) { return function (reducer, initialState, enhancer) {\n                var store = CreateStore(reducer, initialState, enhancer);\n                var dispatch = store.dispatch;\n                var chain = [];\n                var middlewareAPI = {\n                    getState: store.getState,\n                    dispatch: function (action) { return dispatch(action); }\n                };\n                chain = middlewares.map(function (middleware) { return middleware(middlewareAPI); });\n                dispatch = compose.apply(void 0, chain)(store.dispatch);\n                return mz.copy(store, {\n                    dispatch: dispatch\n                });\n            }; };\n        }\n        redux.applyMiddleware = applyMiddleware;\n        /**\n         * Composes single-argument functions from right to left. The rightmost\n         * function can take multiple arguments as it provides the signature for\n         * the resulting composite function.\n         *\n         * @param {...Function} funcs The functions to compose.\n         * @returns {Function} A function obtained by composing the argument functions\n         * from right to left. For example, compose(f, g, h) is identical to doing\n         * (...args) => f(g(h(...args))).\n         */\n        function compose() {\n            var funcs = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                funcs[_i - 0] = arguments[_i];\n            }\n            return (function () {\n                var args = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    args[_i - 0] = arguments[_i];\n                }\n                if (funcs.length === 0) {\n                    return args[0];\n                }\n                var last = funcs[funcs.length - 1];\n                var rest = funcs.slice(0, -1);\n                return rest.reduceRight(function (composed, f) { return f(composed); }, last.apply(void 0, args));\n            });\n        }\n        redux.compose = compose;\n        function createStore(reducer, initialState, enhancer) {\n            if (typeof initialState === 'function' && typeof enhancer === 'undefined') {\n                enhancer = initialState;\n                initialState = undefined;\n            }\n            if (typeof enhancer !== 'undefined') {\n                if (typeof enhancer !== 'function') {\n                    throw new Error('Expected the enhancer to be a function.');\n                }\n                return enhancer(createStore)(reducer, initialState);\n            }\n            if (typeof reducer !== 'function') {\n                throw new Error('Expected the reducer to be a function.');\n            }\n            var currentReducer = reducer;\n            var currentState = initialState;\n            var currentListeners = [];\n            var nextListeners = currentListeners;\n            var isDispatching = false;\n            function ensureCanMutateNextListeners() {\n                if (nextListeners === currentListeners) {\n                    nextListeners = currentListeners.slice();\n                }\n            }\n            /**\n             * Reads the state tree managed by the store.\n             *\n             * @returns {any} The current state tree of your application.\n             */\n            function getState() {\n                return currentState;\n            }\n            /**\n             * Adds a change listener. It will be called any time an action is dispatched,\n             * and some part of the state tree may potentially have changed. You may then\n             * call `getState()` to read the current state tree inside the callback.\n             *\n             * You may call `dispatch()` from a change listener, with the following\n             * caveats:\n             *\n             * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n             * If you subscribe or unsubscribe while the listeners are being invoked, this\n             * will not have any effect on the `dispatch()` that is currently in progress.\n             * However, the next `dispatch()` call, whether nested or not, will use a more\n             * recent snapshot of the subscription list.\n             *\n             * 2. The listener should not expect to see all states changes, as the state\n             * might have been updated multiple times during a nested `dispatch()` before\n             * the listener is called. It is, however, guaranteed that all subscribers\n             * registered before the `dispatch()` started will be called with the latest\n             * state by the time it exits.\n             *\n             * @param {Function} listener A callback to be invoked on every dispatch.\n             * @returns {Function} A function to remove this change listener.\n             */\n            function subscribe(listener) {\n                if (typeof listener !== 'function') {\n                    throw new Error('Expected listener to be a function.');\n                }\n                var isSubscribed = true;\n                ensureCanMutateNextListeners();\n                nextListeners.push(listener);\n                return function unsubscribe() {\n                    if (!isSubscribed) {\n                        return;\n                    }\n                    isSubscribed = false;\n                    ensureCanMutateNextListeners();\n                    var index = nextListeners.indexOf(listener);\n                    nextListeners.splice(index, 1);\n                };\n            }\n            /**\n             * Dispatches an action. It is the only way to trigger a state change.\n             *\n             * The `reducer` function, used to create the store, will be called with the\n             * current state tree and the given `action`. Its return value will\n             * be considered the **next** state of the tree, and the change listeners\n             * will be notified.\n             *\n             * The base implementation only supports plain object actions. If you want to\n             * dispatch a Promise, an Observable, a thunk, or something else, you need to\n             * wrap your store creating function into the corresponding middleware. For\n             * example, see the documentation for the `redux-thunk` package. Even the\n             * middleware will eventually dispatch plain object actions using this method.\n             *\n             * @param {Object} action A plain object representing what changed. It is\n             * a good idea to keep actions serializable so you can record and replay user\n             * sessions, or use the time travelling `redux-devtools`. An action must have\n             * a `type` property which may not be `undefined`. It is a good idea to use\n             * string constants for action types.\n             *\n             * @returns {Object} For convenience, the same action object you dispatched.\n             *\n             * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n             * return something else (for example, a Promise you can await).\n             */\n            function dispatch(action) {\n                if (typeof action.type === 'undefined') {\n                    throw new Error('Actions may not have an undefined \"type\" property. ' +\n                        'Have you misspelled a constant?');\n                }\n                if (isDispatching) {\n                    throw new Error('Reducers may not dispatch actions.');\n                }\n                try {\n                    isDispatching = true;\n                    currentState = currentReducer(currentState, action);\n                }\n                finally {\n                    isDispatching = false;\n                }\n                var listeners = currentListeners = nextListeners;\n                for (var i = 0; i < listeners.length; i++) {\n                    listeners[i]();\n                }\n                return action;\n            }\n            /**\n             * Replaces the reducer currently used by the store to calculate the state.\n             *\n             * You might need this if your app implements code splitting and you want to\n             * load some of the reducers dynamically. You might also need this if you\n             * implement a hot reloading mechanism for Redux.\n             *\n             * @param {Function} nextReducer The reducer for the store to use instead.\n             * @returns {void}\n             */\n            function replaceReducer(nextReducer) {\n                if (typeof nextReducer !== 'function') {\n                    throw new Error('Expected the nextReducer to be a function.');\n                }\n                currentReducer = nextReducer;\n                dispatch({ type: ActionTypes.INIT });\n            }\n            // When a store is created, an \"INIT\" action is dispatched so that every\n            // reducer returns their initial state. This effectively populates\n            // the initial state tree.\n            dispatch({ type: ActionTypes.INIT });\n            return {\n                dispatch: dispatch,\n                subscribe: subscribe,\n                getState: getState,\n                replaceReducer: replaceReducer\n            };\n        }\n        redux.createStore = createStore;\n        function getUndefinedStateErrorMessage(key, action) {\n            var actionType = action && action.type;\n            var actionName = actionType && \"\\\"\" + actionType.toString() + \"\\\"\" || 'an action';\n            return ((\"Given action \" + actionName + \", reducer \\\"\" + key + \"\\\" returned undefined. \") +\n                \"To ignore an action, you must explicitly return the previous state.\");\n        }\n        function getUnexpectedStateShapeWarningMessage(inputState, reducers, action) {\n            var reducerKeys = Object.keys(reducers);\n            var argumentName = action && action.type === ActionTypes.INIT ?\n                'initialState argument passed to createStore' :\n                'previous state received by the reducer';\n            if (reducerKeys.length === 0) {\n                return ('Store does not have a valid reducer. Make sure the argument passed ' +\n                    'to combineReducers is an object whose values are reducers.');\n            }\n            var unexpectedKeys = Object.keys(inputState).filter(function (key) { return !reducers.hasOwnProperty(key); });\n            if (unexpectedKeys.length > 0) {\n                return ((\"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \") +\n                    (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") +\n                    \"Expected to find one of the known reducer keys instead: \" +\n                    (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\"));\n            }\n        }\n        function assertReducerSanity(reducers) {\n            Object.keys(reducers).forEach(function (key) {\n                var reducer = reducers[key];\n                var initialState = reducer(undefined, { type: ActionTypes.INIT });\n                if (typeof initialState === 'undefined') {\n                    throw new Error((\"Reducer \\\"\" + key + \"\\\" returned undefined during initialization. \") +\n                        \"If the state passed to the reducer is undefined, you must \" +\n                        \"explicitly return the initial state. The initial state may \" +\n                        \"not be undefined.\");\n                }\n                var type = '@@redux/PROBE_UNKNOWN_ACTION_' + Math.random().toString(36).substring(7).split('').join('.');\n                if (typeof reducer(undefined, { type: type }) === 'undefined') {\n                    throw new Error((\"Reducer \\\"\" + key + \"\\\" returned undefined when probed with a random type. \") +\n                        (\"Don't try to handle \" + ActionTypes.INIT + \" or other actions in \\\"redux/*\\\" \") +\n                        \"namespace. They are considered private. Instead, you must return the \" +\n                        \"current state for any unknown actions, unless it is undefined, \" +\n                        \"in which case you must return the initial state, regardless of the \" +\n                        \"action type. The initial state may not be undefined.\");\n                }\n            });\n        }\n        /**\n         * Turns an object whose values are different reducer functions, into a single\n         * reducer function. It will call every child reducer, and gather their results\n         * into a single state object, whose keys correspond to the keys of the passed\n         * reducer functions.\n         *\n         * @param {Object} reducers An object whose values correspond to different\n         * reducer functions that need to be combined into one. One handy way to obtain\n         * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n         * undefined for any action. Instead, they should return their initial state\n         * if the state passed to them was undefined, and the current state for any\n         * unrecognized action.\n         *\n         * @returns {Function} A reducer function that invokes every reducer inside the\n         * passed object, and builds a state object with the same shape.\n         */\n        function combineReducers(reducers) {\n            var reducerKeys = Object.keys(reducers);\n            var finalReducers = {};\n            for (var i = 0; i < reducerKeys.length; i++) {\n                var key = reducerKeys[i];\n                if (typeof reducers[key] === 'function') {\n                    finalReducers[key] = reducers[key];\n                }\n            }\n            var finalReducerKeys = Object.keys(finalReducers);\n            var sanityError;\n            try {\n                assertReducerSanity(finalReducers);\n            }\n            catch (e) {\n                sanityError = e;\n            }\n            return function combination(state, action) {\n                if (state === void 0) { state = {}; }\n                if (sanityError) {\n                    throw sanityError;\n                }\n                var hasChanged = false;\n                var nextState = {};\n                for (var i = 0; i < finalReducerKeys.length; i++) {\n                    var key = finalReducerKeys[i];\n                    var reducer = finalReducers[key];\n                    var previousStateForKey = state[key];\n                    var nextStateForKey = reducer(previousStateForKey, action);\n                    if (typeof nextStateForKey === 'undefined') {\n                        var errorMessage = getUndefinedStateErrorMessage(key, action);\n                        throw new Error(errorMessage);\n                    }\n                    nextState[key] = nextStateForKey;\n                    hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n                }\n                return hasChanged ? nextState : state;\n            };\n        }\n        redux.combineReducers = combineReducers;\n        function makeFilter(filter) {\n            // function filter\n            if (typeof filter === 'function')\n                return filter;\n            // object filter, match properties\n            if (typeof filter === 'object')\n                return function (data) {\n                    if (typeof data !== 'object')\n                        return false;\n                    for (var n in filter)\n                        if (filter[n] !== data[n])\n                            return false;\n                    return true;\n                };\n            // value filter, equal data or equal type property\n            return function (data) {\n                if (data && typeof data === 'object')\n                    return data.type === filter;\n                return data === filter;\n            };\n        }\n        // https://github.com/ajlopez/ReduMan\n        function createManager() {\n            var steps = [];\n            var owfn = null;\n            var when = function (filter, fn) {\n                steps.push({ filter: makeFilter(filter), fn: fn });\n                return reducer;\n            };\n            var otherwise = function (fn) {\n                owfn = fn;\n                return reducer;\n            };\n            var use = function (fn) {\n                steps.push({ fn: fn });\n                return reducer;\n            };\n            var reducer = function (state, action) {\n                var l = steps.length;\n                var currentState = state;\n                var processed = false;\n                for (var k = 0; k < l; k++) {\n                    var step = steps[k];\n                    if (!step.filter || step.filter(action)) {\n                        var newState = step.fn(currentState, action);\n                        if (typeof newState === 'undefined') {\n                            var errorMessage = getUndefinedStateErrorMessage(k, action);\n                            console.error(step);\n                            throw new Error(errorMessage);\n                        }\n                        if (newState !== currentState)\n                            processed = true;\n                        currentState = newState;\n                    }\n                }\n                if (owfn && !processed)\n                    return owfn(currentState, action);\n                return currentState;\n            };\n            reducer.when = when;\n            reducer.otherwise = otherwise;\n            reducer.use = use;\n            return reducer;\n        }\n        redux.createManager = createManager;\n    })(redux = mz.redux || (mz.redux = {}));\n})(mz || (mz = {}));\n/// <reference path=\"../mz.ts\" />\nvar Reflect;\n(function (Reflect) {\n    var originalMetadata = Reflect.metadata;\n    Reflect.MetadataInfo = Symbol(\"mz.metadata.typings\");\n    var valueSetter = {\n        enumerable: false,\n        writable: false,\n        configurable: false,\n        value: null\n    };\n    function metadata(metadataKey, metadataValue) {\n        if ('design:type' == metadataKey) {\n            if (typeof Reflect.MetadataInfo == \"string\") {\n                return function decorator(target, targetKey) {\n                    var typings = target[Reflect.MetadataInfo];\n                    if (!typings) {\n                        typings = setObjectSymbol(target, Reflect.MetadataInfo, {});\n                    }\n                    typings[targetKey] = metadataValue;\n                    originalMetadata && originalMetadata(metadataKey, metadataValue).apply(this, arguments);\n                };\n            }\n            else {\n                return function decorator(target, targetKey) {\n                    var typings = (target[Reflect.MetadataInfo] = target[Reflect.MetadataInfo] || {});\n                    typings[targetKey] = metadataValue;\n                    originalMetadata && originalMetadata(metadataKey, metadataValue).apply(this, arguments);\n                };\n            }\n        }\n        else\n            return originalMetadata && originalMetadata(metadataKey, metadataValue) || undefined;\n    }\n    Reflect.metadata = metadata;\n    function setObjectSymbol(target, symbol, value) {\n        if (typeof symbol == \"symbol\") {\n            target[symbol] = value;\n        }\n        else {\n            valueSetter.value = value;\n            Object.defineProperty(target, symbol.toString(), valueSetter);\n        }\n        return value;\n    }\n    Reflect.setObjectSymbol = setObjectSymbol;\n    Reflect.getPropertyDescriptor = Object[\"getPropertyDescriptor\"] || (function () {\n        var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n        return Object[\"getPropertyDescriptor\"] = function getPropertyDescriptor(o, name) {\n            var proto = o, descriptor;\n            while (proto && !(descriptor = getOwnPropertyDescriptor(proto, name)))\n                proto = proto.__proto__;\n            return descriptor;\n        };\n    })();\n    function getPrototypeOf(object) {\n        if (Object.getPrototypeOf) {\n            return Object.getPrototypeOf(object);\n        }\n        else {\n            return object['__proto__'];\n        }\n    }\n    Reflect.getPrototypeOf = getPrototypeOf;\n})(Reflect || (Reflect = {}));\n/// <reference path=\"AMD/Require.ts\" />\nvar mz;\n(function (mz) {\n    mz.route = {\n        start: function (options, cb) {\n            var gotBackbone = function (b) {\n                mz.route = mz.route = new (b.Router.extend(options))();\n                b.history.start();\n                mz.route.start = function (a, b) {\n                    b && b(mz.route);\n                };\n                console.log(\"Backbone loaded! Route started!\", mz.route);\n                cb && cb(mz.route);\n            };\n            mz.globalContext.Backbone && gotBackbone(mz.globalContext.Backbone) || mz.require(\"backbone\", function (b) { return gotBackbone(b); });\n        }\n    };\n})(mz || (mz = {}));\n/// <reference path=\"../mz.ts\" />\nvar mz;\n(function (mz) {\n    var css;\n    (function (css) {\n        var _estilos_guardados = {};\n        var _hoja_estilo = $('<link rel=\"stylesheet\" type=\"text/css\">');\n        $(function () {\n            _hoja_estilo.appendTo(\"body\");\n        });\n        var _acum_estilos = (Math.random() * 32565) | 0;\n        var _reescribir_css = mz.delayer(function () {\n            var buffer = '';\n            for (var i in _estilos_guardados) {\n                buffer += i + ' {';\n                for (var e in _estilos_guardados[i]) {\n                    var value = _estilos_guardados[i][e];\n                    if (typeof value === \"number\" && !jQuery.cssNumber[e]) {\n                        value += \"px\";\n                    }\n                    buffer += e + ': ' + value + ';';\n                }\n                buffer += '}';\n            }\n            _hoja_estilo.attr('href', 'data:text/css;base64,' + btoa(buffer));\n        }, 16);\n        function set(selectorOrValues, selectorValues) {\n            var nueva = false;\n            var nombre_clase = '';\n            if (!isDef(selectorValues)) {\n                if (mz.isIterable(selectorOrValues)) {\n                    var array_clases = [];\n                    for (var i in selectorOrValues) {\n                        if (typeof selectorOrValues[i] != \"object\") {\n                            nueva = true;\n                            break;\n                        }\n                        mz.copy(_estilos_guardados[i] = (_estilos_guardados[i] || {}), selectorOrValues[i]);\n                        array_clases.push(i);\n                    }\n                    nombre_clase = array_clases.join(\" \");\n                }\n                if (nueva === true) {\n                    nombre_clase = '.-mzcss-' + (_acum_estilos++).toString(32);\n                    set(nombre_clase, selectorOrValues);\n                }\n            }\n            else {\n                nombre_clase = selectorOrValues;\n                mz.copy(_estilos_guardados[selectorOrValues] = (_estilos_guardados[selectorOrValues] || {}), selectorValues);\n            }\n            _reescribir_css();\n            if (nombre_clase.indexOf(\".\") != -1) {\n                return nombre_clase.replace(\".\", \"\");\n            }\n            else {\n                return null;\n            }\n        }\n        css.set = set;\n        var Stylesheet = (function () {\n            function Stylesheet(prefix) {\n                var _this = this;\n                this.prefix = null;\n                this.elem = $('<link rel=\"stylesheet\" type=\"text/css\">');\n                this.estilo = {};\n                this.remake = null;\n                this.destino = 'head';\n                if (prefix instanceof jQuery) {\n                    this.destino = prefix;\n                    prefix = ':host';\n                }\n                this.prefix = prefix;\n                $(function () {\n                    _this.enable();\n                });\n            }\n            Stylesheet.prototype.enable = function () {\n                this.elem.appendTo(this.destino);\n            };\n            Stylesheet.prototype.disable = function () {\n                this.elem.remove();\n            };\n            Stylesheet.prototype.refresh = function () {\n                if (!this.remake) {\n                    var that = this;\n                    this.remake = mz.delayer(function () {\n                        var buffer = '';\n                        for (var i in that.estilo) {\n                            buffer += (that.prefix ? that.prefix + ' ' : '') + i + ' {';\n                            for (var e in that.estilo[i]) {\n                                var value = that.estilo[i][e];\n                                if (typeof value === \"number\" && !jQuery.cssNumber[e]) {\n                                    value += \"px\";\n                                }\n                                buffer += e + ': ' + value + ';';\n                            }\n                            buffer += '}';\n                        }\n                        that.elem.attr('href', 'data:text/css;base64,' + btoa(buffer));\n                    }, 9);\n                }\n                this.remake();\n            };\n            Stylesheet.prototype.set = function (property, val) {\n                this.estilo[property] = this.estilo[property] || {};\n                mz.copy(this.estilo[property], val);\n                this.refresh();\n            };\n            return Stylesheet;\n        })();\n        css.Stylesheet = Stylesheet;\n    })(css = mz.css || (mz.css = {}));\n})(mz || (mz = {}));\n/// <reference path=\"../VIEW/Widget.ts\" />\n/// <reference path=\"../VIEW/CSS.ts\" />\nvar uikit;\n(function (uikit) {\n    var flexStyles = new mz.css.Stylesheet();\n    flexStyles.disable();\n    flexStyles.set('.mz-hidden, [hidden]', {\n        'display': 'none!important'\n    });\n    flexStyles.set('.mz-flex-row', {\n        'display': 'flex',\n        '-webkit-flex-wrap': 'wrap',\n        '-ms-flex-wrap': 'wrap',\n        'flex-wrap': 'wrap',\n        'width': '100%',\n        '-webkit-box-sizing': 'border-box',\n        '-moz-box-sizing': 'border-box',\n        'box-sizing': 'border-box'\n    });\n    flexStyles.set('.mz-flex-col', {\n        '-webkit-box-flex': '1',\n        '-webkit-flex': '1',\n        '-moz-box-flex': '1',\n        '-moz-flex': '1',\n        '-ms-flex': '1',\n        'flex': '1',\n        'display': 'flex',\n        'width': '100%',\n        '-webkit-box-sizing': 'border-box',\n        '-moz-box-sizing': 'border-box',\n        'box-sizing': 'border-box',\n        '-webkit-flex-direction': 'column',\n        'flex-direction': 'column',\n        'position': 'relative'\n    });\n    flexStyles.set('.mz-flex-cell', {\n        '-webkit-flex': 'auto',\n        '-moz-box-flex': 'auto',\n        '-moz-flex': 'auto',\n        '-ms-flex': '1 1 auto',\n        'flex': 'auto'\n    });\n    flexStyles.enable();\n    var Fit = (function (_super) {\n        __extends(Fit, _super);\n        function Fit() {\n            _super.apply(this, arguments);\n        }\n        Fit.prototype.class_changed = function () {\n            this.rootNode.classList.add('mz-fit');\n        };\n        Fit = __decorate([\n            mz.Widget.RegisterComponent(\"fit\"),\n            mz.Widget.Template(\"<div class=\\\"mz-fit\\\" />\", ':root'),\n            mz.Widget.ConfigureUnwrapped, \n            __metadata('design:paramtypes', [])\n        ], Fit);\n        return Fit;\n    })(mz.Widget);\n    uikit.Fit = Fit;\n    var Clear = (function (_super) {\n        __extends(Clear, _super);\n        function Clear(n, attr, a, b, c) {\n            attr[\"tag\"] = \"div\";\n            _super.call(this, n, attr, a, b, c);\n            this.DOM.addClass(\"clear\");\n        }\n        Clear = __decorate([\n            mz.Widget.RegisterComponent(\"clear\"), \n            __metadata('design:paramtypes', [Object, Object, Object, Object, Object])\n        ], Clear);\n        return Clear;\n    })(mz.Widget);\n    uikit.Clear = Clear;\n    var FlexCol = (function (_super) {\n        __extends(FlexCol, _super);\n        function FlexCol() {\n            _super.apply(this, arguments);\n        }\n        FlexCol.prototype.style_changed = function () {\n            this.set('col-width', this.get('col-width'));\n        };\n        FlexCol.prototype.class_changed = function () {\n            this.rootNode.classList.add('mz-flex-col');\n        };\n        FlexCol.prototype['col-width_changed'] = function (width) {\n            width = ('' + width).trim();\n            width = width.match(/^\\d+$/) ? width + '%' : width;\n            var elem = this.rootNode;\n            elem.style.webkitBoxFlex = '0';\n            elem.style.webkitFlex = '0 0 ' + width;\n            elem.style.mozBoxFlex = '0';\n            elem.style.mozFlex = '0 0 ' + width;\n            elem.style.msFlex = '0 0 ' + width;\n            elem.style.flex = '0 0 ' + width;\n            elem.style.maxWidth = width;\n        };\n        __decorate([\n            mz.core.decorators.screenDelayer, \n            __metadata('design:type', Function), \n            __metadata('design:paramtypes', []), \n            __metadata('design:returntype', void 0)\n        ], FlexCol.prototype, \"style_changed\", null);\n        __decorate([\n            mz.core.decorators.screenDelayer, \n            __metadata('design:type', Function), \n            __metadata('design:paramtypes', []), \n            __metadata('design:returntype', void 0)\n        ], FlexCol.prototype, \"class_changed\", null);\n        FlexCol = __decorate([\n            mz.Widget.RegisterComponent(\"flex-col\"),\n            mz.Widget.Template(\"<div class=\\\"mz-flex-col\\\" />\", ':root'),\n            mz.Widget.ConfigureUnwrapped, \n            __metadata('design:paramtypes', [])\n        ], FlexCol);\n        return FlexCol;\n    })(mz.Widget);\n    uikit.FlexCol = FlexCol;\n    var FlexContainer = (function (_super) {\n        __extends(FlexContainer, _super);\n        function FlexContainer() {\n            _super.apply(this, arguments);\n        }\n        FlexContainer.prototype.class_changed = function () {\n            this.rootNode.classList.add('mz-flex-row');\n        };\n        __decorate([\n            mz.core.decorators.screenDelayer, \n            __metadata('design:type', Function), \n            __metadata('design:paramtypes', []), \n            __metadata('design:returntype', void 0)\n        ], FlexContainer.prototype, \"class_changed\", null);\n        FlexContainer = __decorate([\n            mz.Widget.RegisterComponent(\"flex-container\"),\n            mz.Widget.Template(\"<div class=\\\"mz-flex-row\\\" />\", ':root'),\n            mz.Widget.ConfigureUnwrapped, \n            __metadata('design:paramtypes', [])\n        ], FlexContainer);\n        return FlexContainer;\n    })(mz.Widget);\n    uikit.FlexContainer = FlexContainer;\n    var FlexRow = (function (_super) {\n        __extends(FlexRow, _super);\n        function FlexRow() {\n            _super.apply(this, arguments);\n        }\n        FlexRow.prototype.class_changed = function () {\n            this.rootNode.classList.add('mz-flex-row');\n        };\n        __decorate([\n            mz.core.decorators.screenDelayer, \n            __metadata('design:type', Function), \n            __metadata('design:paramtypes', []), \n            __metadata('design:returntype', void 0)\n        ], FlexRow.prototype, \"class_changed\", null);\n        FlexRow = __decorate([\n            mz.Widget.RegisterComponent(\"flex-row\"),\n            mz.Widget.Template(\"<div class=\\\"mz-flex-row\\\" />\", ':root'),\n            mz.Widget.ConfigureUnwrapped, \n            __metadata('design:paramtypes', [])\n        ], FlexRow);\n        return FlexRow;\n    })(mz.Widget);\n    uikit.FlexRow = FlexRow;\n    var FlexCell = (function (_super) {\n        __extends(FlexCell, _super);\n        function FlexCell() {\n            _super.apply(this, arguments);\n        }\n        FlexCell.prototype.class_changed = function () {\n            this.rootNode.classList.add('mz-flex-cell');\n        };\n        __decorate([\n            mz.core.decorators.screenDelayer, \n            __metadata('design:type', Function), \n            __metadata('design:paramtypes', []), \n            __metadata('design:returntype', void 0)\n        ], FlexCell.prototype, \"class_changed\", null);\n        FlexCell = __decorate([\n            mz.Widget.RegisterComponent(\"flex-cell\"),\n            mz.Widget.Template(\"<div class=\\\"mz-flex-cell\\\" />\", ':root'),\n            mz.Widget.ConfigureUnwrapped, \n            __metadata('design:paramtypes', [])\n        ], FlexCell);\n        return FlexCell;\n    })(mz.Widget);\n    uikit.FlexCell = FlexCell;\n})(uikit || (uikit = {}));\n/// <reference path=\"../../mz.ts\" />\n/// <reference path=\"../Widget.ts\" />\nvar MzModelDirective = (function (_super) {\n    __extends(MzModelDirective, _super);\n    function MzModelDirective() {\n        _super.apply(this, arguments);\n        this.delayedBinding = null;\n    }\n    MzModelDirective.getSelectedOptionScope = function (HtmlSelect) {\n        var actualVal = HtmlSelect.find('option:selected')[0] || HtmlSelect.find('option:first')[0];\n        if (!actualVal)\n            actualVal = null;\n        else\n            actualVal = actualVal.$scope || null;\n        return actualVal;\n    };\n    MzModelDirective.getOptionWithScope = function (HtmlSelect, scope) {\n        var actualVal = HtmlSelect.find('option');\n        for (var index = 0; index < actualVal.length; index++) {\n            var element = actualVal[index];\n            if (element.$scope == scope)\n                return element;\n        }\n    };\n    MzModelDirective.prototype.unmount = function () {\n        this.teardown();\n        _super.prototype.unmount.call(this);\n    };\n    MzModelDirective.prototype.teardown = function () {\n        this.delayedBinding && this.widget.DOM.off(MzModelDirective.jqueryBindings, this.delayedBinding);\n        this.componentBinding && this.componentBinding.off();\n        this.componentBinding = null;\n        this.delayedBinding = null;\n    };\n    MzModelDirective.prototype.changed = function (destinationField, prevVal) {\n        var _this = this;\n        this.teardown();\n        if (destinationField.length == 0)\n            return;\n        var match;\n        var listenVar = destinationField;\n        if (match = MzModelDirective.point_expr.exec(destinationField)) {\n            this.setter = function (value) {\n                var obj = this.component[match[1]] || {};\n                obj[match[2]] = value;\n                this.component[match[1]] = obj;\n                this.touch();\n            };\n            this.touch = function () {\n                this.component.touch(match[1]);\n            };\n            this.getter = function () {\n                var obj = this.component[match[1]] || {};\n                return obj[match[2]];\n            };\n            listenVar = match[1];\n        }\n        else {\n            this.setter = function (v) {\n                this.component[destinationField] = v;\n            };\n            this.getter = function () {\n                return this.component[destinationField];\n            };\n            this.touch = function () {\n                this.component.touch(destinationField);\n            };\n        }\n        if (this.widget instanceof mz.widgets.MzInput) {\n            this.widgetValueBinding = this.widget.on(\"value_changed\", function (newVal) {\n                if (newVal != _this.getter())\n                    _this.setter(newVal);\n                else\n                    _this.touch();\n            });\n            this.componentBinding = this.component.on(listenVar + \"_changed\", function () {\n                var actualVal = _this.widget.value;\n                var newVal = _this.getter();\n                if (actualVal != newVal)\n                    _this.widget.value = newVal;\n            });\n        }\n        else if (this.widget.rootNode.nodeName.toUpperCase() == 'INPUT' || this.widget.rootNode.nodeName.toUpperCase() == 'SELECT') {\n            var inputType = this.widget.rootNode.nodeName.toUpperCase() == 'SELECT' ? 'select' : mz.dom.adapter.getAttribute(this.widget.rootNode, \"type\") || \"text\";\n            inputType = inputType.toUpperCase();\n            if (inputType == \"CHECKBOX\") {\n                this.delayedBinding = function () {\n                    var actualVal = !!_this.widget.rootNode.checked;\n                    if (actualVal != CBool(_this.getter()))\n                        _this.setter(actualVal);\n                    else\n                        _this.touch();\n                };\n                // detecto los cambios\n                this.changeBinding = this.widget.DOM.on(\"changed mouseup keyup\", this.delayedBinding);\n                this.componentBinding = this.component.on(listenVar + \"_changed\", function () {\n                    var actualVal = !!_this.widget.rootNode.checked;\n                    var newVal = CBool(_this.getter());\n                    if (actualVal != newVal)\n                        _this.widget.rootNode.checked = CBool(newVal);\n                });\n            }\n            else if (inputType == \"SELECT\") {\n                this.delayedBinding = function () {\n                    var actualVal = MzModelDirective.getSelectedOptionScope(_this.widget.DOM);\n                    if (actualVal != _this.getter())\n                        _this.setter(actualVal);\n                    else\n                        _this.touch();\n                };\n                // detecto los cambios\n                this.changeBinding = this.widget.DOM.on(MzModelDirective.jqueryBindings, this.delayedBinding);\n                this.componentBinding = this.component.on(listenVar + \"_changed\", function () {\n                    var actualVal = MzModelDirective.getSelectedOptionScope(_this.widget.DOM);\n                    var newVal = _this.getter();\n                    if (actualVal != newVal && (!newVal || newVal.toString() != actualVal)) {\n                        _this.widget.DOM.find('option').removeProp('selected').removeAttr('selected');\n                        var foundOption = MzModelDirective.getOptionWithScope(_this.widget.DOM, newVal);\n                        if (foundOption)\n                            $(foundOption).attr('selected', 'selected').prop('selected', true);\n                    }\n                });\n            }\n            else {\n                this.delayedBinding = function () {\n                    var actualVal = _this.widget.DOM.val();\n                    if (actualVal != _this.getter())\n                        _this.setter(actualVal);\n                    else\n                        _this.touch();\n                };\n                // detecto los cambios\n                this.changeBinding = this.widget.DOM.on(MzModelDirective.jqueryBindings, this.delayedBinding);\n                this.componentBinding = this.component.on(listenVar + \"_changed\", function () {\n                    var actualVal = _this.widget.DOM.val();\n                    var newVal = _this.getter();\n                    if (actualVal != newVal && (!newVal || newVal.toString() != actualVal))\n                        _this.widget.DOM.val(newVal);\n                });\n            }\n        }\n        this.touch();\n    };\n    MzModelDirective.symbol2wb = Symbol(\"mz-model-binding\");\n    MzModelDirective.jqueryBindings = 'changed keyup paste lostfocus search';\n    MzModelDirective.point_expr = /^([a-zA-Z0-9_$]+)\\.(.*)$/;\n    MzModelDirective = __decorate([\n        /// <reference path=\"../../mz.ts\" />\n        mz.AttributeDirective.Register(\"mz-model\"), \n        __metadata('design:paramtypes', [])\n    ], MzModelDirective);\n    return MzModelDirective;\n})(mz.AttributeDirective);\nvar mz;\n(function (mz) {\n    var widgets;\n    (function (widgets) {\n        var MzInput = (function (_super) {\n            __extends(MzInput, _super);\n            function MzInput() {\n                _super.apply(this, arguments);\n            }\n            MzInput.prototype.focus = function () {\n                if (this.rootNode instanceof HTMLElement) {\n                    this.rootNode.focus();\n                }\n            };\n            MzInput.prototype.isValid = function () {\n                return true;\n            };\n            __decorate([\n                mz.Widget.proxy, \n                __metadata('design:type', Object)\n            ], MzInput.prototype, \"value\", void 0);\n            __decorate([\n                mz.Widget.Attribute, \n                __metadata('design:type', Boolean)\n            ], MzInput.prototype, \"disabled\", void 0);\n            __decorate([\n                mz.Widget.Attribute, \n                __metadata('design:type', Boolean)\n            ], MzInput.prototype, \"required\", void 0);\n            __decorate([\n                mz.Widget.Attribute, \n                __metadata('design:type', Boolean)\n            ], MzInput.prototype, \"visible\", void 0);\n            MzInput = __decorate([\n                mz.Widget.RegisterComponent('mz-input'), \n                __metadata('design:paramtypes', [])\n            ], MzInput);\n            return MzInput;\n        })(mz.Widget);\n        widgets.MzInput = MzInput;\n    })(widgets = mz.widgets || (mz.widgets = {}));\n})(mz || (mz = {}));\n/// <reference path=\"../Widget.ts\" />\nvar MzRawDirective = (function (_super) {\n    __extends(MzRawDirective, _super);\n    function MzRawDirective() {\n        _super.apply(this, arguments);\n    }\n    MzRawDirective.prototype.changed = function (val) {\n        this.widget.contentNode.innerHTML = val;\n    };\n    MzRawDirective = __decorate([\n        /// <reference path=\"../Widget.ts\" />\n        mz.AttributeDirective.Register(\"mz-raw\"), \n        __metadata('design:paramtypes', [])\n    ], MzRawDirective);\n    return MzRawDirective;\n})(mz.AttributeDirective);\nvar MzClassNameDirective = (function (_super) {\n    __extends(MzClassNameDirective, _super);\n    function MzClassNameDirective() {\n        _super.apply(this, arguments);\n    }\n    MzClassNameDirective.prototype.changed = function (value, prevVal) {\n        if (this.widget.rootNode.className != value)\n            this.widget.rootNode.className = value;\n        if (this.widget[MzClassNameDirective.ENSURED_CLASSNAME]) {\n            var classList = this.widget[MzClassNameDirective.ENSURED_CLASSNAME];\n            for (var i = 0; i < classList.length; i++) {\n                var className = classList[i];\n                this.widget.rootNode.classList.add(className);\n            }\n        }\n        //mz.dom.microqueue.setAttribute(this.widget.rootNode, 'class', value);\n    };\n    MzClassNameDirective = __decorate([\n        mz.AttributeDirective.Register(\"class\"), \n        __metadata('design:paramtypes', [])\n    ], MzClassNameDirective);\n    return MzClassNameDirective;\n})(mz.AttributeDirective);\nvar MzClassNameDirective;\n(function (MzClassNameDirective) {\n    MzClassNameDirective.ENSURED_CLASSNAME = Symbol('mz-ensured-classname');\n    function EnsureClassName(classNames) {\n        return function (target) {\n            var ensuredArray = target.prototype[MzClassNameDirective.ENSURED_CLASSNAME] = target.prototype[MzClassNameDirective.ENSURED_CLASSNAME] || [];\n            var classNamesList = classNames.split(/\\s*/g);\n            for (var i = 0; i < classNamesList.length; i++) {\n                var element = classNamesList[i];\n                if (ensuredArray.indexOf(element) == -1)\n                    ensuredArray.push(element);\n            }\n            return target;\n        };\n    }\n    MzClassNameDirective.EnsureClassName = EnsureClassName;\n})(MzClassNameDirective || (MzClassNameDirective = {}));\n/// <reference path=\"../Widget.ts\" />\n/// <reference path=\"className.ts\" />\nvar MzVisibleDirective = (function (_super) {\n    __extends(MzVisibleDirective, _super);\n    function MzVisibleDirective() {\n        _super.apply(this, arguments);\n    }\n    MzVisibleDirective.prototype.mount = function () {\n        var _this = this;\n        this.listener = this.widget.on('class_changed', function () { return _this.changed(_this.value); });\n    };\n    MzVisibleDirective.prototype.unmount = function () {\n        this.listener.off();\n        this.listener = null;\n    };\n    MzVisibleDirective.prototype.changed = function (val) {\n        if (CBool(val)) {\n            mz.dom.adapter.removeClass(this.widget.rootNode, MzVisibleDirective.vendorHiddenClass);\n            try {\n                mz.dom.adapter.removeAttribute(this.widget.rootNode, 'aria-hidden');\n            }\n            catch (e) { }\n            try {\n                mz.dom.adapter.removeAttribute(this.widget.rootNode, mz.HIDDEN_PROP);\n            }\n            catch (e) { }\n            this._value = true;\n        }\n        else {\n            mz.dom.adapter.addClass(this.widget.rootNode, MzVisibleDirective.vendorHiddenClass);\n            try {\n                mz.dom.adapter.setAttribute(this.widget.rootNode, 'aria-hidden', 'true');\n            }\n            catch (e) { }\n            try {\n                mz.dom.adapter.setAttribute(this.widget.rootNode, mz.HIDDEN_PROP, mz.HIDDEN_PROP);\n            }\n            catch (e) { }\n            this._value = false;\n        }\n    };\n    MzVisibleDirective.vendorHiddenClass = 'mz-hidden';\n    MzVisibleDirective = __decorate([\n        /// <reference path=\"../Widget.ts\" />\n        mz.AttributeDirective.Register(\"visible\"), \n        __metadata('design:paramtypes', [])\n    ], MzVisibleDirective);\n    return MzVisibleDirective;\n})(mz.AttributeDirective);\nvar mz;\n(function (mz) {\n    var view;\n    (function (view) {\n        function html(literalSections) {\n            var substs = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                substs[_i - 1] = arguments[_i];\n            }\n            // Use raw literal sections: we dont want\n            // backslashes (\\n etc.) to be interpreted\n            var raw = literalSections.raw;\n            var result = '';\n            substs.forEach(function (subst, i) {\n                // Retrieve the literal section preceding\n                // the current substitution\n                var lit = raw[i];\n                // In the example, map() returns an array:\n                // If substitution is an array (and not a string),\n                // we turn it into a string\n                if (Array.isArray(subst)) {\n                    subst = subst.join('');\n                }\n                // If the substitution is preceded by a dollar sign,\n                // we dont escape special characters in it\n                if (!lit.endsWith('$')) {\n                    subst = html.escape(subst);\n                }\n                else {\n                    lit = lit.slice(0, -1);\n                }\n                result += lit;\n                result += subst;\n            });\n            // Take care of last literal section\n            // (Never fails, because an empty template string\n            // produces one literal section, an empty string)\n            result += raw[raw.length - 1]; // (A)\n            return result;\n        }\n        view.html = html;\n    })(view = mz.view || (mz.view = {}));\n})(mz || (mz = {}));\nvar mz;\n(function (mz) {\n    var view;\n    (function (view) {\n        var html;\n        (function (html) {\n            function escape(str) {\n                if (str === undefined || str == null)\n                    return '';\n                if (str === false || str === false)\n                    return str ? 'true' : 'false';\n                return str && (str = str.toString()) && str.replace(/&/g, '&amp;') // first!\n                    .replace(/>/g, '&gt;')\n                    .replace(/</g, '&lt;')\n                    .replace(/\"/g, '&quot;')\n                    .replace(/'/g, '&#39;')\n                    .replace(/`/g, '&#96;');\n            }\n            html.escape = escape;\n        })(html = view.html || (view.html = {}));\n    })(view = mz.view || (mz.view = {}));\n})(mz || (mz = {}));\n/// <reference path=\"../view/Widget.ts\" />\nvar mz;\n(function (mz) {\n    var widgets;\n    (function (widgets) {\n        var localCssRe = /(:local)(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)/gim; // http://regexper.com/\n        function transformCssLocal(cssText, parentSelector) {\n            return cssText.replace(localCssRe, function () {\n                return parentSelector + ' ' + (arguments[2] || '') + (arguments[3] || '');\n            });\n        }\n        var StyleComponent = (function (_super) {\n            __extends(StyleComponent, _super);\n            function StyleComponent(root, attr, children, params, parent, scope) {\n                var _this = this;\n                _super.call(this, root, attr, children, params, parent, scope);\n                this.listening.push(parent.on('id_changed', function (val) {\n                    _this.parent_selector = val;\n                    _this.update();\n                }));\n                if ('MutationObserver' in mz.globalContext) {\n                    this.observer = new MutationObserver(mz.screenDelayer(function () {\n                        _this.update();\n                    }));\n                    // have the observer observe foo for changes in children\n                    this.observer.observe(this.contentNode, { childList: true, subtree: true, characterData: true });\n                }\n                else {\n                    this.listening.push(parent.on('valueChanged', function () { return _this.update(); }));\n                }\n                if (this.parent_selector = parent.attr('id')) {\n                    this.update();\n                }\n                else {\n                    parent.attr('id', this.parent_selector = mz.getDOMID());\n                    this.update();\n                }\n                this.update = mz.screenDelayer(this.update, this);\n            }\n            StyleComponent.prototype.textValue_changed = function (val, prevVal) {\n                if (val !== prevVal) {\n                    var urlCss = 'data:text/css;base64,' + btoa(val);\n                    this.link.attr('href', urlCss);\n                }\n            };\n            StyleComponent.prototype.update = function () {\n                this.textValue = transformCssLocal(this.contentNode.textContent, \"#\" + this.parent_selector);\n            };\n            __decorate([\n                StyleComponent.proxy, \n                __metadata('design:type', String)\n            ], StyleComponent.prototype, \"textValue\", void 0);\n            StyleComponent = __decorate([\n                StyleComponent.RegisterComponent('style'),\n                StyleComponent.Template(\"\\n<mz-style hidden=\\\"hidden\\\" aria-hidden=\\\"true\\\" style=\\\"display:none;\\\">\\n    <link rel=\\\"stylesheet\\\" name=\\\"link\\\" />\\n    <mz-style-content />\\n</mz-style>\\n\", 'mz-style-content'),\n                StyleComponent.ConfigureUnwrapped, \n                __metadata('design:paramtypes', [Object, Object, Object, Object, Object, Object])\n            ], StyleComponent);\n            return StyleComponent;\n        })(mz.Widget);\n    })(widgets = mz.widgets || (mz.widgets = {}));\n})(mz || (mz = {}));\n/// <reference path=\"../view/Widget.ts\" />\nvar mz;\n(function (mz) {\n    var widgets;\n    (function (widgets) {\n        var MzForm = (function (_super) {\n            __extends(MzForm, _super);\n            function MzForm(rootNode, attr, children, b, c, scope) {\n                attr['tag'] = attr['tag'] || 'form';\n                this.flagAvoidReUpdate = null;\n                _super.call(this, rootNode, attr, children, b, c, scope);\n                this.children = this.generateScopedContent(scope);\n                this.primaryButton = null;\n                this.startComponent();\n                this.contentNode = this.contentNode || this.rootNode;\n                this.appendChildrens();\n                this.defaults = {};\n                this.campos = {};\n                this.camposArray = [];\n                this._findICampos(this);\n                this.checkAll = mz.screenDelayer(this.checkAll, this);\n            }\n            MzForm.prototype.value_changed = function (val, prevVal) {\n                if (!val || typeof val != \"object\") {\n                    return this.getDefaultValue();\n                }\n                if (val && typeof val === \"object\" && !this.flagAvoidReUpdate) {\n                    for (var i in this.campos) {\n                        if (i !== this.flagAvoidReUpdate && this.campos[i].value !== val[i])\n                            this.campos[i].value = val[i];\n                    }\n                }\n                this.checkAll(true);\n            };\n            MzForm.prototype.adoptInput = function (fieldName, component) {\n                var _this = this;\n                this.campos[fieldName] = component;\n                this.camposArray.push(component);\n                var defValue = component.attr('default-value');\n                if (typeof defValue != \"undefined\") {\n                    this.defaults[fieldName] = defValue;\n                }\n                this.listening.push(component.on(\"value_changed\", function (val) {\n                    (_this.value || (_this.resetForm(), _this.value))[fieldName] = val;\n                    _this.flagAvoidReUpdate = fieldName;\n                    try {\n                        _this.set('value', _this.value);\n                    }\n                    catch (e) {\n                        console.error(e);\n                    }\n                    _this.flagAvoidReUpdate = null;\n                }));\n            };\n            MzForm.prototype._findICampos = function (component) {\n                var _this = this;\n                if (component != this) {\n                    if (component !== this) {\n                        var fieldName = component.attr('field-name');\n                        if (fieldName) {\n                            this.adoptInput(fieldName, component);\n                            return;\n                        }\n                    }\n                    else {\n                        if (component.rootNode && component.rootNode.nodeName.toLowerCase() == \"button\" && (component.attr('mz-form-primary') || component.attr('type') === \"submit\")) {\n                            this.primaryButton = component;\n                        }\n                    }\n                }\n                component && component.children && component.children.forEach(function (c) {\n                    if (c instanceof mz.Widget)\n                        _this._findICampos(c);\n                });\n            };\n            MzForm.prototype.fieldIsVisible = function (fieldName) {\n                if (fieldName in this.campos) {\n                    return this.campos[fieldName].visible;\n                }\n                return false;\n            };\n            MzForm.prototype.focus = function (field) {\n                if (!field && this.camposArray.length)\n                    this.camposArray[0].focus && this.camposArray[0].focus();\n                else if (field && field in this.campos)\n                    this.campos[field].focus && this.campos[field].focus();\n            };\n            MzForm.prototype.isValid = function () {\n                this.errors = [];\n                var cumple = true;\n                var clase = MzForm.ERROR_CLASS;\n                try {\n                    clase = this.data['error-class'] || clase;\n                }\n                catch (e) {\n                }\n                for (var i in this.campos) {\n                    if (this.campos[i] instanceof widgets.MzInput) {\n                        var err = null;\n                        try {\n                            err = this.campos[i].isValid();\n                        }\n                        catch (e) {\n                            err = e;\n                        }\n                        if (err === true) {\n                            mz.dom.adapter.removeClass(this.campos[i].rootNode, clase);\n                        }\n                        else {\n                            cumple = false;\n                            mz.dom.adapter.addClass(this.campos[i].rootNode, clase);\n                            if (typeof err === \"string\" || err instanceof Error) {\n                                console.error(err, this);\n                                this.errors.push(err);\n                            }\n                        }\n                    }\n                }\n                this.primaryButton && this.primaryButton.attr('disabled', !cumple);\n                return cumple;\n            };\n            MzForm.prototype.checkAll = function (noEmitAlert) {\n                var cumple = this.isValid();\n                if (this.errors.length) {\n                    this.emit('error', this.errors);\n                    return false;\n                }\n                return cumple;\n            };\n            MzForm.prototype.getDefaultValue = function () {\n                var obj = {};\n                for (var i in this.campos) {\n                    obj[i] = this.defaults[i];\n                }\n                return obj;\n            };\n            MzForm.prototype.resetForm = function () {\n                return this.value = this.getDefaultValue();\n            };\n            MzForm.ERROR_CLASS = 'has-error';\n            __decorate([\n                MzForm.proxy, \n                __metadata('design:type', Object)\n            ], MzForm.prototype, \"value\", void 0);\n            MzForm = __decorate([\n                mz.Widget.RegisterComponent(\"mz-form\"),\n                mz.Widget.ConfigureUnwrapped, \n                __metadata('design:paramtypes', [HTMLElement, Object, Array, Object, Object, Object])\n            ], MzForm);\n            return MzForm;\n        })(mz.widgets.MzInput);\n        widgets.MzForm = MzForm;\n    })(widgets = mz.widgets || (mz.widgets = {}));\n})(mz || (mz = {}));\n/// <reference path=\"../view/Widget.ts\" />\nvar mz;\n(function (mz) {\n    var widgets;\n    (function (widgets_1) {\n        function delegateUnmountElement(widget) {\n            if (widget && typeof widget == \"object\") {\n                if ('unmount' in widget)\n                    widget.unmount();\n                else\n                    widget.DOM && widget.DOM.remove();\n            }\n        }\n        var MzRepeat = (function (_super) {\n            __extends(MzRepeat, _super);\n            //elementCache: mz.WeakMap<any, mz.Widget[]>;\n            function MzRepeat(rootNode, attr, children, b, c, scope) {\n                _super.call(this, rootNode, attr, [], b, c, scope);\n                this.collectionKey = Symbol(\"mz-repeat-\" + mz.genUID());\n                this.ponerElem = this.ponerElem.bind(this);\n                this.delegateUnmountElements = this.delegateUnmountElements.bind(this);\n                // if the list contains elements.\n                if (this.list && this.list.length) {\n                    this.list.forEach(this.ponerElem);\n                }\n            }\n            MzRepeat.prototype.list_changed = function (list, prevList) {\n                var _this = this;\n                if (list && list == prevList) {\n                    if (list instanceof mz.Collection)\n                        return;\n                    this.redraw('refresh');\n                    return;\n                }\n                if (this.listenersLista) {\n                    this.listenersLista.forEach(function (x) { return x.off(); });\n                    this.listenersLista.length = 0;\n                }\n                else if (list) {\n                    this.listenersLista = [];\n                }\n                if (prevList && prevList != list) {\n                    // clean current collection elements\n                    prevList.forEach(this.delegateUnmountElements);\n                    this.detachAllNodes();\n                }\n                else if (prevList != list) {\n                    this.detachAllNodes();\n                }\n                if (this.list && list instanceof mz.Collection) {\n                    this.listenersLista.push(this.list.on('changed', this.redraw.bind(this)));\n                    this.listenersLista.push(this.list.on('pre_clear', function (a) { return _this.redraw('pre_clear', a); }));\n                }\n                if (this.list && this.list.length && !!this.collectionKey /* collection initialized */)\n                    this.redraw('refresh');\n            };\n            MzRepeat.prototype.unmount = function () {\n                this.list = null;\n                _super.prototype.unmount.call(this);\n            };\n            MzRepeat.prototype.ponerElem = function (itemDeLista) {\n                var dom = itemDeLista[this.collectionKey];\n                var existia = !!dom;\n                if (!existia) {\n                    itemDeLista[this.collectionKey] = dom = this.generateScopedContent(itemDeLista);\n                }\n                if (existia) {\n                    // si el elemento ya existia, llamo a refreshScope\n                    for (var index = 0; index < dom.length; index++) {\n                        var e = dom[index];\n                        if (e && (typeof e == \"object\") && 'refreshScope' in e)\n                            e.refreshScope();\n                        this.append(e);\n                    }\n                }\n                else {\n                    for (var index = 0; index < dom.length; index++) {\n                        this.append(dom[index]);\n                    }\n                }\n            };\n            MzRepeat.prototype.generateScopedContent = function (scope) {\n                var t = _super.prototype.generateScopedContent.call(this, scope);\n                this.afterAdd && this.afterAdd(t, scope);\n                return t;\n            };\n            MzRepeat.prototype.detachAllNodes = function () {\n                var child = null;\n                while (child = this.contentNode.firstChild) {\n                    this.contentNode.removeChild(child);\n                }\n            };\n            MzRepeat.prototype.delegateUnmountElements = function (elementoLista, at) {\n                if (elementoLista[this.collectionKey]) {\n                    //elementoLista[this.collectionKey].forEach(delegateUnmountElement);\n                    this.releaseScopedContent(elementoLista[this.collectionKey]);\n                    delete elementoLista[this.collectionKey];\n                }\n            };\n            MzRepeat.prototype.redraw = function (tipo, a, b) {\n                var rebuild = !tipo;\n                if (tipo == mz.Collection.EVENTS.ElementChanged && this.collectionKey in b) {\n                    var widgets_2 = b[this.collectionKey];\n                    for (var i = 0; i < widgets_2.length; i++) {\n                        var e = widgets_2[i];\n                        if (e && e.refreshScope) {\n                            e.refreshScope();\n                        }\n                    }\n                }\n                else if (tipo == mz.Collection.EVENTS.ElementInserted || tipo == mz.Collection.EVENTS.ElementChanged) {\n                    this.ponerElem(b);\n                }\n                else if (tipo == mz.Collection.EVENTS.ElementRemoved && b && b[this.collectionKey]) {\n                    this.delegateUnmountElements(b);\n                }\n                else if (tipo == mz.Collection.EVENTS.CollectionSorted) {\n                    rebuild = true;\n                }\n                else if (tipo == \"refresh\") {\n                    this.detachAllNodes();\n                    rebuild = true;\n                }\n                else if (tipo == mz.Collection.EVENTS.BeforeClearCollection) {\n                    this.list.forEach(this.delegateUnmountElements);\n                    return;\n                }\n                if (tipo == mz.Collection.EVENTS.AfterClearCollection || rebuild) {\n                    this.detachAllNodes();\n                }\n                if (rebuild && this.list.length) {\n                    this.list.forEach(this.ponerElem);\n                }\n            };\n            __decorate([\n                mz.MVCObject.proxy, \n                __metadata('design:type', Object)\n            ], MzRepeat.prototype, \"list\", void 0);\n            __decorate([\n                mz.MVCObject.proxy, \n                __metadata('design:type', Function)\n            ], MzRepeat.prototype, \"afterAdd\", void 0);\n            MzRepeat = __decorate([\n                mz.Widget.RegisterComponent(\"mz-repeat\"),\n                mz.Widget.ConfigureEmptyTag, \n                __metadata('design:paramtypes', [HTMLElement, Object, Array, Object, Object, Object])\n            ], MzRepeat);\n            return MzRepeat;\n        })(mz.Widget);\n        widgets_1.MzRepeat = MzRepeat;\n    })(widgets = mz.widgets || (mz.widgets = {}));\n})(mz || (mz = {}));\n\n\n\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"sourceRoot":"/source/"}